{"schemaVersion":{"patch":0,"major":0,"minor":3},"sampleCodeDownload":{"action":{"identifier":"https:\/\/developer.apple.com\/wwdc18\/711","type":"reference","isActive":true,"overridingTitle":"Watch Video (31 min)"},"kind":"sampleDownload"},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc18-711-using-grouped-notifications"]}],"metadata":{"modules":[{"name":"WWDC Notes"}],"title":"Using Grouped Notifications","role":"sampleCode","roleHeading":"WWDC18"},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18"]]},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-711-Using-Grouped-Notifications"},"sections":[],"abstract":[{"type":"text","text":"Grouping the notifications your app sends helps people get more information at a glance and manage multiple notifications at once. Learn how to implement Grouped Notifications in your app."}],"primaryContentSections":[{"content":[{"anchor":"Introduction","text":"Introduction","level":2,"type":"heading"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"iOS 12 introduces grouping of notifications. The aim is to help organize content for users."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Part of these changes include summaries displayed on the ","type":"text"},{"type":"strong","inlineContent":[{"text":"Lead Notification","type":"text"}]},{"text":" (top of the group stack). These can be customized to provide clarity for the user about the notifications grouped.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Grouping can be customized through the ‘thread-identifier’ key in the push payload.","type":"text"}]}]}],"type":"unorderedList"},{"anchor":"Strategies","text":"Strategies","level":2,"type":"heading"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Basically this session is just a list of suggestions on how to use grouping in your app"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Apps can adopt different grouping strategies. Ex. Calendar groups informative updates from actionable events. Ex. mail allows user preferences to alter the grouping of content. Ex. Messages groups based on conversations.","type":"text"}]},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Separate important, actionable notifications from informative updates."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Create groups for meaningful personal communications","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Respect the users priorities and organization."}]}]}],"type":"unorderedList"}]}],"type":"unorderedList"},{"anchor":"Notification-Group-Summary","text":"Notification Group Summary","level":2,"type":"heading"},{"items":[{"content":[{"inlineContent":[{"text":"Group summaries can be customized (more content to read \/ number in the group\/ the people in the conversation).","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"The basic version, is done  by providing a summary format in the push notification category:","type":"text"}]}]}],"type":"unorderedList"},{"code":["let summaryFormat = \"%u more messages\"","","return UNNotificationCategory(","\tidentifier: \"category-identifier\",","\tactions: [],","\tintentIdentifiers: [], ","\thiddenPreviewsBodyPlaceholder: nil,","\tcategorySummaryFormat: summaryFormat,","\toptions: []",") "],"type":"codeListing","syntax":"swift"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Alternatively, we also have a "},{"type":"codeVoice","code":"hiddenPreviewPlaceholder"},{"type":"text","text":" (this is used when the phone is locked and the notifications are private):"}]}]}],"type":"unorderedList"},{"code":["let summaryFormat= \"%u more messages\"","let hiddenPreviewsPlaceholder = \"%u messages\" ","","return UNNotificationCategory(","\tidentifier: \"category-identifier\", ","\tactions: [], ","  intentIdentifiers: [], ","  hiddenPreviewsBodyPlaceholder: hiddenPreviewsPlaceholder,","  categorySummaryFormat: summaryFormat,","  options: []",") "],"type":"codeListing","syntax":"swift"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"If we want something more than just the number of notifications such as:"},{"type":"text","text":" "},{"type":"image","identifier":"WWDC18-711-pizza"},{"type":"text","text":" "},{"type":"text","text":"We need to pass the placeholders in the summary format:"}]}]}]},{"code":["let summaryFormat = \"%u more messages from %@\"","","return UNNotificationCategory(","\tidentifier: \"group-messages\",","\tactions: [], ","  intentIdentifiers: [], ","  hiddenPreviewsBodyPlaceholder: nil,","  categorySummaryFormat: summaryFormat,","  options: []",")"],"type":"codeListing","syntax":"swift"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Then we will pass the other parameters in the notification content:","type":"text"}]}]}]},{"code":["\/\/ Notification Group Summary Argument ","","let content = UNMutableNotificationContent()","content.body = \"...\"","content.threadIdentifier = \"notifications-team\" ","content.summaryArgument= \"Kritarth\" "],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Note that iOS will collect multiple values of the summaryArgument and format them for us"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"In the previous examples the %u was matching the number of notifications that we had in that group, but sometimes a notification is like “you have two new messages”, so how can I summarize this?"},{"type":"text","text":" "},{"type":"text","text":"Easy, new property in the notification content:"}],"type":"paragraph"}]}]},{"code":["let content = UNMutableNotificationContent() ","content.body = \"...\"","content.threadIdentifier = \"...\"","content.summaryArgument = \"Song by Song\" ","content.summaryArgumentCount = 3 "],"type":"codeListing","syntax":"swift"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Localization for summaries can be handled locally from the app via plist bundled with the app","type":"text"}]}]}]},{"text":"Written By","anchor":"Written-By","type":"heading","level":2},{"type":"row","columns":[{"size":1,"content":[{"type":"paragraph","inlineContent":[{"identifier":"https:\/\/avatars.githubusercontent.com\/u\/5277837?v=4","type":"image"}]}]},{"size":4,"content":[{"level":3,"type":"heading","text":"Federico Zanetello","anchor":"Federico-Zanetello"},{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"overridingTitle":"Contributed Notes","overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/zntfdr"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/zntfdr.dev"}]}]}],"numberOfColumns":5},{"type":"paragraph","inlineContent":[{"text":"Missing anything? Corrections? ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/wwdcnotes.github.io\/WWDCNotes\/documentation\/wwdcnotes\/contributing"}]},{"text":"Related Sessions","anchor":"Related-Sessions","type":"heading","level":2},{"type":"links","style":"list","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-202-Whats-New-in-Cocoa-Touch","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-710-Whats-New-in-User-Notifications","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-806-Designing-Notifications"]},{"type":"small","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Legal Notice"}]}]},{"type":"small","inlineContent":[{"type":"text","text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}]}],"kind":"content"}],"kind":"article","references":{"WWDC18-711-pizza":{"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC18-711-pizza.png"}],"identifier":"WWDC18-711-pizza","alt":null},"WWDCNotes.png":{"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes.png"}],"identifier":"WWDCNotes.png","alt":null},"doc://WWDCNotes/documentation/WWDCNotes/WWDC18-202-Whats-New-in-Cocoa-Touch":{"abstract":[{"text":"iOS 12 enhances the Cocoa Touch frameworks to improve app performance and deliver exciting new features. Learn about performance best practices, security improvements, tools for supporting multiple screen sizes and shapes, new APIs for iMessage apps, Siri Shortcuts, and Swift refinements. Find out which sessions you won’t want to miss throughout the week.","type":"text"}],"type":"topic","kind":"article","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-202-Whats-New-in-Cocoa-Touch","url":"\/documentation\/wwdcnotes\/wwdc18-202-whats-new-in-cocoa-touch","title":"What’s New in Cocoa Touch"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC18":{"url":"\/documentation\/wwdcnotes\/wwdc18","images":[{"type":"icon","identifier":"WWDCNotes.png"}],"title":"WWDC18","role":"collectionGroup","type":"topic","kind":"article","abstract":[{"text":"Xcode 10, Swift 4.2, iOS 12, macOS 10.14 (Mojave), tvOS 12, watchOS 5.","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18"},"https://github.com/zntfdr":{"title":"GitHub","url":"https:\/\/github.com\/zntfdr","type":"link","titleInlineContent":[{"text":"GitHub","type":"text"}],"identifier":"https:\/\/github.com\/zntfdr"},"doc://WWDCNotes/documentation/WWDCNotes/zntfdr":{"kind":"article","url":"\/documentation\/wwdcnotes\/zntfdr","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","abstract":[{"type":"text","text":"Software engineer with a strong passion for well-written code, thought-out composable architectures, automation, tests, and more."}],"type":"topic","title":"Federico Zanetello (332 notes)","role":"sampleCode"},"https://zntfdr.dev":{"title":"Blog","url":"https:\/\/zntfdr.dev","type":"link","titleInlineContent":[{"text":"Blog","type":"text"}],"identifier":"https:\/\/zntfdr.dev"},"https://avatars.githubusercontent.com/u/5277837?v=4":{"type":"image","variants":[{"traits":["1x","light"],"url":"https:\/\/avatars.githubusercontent.com\/u\/5277837?v=4"}],"identifier":"https:\/\/avatars.githubusercontent.com\/u\/5277837?v=4","alt":"Profile image of Federico Zanetello"},"https://wwdcnotes.github.io/WWDCNotes/documentation/wwdcnotes/contributing":{"title":"Contributions are welcome!","url":"https:\/\/wwdcnotes.github.io\/WWDCNotes\/documentation\/wwdcnotes\/contributing","type":"link","titleInlineContent":[{"text":"Contributions are welcome!","type":"text"}],"identifier":"https:\/\/wwdcnotes.github.io\/WWDCNotes\/documentation\/wwdcnotes\/contributing"},"doc://WWDCNotes/documentation/WWDCNotes":{"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","title":"WWDC Notes","url":"\/documentation\/wwdcnotes","kind":"symbol","role":"collection","abstract":[{"text":"Session notes shared by the community for the community.","type":"text"}],"images":[{"identifier":"WWDCNotes.png","type":"icon"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC18-710-Whats-New-in-User-Notifications":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-710-Whats-New-in-User-Notifications","type":"topic","abstract":[{"text":"Local and push notifications enable your app to keep users informed with timely and relevant content, by displaying messages and accepting users’ actions, or playing distinctive sounds, or updating the badge on your app icon. Improvements to rich notifications help you create more engaging content and better manage notifications. Find out what’s new and get expert advice on implementing user notifications in your app.","type":"text"}],"role":"sampleCode","title":"What’s New in User Notifications","kind":"article","url":"\/documentation\/wwdcnotes\/wwdc18-710-whats-new-in-user-notifications"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC18-806-Designing-Notifications":{"role":"sampleCode","title":"Designing Notifications","url":"\/documentation\/wwdcnotes\/wwdc18-806-designing-notifications","kind":"article","type":"topic","abstract":[{"type":"text","text":"Thoughtfully designed notifications are a powerful way to communicate timely information to people that they will find valuable and useful. Learn how you can design notifications people want to receive by making them beautiful, helpful, actionable, and respectful of their valuable time and attention."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-806-Designing-Notifications"},"https://developer.apple.com/wwdc18/711":{"url":"https:\/\/developer.apple.com\/wwdc18\/711","type":"download","identifier":"https:\/\/developer.apple.com\/wwdc18\/711","checksum":null}}}