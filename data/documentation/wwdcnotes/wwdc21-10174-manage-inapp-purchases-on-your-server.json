{"kind":"article","metadata":{"roleHeading":"WWDC21","modules":[{"name":"WWDC Notes"}],"role":"sampleCode","title":"Manage in-app purchases on your server"},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc21-10174-manage-inapp-purchases-on-your-server"]}],"sections":[],"schemaVersion":{"patch":0,"minor":3,"major":0},"sampleCodeDownload":{"action":{"overridingTitle":"Watch Video (33 min)","identifier":"https:\/\/developer.apple.com\/wwdc21\/10174","type":"reference","isActive":true},"kind":"sampleDownload"},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21"]]},"primaryContentSections":[{"content":[{"anchor":"overview","type":"heading","text":"Overview","level":2},{"type":"paragraph","inlineContent":[{"text":"üò± ‚ÄúNo Overview Available!‚Äù","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Be the hero to change that by watching the video and providing notes! It‚Äôs super easy:"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"}]},{"type":"heading","text":"Related Sessions","anchor":"Related-Sessions","level":2},{"type":"links","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10007-Whats-new-with-inapp-purchase","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10039-Whats-new-in-StoreKit-testing","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10040-Explore-inapp-purchase-integration-and-migration","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10114-Meet-StoreKit-2","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10175-Support-customers-and-handle-refunds","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10661-Whats-new-with-inapp-purchase","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-302-InApp-Purchases-and-Using-ServertoServer-Notifications"],"style":"list"},{"type":"small","inlineContent":[{"inlineContent":[{"text":"Legal Notice","type":"text"}],"type":"strong"}]},{"type":"small","inlineContent":[{"type":"text","text":"All content copyright ¬© 2012 ‚Äì 2024 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}]}],"kind":"content"}],"abstract":[{"text":"Discover the latest updates to managing in-app purchases on your server. Explore how you can use servers to track status changes, handle refunds, and manage subscriber status. Learn about App Store server APIs around status and in-app purchase transactions, and find out how App Store server notifications can help you track more customer lifecycle events. We‚Äôll also take you through managing Family Sharing for in-app purchases, and the latest improvements to testing in-app purchases in the sandbox environment.","type":"text"}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10174-Manage-inapp-purchases-on-your-server"},"references":{"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-302-InApp-Purchases-and-Using-ServertoServer-Notifications":{"type":"topic","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-302-InApp-Purchases-and-Using-ServertoServer-Notifications","url":"\/documentation\/wwdcnotes\/wwdc19-302-inapp-purchases-and-using-servertoserver-notifications","kind":"article","title":"In-App Purchases and Using Server-to-Server Notifications","abstract":[{"type":"text","text":"Learn about the latest updates in StoreKit and dive deep into best practices for using server-to-server notifications to manage your subscribers."}]},"WWDC21-Icon.png":{"alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC21-Icon.png"}],"type":"image","identifier":"WWDC21-Icon.png"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10040-Explore-inapp-purchase-integration-and-migration":{"url":"\/documentation\/wwdcnotes\/wwdc22-10040-explore-inapp-purchase-integration-and-migration","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10040-Explore-inapp-purchase-integration-and-migration","title":"Explore in-app purchase integration and migration","abstract":[{"type":"text","text":"Learn how you can migrate to the latest App Store Server APIs and incorporate App Store Server Notifications. We‚Äôll help you get started with these tools and provide best practices to make the most of managing in-app purchases on your server. Discover how you can sign JSON Web Tokens, verify signed transactions, and migrate from verifyReceipt."}],"type":"topic","kind":"article"},"https://developer.apple.com/wwdc21/10174":{"url":"https:\/\/developer.apple.com\/wwdc21\/10174","checksum":null,"type":"download","identifier":"https:\/\/developer.apple.com\/wwdc21\/10174"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","title":"Learn More‚Ä¶","titleInlineContent":[{"text":"Learn More‚Ä¶","type":"text"}],"type":"link","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10039-Whats-new-in-StoreKit-testing":{"url":"\/documentation\/wwdcnotes\/wwdc22-10039-whats-new-in-storekit-testing","kind":"article","abstract":[{"type":"text","text":"Discover the latest tools to help you test your in-app purchases and subscriptions. We‚Äôll show you how to bring your products from App Store Connect into StoreKit Testing in Xcode, learn about improvements to the transaction manager, and explore your in-app purchase flow in Xcode Previews. We‚Äôll also take you through best practices when setting up an Apple ID for the sandbox environment, and show you how to create tests for refund requests, price increase consent, billing retry, and much more."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10039-Whats-new-in-StoreKit-testing","title":"What‚Äôs new in StoreKit testing","role":"sampleCode","type":"topic"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21":{"title":"WWDC21","kind":"article","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc21","role":"collectionGroup","images":[{"identifier":"WWDC21-Icon.png","type":"icon"},{"identifier":"WWDC21.jpeg","type":"card"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21","abstract":[{"type":"text","text":"Xcode 13, Swift 5.5, iOS 15, macOS 12 (Monterey), tvOS 15, watchOS 8."},{"type":"text","text":" "},{"type":"text","text":"New APIs: "},{"type":"codeVoice","code":"MusicKit"},{"type":"text","text":", "},{"type":"codeVoice","code":"DocC"},{"type":"text","text":", "},{"type":"codeVoice","code":"StoreKit 2"},{"type":"text","text":", and more."}]},"doc://WWDCNotes/documentation/WWDCNotes":{"kind":"symbol","abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"role":"collection","images":[{"identifier":"WWDCNotes.png","type":"icon"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","type":"topic","url":"\/documentation\/wwdcnotes","title":"WWDC Notes"},"WWDC21.jpeg":{"alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC21.jpeg"}],"type":"image","identifier":"WWDC21.jpeg"},"WWDCNotes.png":{"alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes.png"}],"type":"image","identifier":"WWDCNotes.png"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10661-Whats-new-with-inapp-purchase":{"role":"sampleCode","type":"topic","abstract":[{"type":"text","text":"Create a great in-app purchase experience for your iPhone, iPad, Mac, and Apple Watch apps. Discover how to handle refunds, integrate new App Store server notifications, and find out how to use receipts and server notifications to manage subscriber status. We‚Äôll also walk you through the latest updates in StoreKit, including in-app purchases on Apple Watch, Family Sharing, SKOverlay, SKAdNetwork, and more."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10661-Whats-new-with-inapp-purchase","url":"\/documentation\/wwdcnotes\/wwdc20-10661-whats-new-with-inapp-purchase","title":"What‚Äôs new with in-app purchase","kind":"article"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10114-Meet-StoreKit-2":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10114-Meet-StoreKit-2","url":"\/documentation\/wwdcnotes\/wwdc21-10114-meet-storekit-2","type":"topic","title":"Meet StoreKit 2","role":"sampleCode","abstract":[{"type":"text","text":"StoreKit 2 delivers powerful, Swift-native APIs for in-app purchases and auto-renewable subscriptions. Learn how you can easily implement in-app purchases and subscriptions, and discover APIs for retrieving product information, handling transactions, determining product entitlements and customer status, as well as comprehensive testing support in Xcode."}],"kind":"article"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10175-Support-customers-and-handle-refunds":{"type":"topic","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10175-Support-customers-and-handle-refunds","url":"\/documentation\/wwdcnotes\/wwdc21-10175-support-customers-and-handle-refunds","kind":"article","title":"Support customers and handle refunds","abstract":[{"type":"text","text":"Great customer support is critical to running a successful business on the App Store. Discover how you can provide a frictionless support experience to customers who make in-app purchases, including APIs that make it easy for customers to manage or cancel their auto-renewable subscription, or request refunds from directly within your app. We‚Äôll cover best practices for handling refunds, as well as additional APIs that can help you better support your customers."}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10007-Whats-new-with-inapp-purchase":{"abstract":[{"type":"text","text":"Learn how you can make your in-app purchase experience even better on iPhone, iPad, Mac, and Apple Watch. We‚Äôll take you through enhancements to StoreKit 2 and App Store Server API, and explore improvements to App Store Server Notifications. Discover how you can verify app purchases with App Transaction API, add properties to your StoreKit models, incorporate SwiftUI-friendly APIs and StoreKit Messages, and preserve applicationUsername in transactions. For those working server-side, we‚Äôll show you how to make the most of App Store Server Notifications, additional ways to retrieve user transaction history, and recovery steps when your server experiences an outage."}],"role":"sampleCode","type":"topic","kind":"article","title":"What‚Äôs new with in-app purchase","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10007-Whats-new-with-inapp-purchase","url":"\/documentation\/wwdcnotes\/wwdc22-10007-whats-new-with-inapp-purchase"}}}