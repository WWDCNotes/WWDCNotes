{"sections":[],"metadata":{"roleHeading":"WWDC19","modules":[{"name":"WWDC Notes"}],"role":"sampleCode","title":"What’s New for Web Developers"},"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-518-Whats-New-for-Web-Developers","interfaceLanguage":"swift"},"abstract":[{"text":"WebKit provides a rich set of classes designed to load, display, and manage web content in your app. Discover how to integrate your web content into powerful platform features including Dark Mode, new presentation features in Share Sheet, JavaScript payment APIs for Apple Pay, and more.","type":"text"}],"primaryContentSections":[{"content":[{"level":2,"type":"heading","anchor":"Dark-Mode","text":"Dark Mode"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Add ","type":"text"},{"code":":root { color-scheme: light dark; ... }","type":"codeVoice"},{"text":" to tell WebKit that the entire page supports dark mode","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Adapting custom CSS styles with "},{"type":"codeVoice","code":"@media (prefers-color-scheme: dark) { ... }"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Adapting images using "},{"type":"codeVoice","code":"<picture><source srcset=\"dark.jpg\" media=\"(prefers-color-scheme: dark)\"> <img src=\"light.jpg\"><\/picture>"}]}]},{"content":[{"inlineContent":[{"text":"Adapting dynamic content via the JS ","type":"text"},{"type":"strong","inlineContent":[{"text":"match media API","type":"text"}]}],"type":"paragraph"}]}]},{"anchor":"WebShare","text":"WebShare","type":"heading","level":2},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Native share sheet from within web content"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Uses all the improvements made in iOS 13 to the native share sheet"}]}]},{"content":[{"inlineContent":[{"text":"Add ","type":"text"},{"code":"await navigator.share({title: \"\", text: \"\", url: \"\"})","type":"codeVoice"},{"text":" to e.g. a buttons event listener","type":"text"}],"type":"paragraph"}]}]},{"anchor":"New-Media-Features","text":"New Media Features","type":"heading","level":2},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Checking the device’s capabilities using the new "},{"inlineContent":[{"text":"Media Capability API","type":"text"}],"type":"strong"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Support for ","type":"text"},{"type":"strong","inlineContent":[{"text":"Alpha Channel Video","type":"text"}]},{"text":" (ACV) in iOS 13 and macOS Catalina","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Make sure that ACV is available on underlying device by adding an alpha channel key to capability object: ","type":"text"},{"code":"alphaChannel: true","type":"codeVoice"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Check via "},{"code":"if(capabilities.supported && capabilities.supportedConfiguration.video.alphaChannel) {} else {}","type":"codeVoice"}]}]}]}]}]},{"anchor":"WebRTC-Screen-Capture","text":"WebRTC Screen Capture","type":"heading","level":2},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Prompt the user for permission via "},{"code":"navigator.mediaDevices.getDisplayMedia({ video: true }).then((stream) => {...}","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"stream"},{"type":"text","text":" contains capture of the space containing the Safari window"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Can be used to share your screen"}]}]}]},{"type":"heading","anchor":"Tools-for-Improving-Performance","level":2,"text":"Tools for Improving Performance"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Web Inspector adds a new "},{"inlineContent":[{"text":"CPU Timeline","type":"text"}],"type":"strong"},{"type":"text","text":" packed with actionable information"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"There is a post on the WebKit blog and a WWDC session video called "},{"type":"reference","identifier":"https:\/\/developer.apple.com\/wwdc19\/513","isActive":true}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"WebDriver on iOS for automation and regression testing","type":"text"}]}]}]},{"type":"heading","anchor":"Storing-Structured-Data","level":2,"text":"Storing Structured Data"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Added IndexedDB and completely removed WebSQL in Safari 13","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"All modern browsers support ","type":"text"},{"code":"IndexedDB","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Transition as asap","type":"text"}],"type":"paragraph"}]}]},{"type":"heading","anchor":"Apple-Pay","level":2,"text":"Apple Pay"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Fully supported using the ","type":"text"},{"inlineContent":[{"text":"Payment Request API","type":"text"}],"type":"strong"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Use Apple Pay in ","type":"text"},{"type":"codeVoice","code":"WKWebView"},{"text":" on iOS 13","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Denied if script has ever been injected"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Future script injections denied if Apple Pay ever requested"}]}]},{"content":[{"inlineContent":[{"text":"Restrictions are reset during navigation","type":"text"}],"type":"paragraph"}]}]}]},{"content":[{"inlineContent":[{"code":"canMakePayments","type":"codeVoice"},{"text":" must be called before showing an Apple Pay button or doing anything using Apple Pay","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Prefer WebKit APIs instead of using JS when possible"}]}]}]},{"type":"heading","anchor":"Written-By","level":2,"text":"Written By"},{"type":"row","columns":[{"size":1,"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"Blackjacx"}]}]},{"size":4,"content":[{"text":"Stefan Herold","type":"heading","anchor":"Stefan-Herold","level":3},{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/Blackjacx","overridingTitle":"Contributed Notes","overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}]},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/Blackjacx"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/x.com\/blackjacxxx"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/www.stefan-herold.net"}]}]}],"numberOfColumns":5},{"type":"paragraph","inlineContent":[{"text":"Missing anything? Corrections? ","type":"text"},{"isActive":true,"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"reference"}]},{"type":"heading","anchor":"Related-Sessions","level":2,"text":"Related Sessions"},{"type":"links","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-203-Introducing-Desktopclass-Browsing-on-iPad","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-506-HEVC-Video-with-Alpha","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-511-Supporting-Dark-Mode-in-Your-Web-Content","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-513-Understanding-CPU-Usage-with-Web-Inspector","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-514-Auditing-Web-Content-with-Web-Inspector"],"style":"list"},{"type":"small","inlineContent":[{"inlineContent":[{"text":"Legal Notice","type":"text"}],"type":"strong"}]},{"type":"small","inlineContent":[{"type":"text","text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}]}],"kind":"content"}],"schemaVersion":{"minor":3,"major":0,"patch":0},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19"]]},"kind":"article","variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc19-518-whats-new-for-web-developers"],"traits":[{"interfaceLanguage":"swift"}]}],"sampleCodeDownload":{"kind":"sampleDownload","action":{"overridingTitle":"Watch Video (12 min)","isActive":true,"identifier":"https:\/\/developer.apple.com\/wwdc19\/518","type":"reference"}},"references":{"Blackjacx.jpeg":{"alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/Blackjacx.jpeg"}],"identifier":"Blackjacx.jpeg","type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-203-Introducing-Desktopclass-Browsing-on-iPad":{"abstract":[{"text":"iOS 13 brings desktop-class browsing to iPad. With blazing-fast performance, industry-leading security, and modern desktop features, Safari on iPad supports the latest web standards designed and automatically adapts desktop sites and web apps to touch in order to deliver a rich browsing experience. Learn how your site or embedded WebView can take advantage of powerful new features and coding best practices to deliver a best-in class user experience for iPad.","type":"text"}],"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-203-Introducing-Desktopclass-Browsing-on-iPad","url":"\/documentation\/wwdcnotes\/wwdc19-203-introducing-desktopclass-browsing-on-ipad","kind":"article","title":"Introducing Desktop-class Browsing on iPad","role":"sampleCode"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-506-HEVC-Video-with-Alpha":{"title":"HEVC Video with Alpha","role":"sampleCode","kind":"article","url":"\/documentation\/wwdcnotes\/wwdc19-506-hevc-video-with-alpha","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-506-HEVC-Video-with-Alpha","abstract":[{"text":"With the addition of alpha channel support for HEVC video, you can now composite video over custom backgrounds in both your apps and on the web. Learn how to author compatible media, and the best practices for playback.","type":"text"}]},"doc://WWDCNotes/documentation/WWDCNotes":{"kind":"symbol","url":"\/documentation\/wwdcnotes","abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"title":"WWDC Notes","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","role":"collection","images":[{"identifier":"WWDCNotes.png","type":"icon"}]},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","titleInlineContent":[{"type":"text","text":"Contributions are welcome!"}],"type":"link","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","title":"Contributions are welcome!"},"doc://WWDCNotes/documentation/WWDCNotes/Blackjacx":{"abstract":[{"text":"iOS Engineer a.d. 2009 • iOS \/ OSX Enthusiast • WWDC19 • Past: flinc, Deutsche Telekom, NOLTE&LAUTH • Passionate Mountainbiker","type":"text"}],"url":"\/documentation\/wwdcnotes\/blackjacx","images":[{"type":"card","identifier":"Blackjacx.jpeg"},{"type":"icon","identifier":"Blackjacx.jpeg"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/Blackjacx","type":"topic","kind":"article","role":"sampleCode","title":"Stefan Herold (28 notes)"},"https://x.com/blackjacxxx":{"identifier":"https:\/\/x.com\/blackjacxxx","titleInlineContent":[{"type":"text","text":"X\/Twitter"}],"type":"link","url":"https:\/\/x.com\/blackjacxxx","title":"X\/Twitter"},"https://developer.apple.com/wwdc19/518":{"identifier":"https:\/\/developer.apple.com\/wwdc19\/518","type":"download","url":"https:\/\/developer.apple.com\/wwdc19\/518","checksum":null},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-511-Supporting-Dark-Mode-in-Your-Web-Content":{"kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-511-Supporting-Dark-Mode-in-Your-Web-Content","role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc19-511-supporting-dark-mode-in-your-web-content","type":"topic","abstract":[{"text":"With system-wide Dark Mode support in iOS and macOS, you’ll want to make sure your web content is appropriately styled to reflect your users’  preference. Learn techniques to ensure your content looks its best when presented in Safari, embedded in other apps such as Mail, or when used in your apps. Discover the details and best practices for this new pillar in responsive web design.","type":"text"}],"title":"Supporting Dark Mode in Your Web Content"},"Blackjacx":{"alt":"Profile image of Stefan Herold","variants":[{"traits":["1x","light"],"url":"\/images\/Blackjacx.jpeg"}],"identifier":"Blackjacx","type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-513-Understanding-CPU-Usage-with-Web-Inspector":{"role":"sampleCode","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc19-513-understanding-cpu-usage-with-web-inspector","title":"Understanding CPU Usage with Web Inspector","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-513-Understanding-CPU-Usage-with-Web-Inspector","abstract":[{"text":"As a developer of web content, you play an important role in fulfilling customer expectations for a high performance web experience while minimizing power use across all their devices. Discover new insights on how you can improve the power efficiency of your webpages in Safari, or embedded web content in your apps, by using this powerful new tool in Web Inspector. Learn new strategies to help you deliver dynamic experiences that use less CPU and save battery life.","type":"text"}],"kind":"article"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-514-Auditing-Web-Content-with-Web-Inspector":{"role":"sampleCode","title":"Auditing Web Content with Web Inspector","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-514-Auditing-Web-Content-with-Web-Inspector","url":"\/documentation\/wwdcnotes\/wwdc19-514-auditing-web-content-with-web-inspector","kind":"article","abstract":[{"text":"Discover a new way to ensure your web content meets team coding standards and that you can deliver better code even without reliance on automated test systems. Find out how to use the Audit tool in Web Inspector to quickly and easily audit your web content during development so important compliance details don’t slip by.","type":"text"}],"type":"topic"},"https://developer.apple.com/wwdc19/513":{"identifier":"https:\/\/developer.apple.com\/wwdc19\/513","titleInlineContent":[{"type":"text","text":"Understanding CPU Usage with Web Inspector"}],"type":"link","url":"https:\/\/developer.apple.com\/wwdc19\/513","title":"Understanding CPU Usage with Web Inspector"},"WWDC19.jpeg":{"alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC19.jpeg"}],"identifier":"WWDC19.jpeg","type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19":{"images":[{"identifier":"WWDC19-Icon.png","type":"icon"},{"identifier":"WWDC19.jpeg","type":"card"}],"type":"topic","role":"collectionGroup","title":"WWDC19","abstract":[{"text":"Xcode 11, Swift 5.1, iOS 13, macOS 10.15 (Catalina), tvOS 13, watchOS 6.","type":"text"},{"text":" ","type":"text"},{"text":"New APIs: ","type":"text"},{"type":"codeVoice","code":"Combine"},{"text":", ","type":"text"},{"type":"codeVoice","code":"Core Haptics"},{"text":", ","type":"text"},{"type":"codeVoice","code":"Create ML"},{"text":", and more.","type":"text"}],"url":"\/documentation\/wwdcnotes\/wwdc19","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19"},"https://github.com/Blackjacx":{"identifier":"https:\/\/github.com\/Blackjacx","titleInlineContent":[{"type":"text","text":"GitHub"}],"type":"link","url":"https:\/\/github.com\/Blackjacx","title":"GitHub"},"https://www.stefan-herold.net":{"identifier":"https:\/\/www.stefan-herold.net","titleInlineContent":[{"type":"text","text":"Blog"}],"type":"link","url":"https:\/\/www.stefan-herold.net","title":"Blog"},"WWDCNotes.png":{"alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes.png"}],"identifier":"WWDCNotes.png","type":"image"},"WWDC19-Icon.png":{"alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC19-Icon.png"}],"identifier":"WWDC19-Icon.png","type":"image"}}}