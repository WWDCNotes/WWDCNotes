{"seeAlsoSections":[{"generated":true,"identifiers":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10290-Whats-new-in-AVKit","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10115-Whats-new-in-App-Analytics","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10012-Whats-new-in-App-Clips","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10086-Whats-new-in-CloudKit","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10109-Whats-new-in-Foundation","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10052-Whats-new-in-Mac-Catalyst","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10018-Whats-new-in-SwiftUI","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10059-Whats-new-in-UIKit","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10092-Whats-new-in-Wallet-and-Apple-Pay","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10002-Whats-new-in-watchOS-8","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10146-Whats-new-in-AVFoundation","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10066-Whats-new-in-Game-Center-Widgets-friends-and-multiplayer-improvements","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10097-Whats-new-in-SF-Symbols","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10047-Whats-new-in-camera-capture","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10130-Whats-new-in-managing-Apple-devices"],"title":"Updated Tools & Frameworks"}],"abstract":[{"text":"Explore the latest advancements in Mac app development with AppKit. We’ll show how you can enhance your app’s design with new control features and SF Symbols 3, build powerful text experiences using TextKit 2, and harness the latest Swift features in your app.","type":"text"}],"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10054-Whats-new-in-AppKit","interfaceLanguage":"swift"},"sampleCodeDownload":{"action":{"type":"reference","identifier":"https:\/\/developer.apple.com\/wwdc21\/10054","overridingTitle":"Watch Video (21 min)","isActive":true},"kind":"sampleDownload"},"variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc21-10054-whats-new-in-appkit"],"traits":[{"interfaceLanguage":"swift"}]}],"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21"]]},"primaryContentSections":[{"content":[{"level":2,"type":"heading","anchor":"Design--control-updates","text":"Design & control updates"},{"type":"paragraph","inlineContent":[{"type":"text","text":"There are design updates for some system controls:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"popovers appear with an animation"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"sliders smoothly glide into position when clicked","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"smaller things like increased spacing between table sections or slightly wider toolbar buttons"}]}]}]},{"level":4,"type":"heading","anchor":"Control-tinting","text":"Control tinting"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Individual controls like buttons, segmented controls or sliders can have a custom tint. You can set it using these properties:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/appkit\/nsbutton\/2561000-bezelcolor","type":"reference"}]}]},{"content":[{"inlineContent":[{"isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/appkit\/nssegmentedcontrol\/2561002-selectedsegmentbezelcolor","type":"reference"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/appkit\/nsslider\/2560999-trackfillcolor"}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"These properties have been introduced in macOS Sierra for Touch Bar controls; in macOS Monterey they’re functional also for normal app controls."}]},{"type":"paragraph","inlineContent":[{"text":"This is useful for specific controls that need to have some kind of semantically meaningful color - e.g. a green “Accept Call” and a red “End Call” buttons in a video call app.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"Avoid confusion with the default button if there is one in the same view, since it will also be colorful. Also, make sure to indicate purpose with more than just the color (using a clear label or an icon), since some of your users may not be able to distinguish buttons by color.","type":"text"}]},{"level":4,"type":"heading","anchor":"Push-buttons","text":"Push buttons"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Push buttons no longer highlight using the accent color on click - they behave just like e.g. segmented controls in macOS Big Sur. This means you shouldn’t make assumptions about how the highlight state looks (e.g. drawing white text over a button that should be blue when pressed, but will now be light gray)."}]},{"type":"paragraph","inlineContent":[{"text":"Instead, check the interior background style ","type":"text"},{"code":"NSButtonCell.interiorBackgroundStyle","type":"codeVoice"},{"text":":","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":".normal"},{"text":" = colorless state","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"code":".emphasized","type":"codeVoice"},{"text":" = colorful state","type":"text"}]}]}]},{"type":"paragraph","inlineContent":[{"text":"The old “regular square button” aka “bevel button” has now been refreshed as “Flexible push style button” and can be used as a variable height push button. It supports the same kind of configuration as a regular push button, so it can serve as a default button and can be tinted. Its corner radius and padding now match other button styles, and it can contain larger icons or multi-line text.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The vast majority of buttons should still use the standard fixed height push button - the variable height button is meant for special cases."}]},{"level":2,"type":"heading","anchor":"Localizing-keyboard-shortcuts","text":"Localizing keyboard shortcuts"},{"type":"paragraph","inlineContent":[{"text":"Some keyboard shortcuts should be localized for different keyboard layouts, because in some layouts they may be hard or impossible to type, or it may make sense to adapt them for right-to-left languages. E.g. ","type":"text"},{"type":"codeVoice","code":"Cmd + \\"},{"text":" is not possible to type on the Japanese keyboard, which doesn’t have a backslash key.","type":"text"}]},{"inlineContent":[{"type":"text","text":"AppKit can now handle this for you. In macOS Monterey, the system automatically remaps such shortcuts to different ones that are more natural on the given keyboard layout. Also, shortcuts like "},{"type":"codeVoice","code":"Cmd + ["},{"type":"text","text":" and "},{"type":"codeVoice","code":"Cmd + ]"},{"type":"text","text":" to go back and forward will be swapped in right-to-left languages (this applies to brackets, braces, parentheses and arrow keys)."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"You can opt out of this behavior using:"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/appkit\/nsmenuitem\/3787555-allowsautomatickeyequivalentmirr"},{"type":"text","text":" - for directional keys like brackets"}]}]},{"content":[{"inlineContent":[{"identifier":"https:\/\/developer.apple.com\/documentation\/appkit\/nsmenuitem\/3787554-allowsautomatickeyequivalentloca","type":"reference","isActive":true},{"type":"text","text":" - turns off all key localization, including mirroring"}],"type":"paragraph"}]}],"type":"unorderedList"},{"inlineContent":[{"text":"If you really don’t want to use this feature at all, you can also disable it completely in your app by implementing the ","type":"text"},{"code":"NSApplicationDelegate","type":"codeVoice"},{"type":"text","text":" method: "},{"identifier":"https:\/\/developer.apple.com\/documentation\/appkit\/nsapplicationdelegate\/3787553-applicationshouldautomaticallylo\/","type":"reference","isActive":true},{"type":"text","text":"."}],"type":"paragraph"},{"level":2,"text":"Update to SF Symbols","anchor":"Update-to-SF-Symbols","type":"heading"},{"inlineContent":[{"text":"There is a new version available - SF Symbols 3:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"it expands capabilities of the SF Symbols app","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"some symbols now have multiple layers that can be individually colored","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"there is an updated format for custom symbols - it allows you to annotate distinct layers within an image"}]}]}],"type":"unorderedList"},{"inlineContent":[{"type":"text","text":"Big Sur had two coloring modes for symbols:"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"traditional monochrome template style, drawing the whole symbol using one accent color"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"a multicolor style that uses multiple colors that are predefined in the symbol itself","type":"text"}]}]}],"type":"unorderedList"},{"inlineContent":[{"type":"text","text":"SF Symbols 3 in macOS Monterey adds two new rendering modes:"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"“hierarchical” - uses a single tint color, but draws different layers of the image in an emphasized or deemphasized way (lighter or darker than the base color)","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"“palette” - lets you assign each layer any custom color independently","type":"text"}]}]}],"type":"unorderedList"},{"inlineContent":[{"text":"APIs for the new rendering modes:","type":"text"}],"type":"paragraph"},{"code":["NSImage.SymbolConfiguration(hierarchicalColor: .red)","NSImage.SymbolConfiguration(paletteColors: […])","NSImage.SymbolConfiguration.preferringMulticolor()"],"type":"codeListing","syntax":"swift"},{"level":4,"text":"Symbol variants","anchor":"Symbol-variants","type":"heading"},{"inlineContent":[{"type":"text","text":"There are also new APIs for mapping between symbol variants, e.g. outline heart symbol ⭤ filled heart symbol, or variants with circles etc. This is useful e.g. when you’re building a picker control that uses outline icons for unselected states and filled variants of the same icons for the selected item."}],"type":"paragraph"},{"inlineContent":[{"text":"To convert between variants, call e.g.:","type":"text"}],"type":"paragraph"},{"code":["baseImage.image(with: .fill)"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"type":"text","text":"There are constants for each kind of symbol variant, and you can combine multiple variants together (e.g. circle + fill)."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"See “Design and build SF Symbols” for more info."}],"type":"paragraph"},{"level":2,"text":"TextKit 2","anchor":"TextKit-2","type":"heading"},{"inlineContent":[{"type":"text","text":"macOS Monterey brings a huge update to the text system. TextKit is a great text engine with a long track record, used across all Apple systems. However, TextKit is a "},{"type":"emphasis","inlineContent":[{"type":"text","text":"linear"}]},{"type":"text","text":" text layout engine, which means it typesets a block of text from the beginning to the end. There are a lot of use cases where a "},{"type":"emphasis","inlineContent":[{"text":"non-linear","type":"text"}]},{"type":"text","text":" layout engine is more useful."}],"type":"paragraph"},{"inlineContent":[{"text":"TextKit 2 always uses a non-linear layout system. This means it can perform layout on a more granular level, which allows it to avoid some unnecessary work. For example, when you’re looking at a middle fragment of a long document, a linear layout system needs to process all text from the beginning up to the given fragment in order to render it; a non-linear system can start at the nearest start of a paragraph.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"The non-linear layout system also makes it easier to mix text with non-text elements, and improves performance for large documents.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"TextKit 2 provides a lot of customization points, which allow you to extend its behavior. The new version coexists with TextKit 1, you can choose which engine to use for each view."}],"type":"paragraph"},{"inlineContent":[{"text":"TextKit 2 has actually already been used in some system apps and controls in Big Sur.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"See “","type":"text"},{"isActive":true,"identifier":"https:\/\/developer.apple.com\/videos\/play\/wwdc2021\/10061\/","type":"reference"},{"text":"” for more info.","type":"text"}],"type":"paragraph"},{"level":2,"text":"New Swift features","anchor":"New-Swift-features","type":"heading"},{"inlineContent":[{"text":"Swift 5.5 introduces some important new features for managing concurrency: async\/await and actors.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"In AppKit, many asynchronous methods that return value through a completion handler now have variants that work with async\/await:"}],"type":"paragraph"},{"code":["@IBAction func pickColor(_ sender: Any?) {","  async {","    guard let color = await NSColorSampler().sample() else { return }","    textField.textColor = color","  }","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"The actor model is a great fit for a UI framework like AppKit where most APIs should be called on a single main thread. The macOS SDK now has a ","type":"text"},{"code":"@MainActor","type":"codeVoice"},{"text":" property wrapper that marks all types that have to be accessed from the main thread. Classes such as ","type":"text"},{"code":"NSView","type":"codeVoice"},{"text":", ","type":"text"},{"code":"NSView\/WindowController","type":"codeVoice"},{"text":", ","type":"text"},{"code":"NSApplication","type":"codeVoice"},{"text":", ","type":"text"},{"code":"NSCell","type":"codeVoice"},{"text":", ","type":"text"},{"code":"NSDocument","type":"codeVoice"},{"text":" etc. are now marked with ","type":"text"},{"code":"@MainActor","type":"codeVoice"},{"text":".","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Code running in the main actor can freely call methods on other main actor types. However, code that isn’t running on the main thread needs to use async\/await to run code on a "},{"type":"codeVoice","code":"@MainActor"},{"type":"text","text":" type. This is enforced at the compiler level, which lets you avoid common errors that happen when mixing concurrency with UI code."}],"type":"paragraph"},{"inlineContent":[{"text":"See “","type":"text"},{"identifier":"https:\/\/developer.apple.com\/videos\/play\/wwdc2021\/10132\/","isActive":true,"type":"reference"},{"text":"” and “","type":"text"},{"identifier":"https:\/\/developer.apple.com\/videos\/play\/wwdc2021\/10133","isActive":true,"type":"reference"},{"text":"” for more info.","type":"text"}],"type":"paragraph"},{"level":4,"text":"AttributedString","type":"heading","anchor":"AttributedString"},{"inlineContent":[{"type":"text","text":"Swift 5.5 also adds a new value type "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/foundation\/attributedstring\/"},{"type":"text","text":". It has type-safe attributes and a more swifty API for reading & writing attributes. You can easily convert between "},{"type":"codeVoice","code":"AttributedString"},{"type":"text","text":" and "},{"type":"codeVoice","code":"NSAttributedString"},{"type":"text","text":"."}],"type":"paragraph"},{"inlineContent":[{"text":"See “","type":"text"},{"identifier":"https:\/\/developer.apple.com\/videos\/play\/wwdc2017\/212\/","type":"reference","isActive":true},{"text":"” for more info.","type":"text"}],"type":"paragraph"},{"level":4,"text":"Updating NSViews","type":"heading","anchor":"Updating-NSViews"},{"inlineContent":[{"text":"There is a new Swift property wrapper which should reduce boilerplate around view properties.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"Let’s say we have a custom view class like this:","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["class BadgeView: NSView {","  var fillColor: NSColor","  var shadow: NSShadow","  var scaling: NSImageScaling","  …","}"]},{"inlineContent":[{"type":"text","text":"These properties will usually need to have a didSet which updates properties like "},{"identifier":"https:\/\/developer.apple.com\/documentation\/appkit\/nsview\/1483360-needsdisplay\/","isActive":true,"type":"reference"},{"type":"text","text":" or "},{"identifier":"https:\/\/developer.apple.com\/documentation\/appkit\/nsview\/1526912-needslayout","isActive":true,"type":"reference"},{"type":"text","text":" when they’re modified:"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["var fillColor: NSColor {","  didSet { needsDisplay = true }","}"]},{"inlineContent":[{"text":"The new ","type":"text"},{"type":"codeVoice","code":"@Invalidating"},{"text":" attribute in ","type":"text"},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/appkit\/nsview","isActive":true},{"text":" lets you easily specify which other view properties should be updated when the given property is modified:","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["@Invalidating(.display) var fillColor: NSColor"]},{"inlineContent":[{"type":"text","text":"Properties that can be invalidated include: display, layout, constraints, intrinsic content size, restorable state. The marked property needs to be "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/swift\/equatable\/"},{"type":"text","text":", since AppKit checks if the value was actually changed before triggering a view update."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"You can extend the invalidation system by conforming to "},{"code":"NSViewInvalidating","type":"codeVoice"},{"type":"text","text":" protocol."}],"type":"paragraph"},{"level":2,"text":"Shortcuts","type":"heading","anchor":"Shortcuts"},{"inlineContent":[{"text":"iOS Shortcuts are now available on the Mac.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Shortcuts appear in all the places where you can access services today - if your app supports services, it will also support Shortcuts. AppKit decides which shortcuts are available at the given place by checking the responder chain - it asks each responder whether it can provide or receive the type of data used by each shortcut. The types of data are represented by "},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/appkit\/nspasteboard\/pasteboardtype","isActive":true},{"type":"text","text":" (usually a UTI)."}],"type":"paragraph"},{"inlineContent":[{"text":"To support shortcuts in a given responder object, implement the method:","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["func validRequestor(forSendType sendType: NSPasteboard.PasteboardType?,","                              returnType: NSPasteboard.PasteboardType?) -> Any"]},{"inlineContent":[{"type":"text","text":"In that method return an instance of a type implementing "},{"identifier":"https:\/\/developer.apple.com\/documentation\/appkit\/nsservicesmenurequestor\/","isActive":true,"type":"reference"},{"type":"text","text":" (usually the same object):"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["protocol NSServicesMenuRequestor {","  func writeSelection(to pasteboard: NSPasteboard,","                              types: [NSPasteboard.PasteboardType]) -> Bool","","  func readSelection(from pasteboard: NSPasteboard) -> Bool","}"]},{"level":2,"text":"Siri Intents","type":"heading","anchor":"Siri-Intents"},{"inlineContent":[{"type":"text","text":"You can now use Siri Intents in a Mac app by adding an Intents Extension. You can also return an intents handler from the application delegate:"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["protocol NSApplicationDelegate {","  optional func application(_ application: NSApplication,","                        handlerFor intent: INIntent) -> Any?","}"]},{"inlineContent":[{"text":"The returned object should conform to an appropriate intent handler protocol, depending on the intent type.","type":"text"}],"type":"paragraph"},{"level":2,"text":"Written By","type":"heading","anchor":"Written-By"},{"columns":[{"size":1,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"![Profile image of Kuba Suder](https:\/\/avatars.githubusercontent.com\/u\/28465?v=4"}]}]},{"size":4,"content":[{"level":3,"anchor":"Kuba-Suder","type":"heading","text":"Kuba Suder"},{"type":"paragraph","inlineContent":[{"isActive":true,"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/mackuba","type":"reference","overridingTitle":"Contributed Notes","overridingTitleInlineContent":[{"text":"Contributed Notes","type":"text"}]},{"text":" ","type":"text"},{"isActive":true,"identifier":"https:\/\/x.com\/kuba_suder","type":"reference"},{"text":" ","type":"text"},{"isActive":true,"identifier":"https:\/\/mackuba.eu","type":"reference"}]}]}],"numberOfColumns":5,"type":"row"},{"level":2,"text":"Related Sessions","type":"heading","anchor":"Related-Sessions"},{"style":"list","type":"links","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10061-Meet-TextKit-2","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10132-Meet-asyncawait-in-Swift","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10133-Protect-mutable-state-with-Swift-actors","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10349-SF-Symbols-in-SwiftUI"]},{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Legal Notice","type":"text"}]}],"type":"small"},{"inlineContent":[{"type":"text","text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}],"type":"small"}],"kind":"content"}],"sections":[],"schemaVersion":{"major":0,"minor":3,"patch":0},"metadata":{"roleHeading":"WWDC21","modules":[{"name":"WWDC Notes"}],"role":"sampleCode","title":"What’s new in AppKit"},"kind":"article","references":{"doc://WWDCNotes/documentation/WWDCNotes":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","url":"\/documentation\/wwdcnotes","title":"WWDC Notes","images":[{"identifier":"WWDCNotes.png","type":"icon"}],"kind":"symbol","role":"collection","type":"topic","abstract":[{"text":"Session notes shared by the community for the community.","type":"text"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10133-Protect-mutable-state-with-Swift-actors":{"abstract":[{"type":"text","text":"Data races occur when two separate threads concurrently access the same mutable state. They are trivial to construct, but are notoriously hard to debug."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10133-Protect-mutable-state-with-Swift-actors","type":"topic","role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc21-10133-protect-mutable-state-with-swift-actors","title":"Protect mutable state with Swift actors","kind":"article"},"https://developer.apple.com/documentation/appkit/nspasteboard/pasteboardtype":{"title":"NSPasteboard.PasteboardType","titleInlineContent":[{"code":"NSPasteboard.PasteboardType","type":"codeVoice"}],"identifier":"https:\/\/developer.apple.com\/documentation\/appkit\/nspasteboard\/pasteboardtype","type":"link","url":"https:\/\/developer.apple.com\/documentation\/appkit\/nspasteboard\/pasteboardtype"},"https://developer.apple.com/documentation/appkit/nsbutton/2561000-bezelcolor":{"title":"NSButton.bezelColor","identifier":"https:\/\/developer.apple.com\/documentation\/appkit\/nsbutton\/2561000-bezelcolor","titleInlineContent":[{"type":"codeVoice","code":"NSButton.bezelColor"}],"url":"https:\/\/developer.apple.com\/documentation\/appkit\/nsbutton\/2561000-bezelcolor","type":"link"},"https://developer.apple.com/wwdc21/10054":{"checksum":null,"identifier":"https:\/\/developer.apple.com\/wwdc21\/10054","type":"download","url":"https:\/\/developer.apple.com\/wwdc21\/10054"},"https://developer.apple.com/videos/play/wwdc2021/10133":{"title":"Protect mutable state with Swift actors","url":"https:\/\/developer.apple.com\/videos\/play\/wwdc2021\/10133","type":"link","titleInlineContent":[{"text":"Protect mutable state with Swift actors","type":"text"}],"identifier":"https:\/\/developer.apple.com\/videos\/play\/wwdc2021\/10133"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10146-Whats-new-in-AVFoundation":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10146-Whats-new-in-AVFoundation","type":"topic","kind":"article","role":"sampleCode","title":"What’s new in AVFoundation","url":"\/documentation\/wwdcnotes\/wwdc21-10146-whats-new-in-avfoundation","abstract":[{"text":"Discover the latest updates to AVFoundation, Apple’s framework for inspecting, playing, and authoring audiovisual presentations. We’ll explore how you can use AVFoundation to query attributes of audiovisual assets, further customize your custom video compositions with timed metadata, and author caption files.","type":"text"}]},"https://developer.apple.com/documentation/appkit/nsview":{"identifier":"https:\/\/developer.apple.com\/documentation\/appkit\/nsview","url":"https:\/\/developer.apple.com\/documentation\/appkit\/nsview","titleInlineContent":[{"type":"codeVoice","code":"NSView"}],"type":"link","title":"NSView"},"https://developer.apple.com/documentation/swift/equatable/":{"title":"Equatable","url":"https:\/\/developer.apple.com\/documentation\/swift\/equatable\/","type":"link","titleInlineContent":[{"type":"codeVoice","code":"Equatable"}],"identifier":"https:\/\/developer.apple.com\/documentation\/swift\/equatable\/"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10097-Whats-new-in-SF-Symbols":{"type":"topic","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10097-Whats-new-in-SF-Symbols","role":"sampleCode","title":"What’s new in SF Symbols","url":"\/documentation\/wwdcnotes\/wwdc21-10097-whats-new-in-sf-symbols","abstract":[{"type":"text","text":"Explore the latest updates to SF Symbols, Apple’s iconography library. Designed to integrate seamlessly with San Francisco — the system font for Apple platforms — SF Symbols can help you create beautiful and consistent iconography for your app while supporting accessibility features like Dynamic Type and Bold Text. Discover the latest additions to the SF Symbols library, localization enhancements, and how you can more easily customize the color of a symbol to integrate it within your app’s own color palette. We’ll also show you how you can design and annotate custom symbols to support Monochrome, Hierarchical, Palette, and Multicolor rendering modes."}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10052-Whats-new-in-Mac-Catalyst":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10052-Whats-new-in-Mac-Catalyst","type":"topic","kind":"article","role":"sampleCode","title":"What’s new in Mac Catalyst","url":"\/documentation\/wwdcnotes\/wwdc21-10052-whats-new-in-mac-catalyst","abstract":[{"text":"Discover the latest updates to Mac Catalyst and find out how you can make your app feel even more at home on macOS. Learn about a variety of new and enhanced UIKit APIs that let you customize your Mac Catalyst app to take advantage of behaviors unique to macOS.","type":"text"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10132-Meet-asyncawait-in-Swift":{"url":"\/documentation\/wwdcnotes\/wwdc21-10132-meet-asyncawait-in-swift","kind":"article","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10132-Meet-asyncawait-in-Swift","title":"Meet async\/await in Swift","abstract":[{"text":"Swift now supports asynchronous functions — a pattern commonly known as async\/await. Discover how the new syntax can make your code easier to read and understand. Learn what happens when a function suspends, and find out how to adapt existing completion handlers to asynchronous functions.","type":"text"}],"role":"sampleCode"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10092-Whats-new-in-Wallet-and-Apple-Pay":{"url":"\/documentation\/wwdcnotes\/wwdc21-10092-whats-new-in-wallet-and-apple-pay","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10092-Whats-new-in-Wallet-and-Apple-Pay","kind":"article","abstract":[{"type":"text","text":"Discover the redesigned Apple Pay for in-app and web payments and learn how you can incorporate the latest APIs into your app or website. Learn how to add features to your app like coupon codes, improved shipping information, and improvements to the payment detail display screen. And explore changes to Wallet passes, including auto-expiry and multi-pass support for the web."}],"type":"topic","title":"What’s new in Wallet and Apple Pay"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10290-Whats-new-in-AVKit":{"type":"topic","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10290-Whats-new-in-AVKit","role":"sampleCode","title":"What’s new in AVKit","url":"\/documentation\/wwdcnotes\/wwdc21-10290-whats-new-in-avkit","abstract":[{"text":"Learn about enhancements to Picture in Picture and full screen improvements on macOS. Explore the new content source API, and learn how AVPictureInPictureController supports AVSampleBufferDisplayLayer, as well as recommended steps for an app to provide a seamless full screen experience on macOS or in a Mac Catalyst app.","type":"text"}]},"https://developer.apple.com/videos/play/wwdc2017/212/":{"identifier":"https:\/\/developer.apple.com\/videos\/play\/wwdc2017\/212\/","url":"https:\/\/developer.apple.com\/videos\/play\/wwdc2017\/212\/","titleInlineContent":[{"type":"text","text":"What’s new in Foundation"}],"type":"link","title":"What’s new in Foundation"},"https://developer.apple.com/documentation/appkit/nssegmentedcontrol/2561002-selectedsegmentbezelcolor":{"title":"NSSegmentedControl.selectedSegmentBezelColor","url":"https:\/\/developer.apple.com\/documentation\/appkit\/nssegmentedcontrol\/2561002-selectedsegmentbezelcolor","type":"link","titleInlineContent":[{"type":"codeVoice","code":"NSSegmentedControl.selectedSegmentBezelColor"}],"identifier":"https:\/\/developer.apple.com\/documentation\/appkit\/nssegmentedcontrol\/2561002-selectedsegmentbezelcolor"},"https://developer.apple.com/documentation/appkit/nsview/1483360-needsdisplay/":{"identifier":"https:\/\/developer.apple.com\/documentation\/appkit\/nsview\/1483360-needsdisplay\/","url":"https:\/\/developer.apple.com\/documentation\/appkit\/nsview\/1483360-needsdisplay\/","titleInlineContent":[{"type":"codeVoice","code":"needsDisplay"}],"type":"link","title":"needsDisplay"},"https://developer.apple.com/documentation/appkit/nsview/1526912-needslayout":{"title":"needsLayout","url":"https:\/\/developer.apple.com\/documentation\/appkit\/nsview\/1526912-needslayout","type":"link","titleInlineContent":[{"type":"codeVoice","code":"needsLayout"}],"identifier":"https:\/\/developer.apple.com\/documentation\/appkit\/nsview\/1526912-needslayout"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10066-Whats-new-in-Game-Center-Widgets-friends-and-multiplayer-improvements":{"title":"What’s new in Game Center: Widgets, friends, and multiplayer improvements","role":"sampleCode","abstract":[{"text":"Power up your online gaming experience with GameKit and adopt features like multiplayer, leaderboards, and achievements in your game. We’ll take you through the latest improvements to Game Center, including player matching and multiplayer APIs, and explore how you can boost discovery of your game.","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10066-Whats-new-in-Game-Center-Widgets-friends-and-multiplayer-improvements","url":"\/documentation\/wwdcnotes\/wwdc21-10066-whats-new-in-game-center-widgets-friends-and-multiplayer-improvements","kind":"article","type":"topic"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10349-SF-Symbols-in-SwiftUI":{"kind":"article","title":"SF Symbols in SwiftUI","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10349-SF-Symbols-in-SwiftUI","url":"\/documentation\/wwdcnotes\/wwdc21-10349-sf-symbols-in-swiftui","type":"topic","role":"sampleCode","abstract":[{"type":"text","text":"Discover how you can incorporate SF Symbols into your SwiftUI app. We’ll explore basic techniques for presenting symbols, customizing their size, and showing different variants. We’ll also take you through the latest updates to symbol colorization and help you pick the right tool for your app’s needs."}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10086-Whats-new-in-CloudKit":{"type":"topic","title":"What’s new in CloudKit","role":"sampleCode","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10086-Whats-new-in-CloudKit","abstract":[{"text":"CloudKit provides a secure, convenient, and reliable cloud database for your apps — and it’s only getting better. Discover how you can unravel your threads with support for async\/await and convenience API additions. We’ll also show you how to encourage collaboration between people using your app through sharing entire record zones of data, and explore how to adopt CloudKit features like encrypted values and help protect sensitive data within your app.","type":"text"}],"url":"\/documentation\/wwdcnotes\/wwdc21-10086-whats-new-in-cloudkit"},"https://developer.apple.com/documentation/foundation/attributedstring/":{"identifier":"https:\/\/developer.apple.com\/documentation\/foundation\/attributedstring\/","url":"https:\/\/developer.apple.com\/documentation\/foundation\/attributedstring\/","titleInlineContent":[{"type":"codeVoice","code":"AttributedString"}],"type":"link","title":"AttributedString"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10012-Whats-new-in-App-Clips":{"type":"topic","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10012-Whats-new-in-App-Clips","role":"sampleCode","title":"What’s new in App Clips","url":"\/documentation\/wwdcnotes\/wwdc21-10012-whats-new-in-app-clips","abstract":[{"type":"text","text":"Discover how App Clips can elevate quick and focused experiences for specific tasks, the moment your customer needs them. We’ll take you through some of the latest improvements to App Clips, including launching an experience directly from an app, testing your App Clip locally, and creating App Clip Codes to make it easy to access your experience in the real world. We’ll also share some great examples of App Clips from our developer community that provide innovative ways to interact with people and beautiful designs."}]},"https://mackuba.eu":{"title":"Blog","url":"https:\/\/mackuba.eu","type":"link","titleInlineContent":[{"text":"Blog","type":"text"}],"identifier":"https:\/\/mackuba.eu"},"https://developer.apple.com/videos/play/wwdc2021/10132/":{"identifier":"https:\/\/developer.apple.com\/videos\/play\/wwdc2021\/10132\/","url":"https:\/\/developer.apple.com\/videos\/play\/wwdc2021\/10132\/","titleInlineContent":[{"type":"text","text":"Meet async\/await in Swift"}],"type":"link","title":"Meet async\/await in Swift"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10130-Whats-new-in-managing-Apple-devices":{"url":"\/documentation\/wwdcnotes\/wwdc21-10130-whats-new-in-managing-apple-devices","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10130-Whats-new-in-managing-Apple-devices","kind":"article","abstract":[{"type":"text","text":"Discover the latest advancements in key device management capabilities for your organization or MDM solution. Explore the refreshed device management Settings on iOS and iPadOS, an all-new return to service functionality for macOS, and other updates to device management across Apple platforms."}],"type":"topic","title":"What’s new in managing Apple devices"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10002-Whats-new-in-watchOS-8":{"title":"What’s new in watchOS 8","abstract":[{"text":"watchOS 8 brings all-new opportunities to keep people up to date on their watch face. With new APIs for the Always-On Retina display and updating complications from Bluetooth devices and background delivery of HealthKit data, it’s never been easier to keep your app up to date. Learn about region-based user notifications to leverage location in your app. Explore all the new enhancements to SwiftUI and watchOS that will get you excited to build your next Watch app.","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10002-Whats-new-in-watchOS-8","url":"\/documentation\/wwdcnotes\/wwdc21-10002-whats-new-in-watchos-8","kind":"article","type":"topic","role":"sampleCode"},"doc://WWDCNotes/documentation/WWDCNotes/mackuba":{"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/mackuba","role":"sampleCode","abstract":[{"text":"Independent Mac & iOS developer. Sometimes freelancing, mostly working on my own stuff these days.","type":"text"}],"title":"Kuba Suder (7 notes)","kind":"article","url":"\/documentation\/wwdcnotes\/mackuba"},"https://developer.apple.com/videos/play/wwdc2021/10061/":{"title":"Meet TextKit 2","url":"https:\/\/developer.apple.com\/videos\/play\/wwdc2021\/10061\/","type":"link","titleInlineContent":[{"text":"Meet TextKit 2","type":"text"}],"identifier":"https:\/\/developer.apple.com\/videos\/play\/wwdc2021\/10061\/"},"https://developer.apple.com/documentation/appkit/nsslider/2560999-trackfillcolor":{"identifier":"https:\/\/developer.apple.com\/documentation\/appkit\/nsslider\/2560999-trackfillcolor","url":"https:\/\/developer.apple.com\/documentation\/appkit\/nsslider\/2560999-trackfillcolor","titleInlineContent":[{"type":"codeVoice","code":"NSSlider.trackFillColor"}],"type":"link","title":"NSSlider.trackFillColor"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10018-Whats-new-in-SwiftUI":{"url":"\/documentation\/wwdcnotes\/wwdc21-10018-whats-new-in-swiftui","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10018-Whats-new-in-SwiftUI","kind":"article","abstract":[{"type":"text","text":"There’s never been a better time to develop your apps with SwiftUI. Discover the latest updates to the UI framework — including lists, buttons, and text fields — and learn how these features can help you more fully adopt SwiftUI in your app. Find out how to create beautiful, visually-rich graphics using the canvas view, materials, and enhancements to symbols. Explore multi-column tables on macOS, refinements to focus and keyboard interaction, and the multi-platform search API. And we’ll show you how to take advantage of features like Swift concurrency, a brand new AttributedString, format styles, localization, and so much more."}],"type":"topic","title":"What’s new in SwiftUI"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10059-Whats-new-in-UIKit":{"type":"topic","abstract":[{"type":"text","text":"Discover the latest updates and improvements to UIKit and learn how to build better iPadOS, iOS, and Mac Catalyst apps. We’ll take you through UI refinements, productivity updates, and API enhancements, and help you explore performance improvements and security & privacy features."}],"title":"What’s new in UIKit","url":"\/documentation\/wwdcnotes\/wwdc21-10059-whats-new-in-uikit","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10059-Whats-new-in-UIKit","role":"sampleCode"},"https://developer.apple.com/documentation/appkit/nsservicesmenurequestor/":{"title":"NSServicesMenuRequestor","url":"https:\/\/developer.apple.com\/documentation\/appkit\/nsservicesmenurequestor\/","type":"link","titleInlineContent":[{"type":"codeVoice","code":"NSServicesMenuRequestor"}],"identifier":"https:\/\/developer.apple.com\/documentation\/appkit\/nsservicesmenurequestor\/"},"https://x.com/kuba_suder":{"identifier":"https:\/\/x.com\/kuba_suder","url":"https:\/\/x.com\/kuba_suder","titleInlineContent":[{"type":"text","text":"X\/Twitter"}],"type":"link","title":"X\/Twitter"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10047-Whats-new-in-camera-capture":{"type":"topic","role":"sampleCode","abstract":[{"type":"text","text":"Learn how you can interact with Video Effects in Control Center including Center Stage, Portrait mode, and Mic modes. We’ll show you how to detect when these features have been enabled for your app and explore ways to adopt custom interfaces to make them controllable from within your app. Discover how to enable 10-bit HDR video capture and take advantage of minimum-focus-distance reporting for improved camera capture experiences. Explore support for IOSurface compression and delivering optimal performance in camera capture."}],"title":"What’s new in camera capture","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10047-Whats-new-in-camera-capture","url":"\/documentation\/wwdcnotes\/wwdc21-10047-whats-new-in-camera-capture","kind":"article"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10061-Meet-TextKit-2":{"title":"Meet TextKit 2","abstract":[{"type":"text","text":"Meet TextKit 2: Apple’s next-generation text engine, redesigned for improved correctness, safety, and performance. Discover how TextKit 2 can help you provide a better text experience for international audiences, create more diverse layouts by mixing text content with visual content, and ensure smooth scrolling performance. We’ll introduce the latest APIs, dive into some practical examples, and provide guidance for modernizing your apps."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10061-Meet-TextKit-2","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc21-10061-meet-textkit-2","kind":"article","role":"sampleCode"},"https://developer.apple.com/documentation/appkit/nsapplicationdelegate/3787553-applicationshouldautomaticallylo/":{"title":"applicationShouldAutomaticallyLocalizeKeyEquivalents(_:)","url":"https:\/\/developer.apple.com\/documentation\/appkit\/nsapplicationdelegate\/3787553-applicationshouldautomaticallylo\/","type":"link","titleInlineContent":[{"type":"codeVoice","code":"applicationShouldAutomaticallyLocalizeKeyEquivalents(_:)"}],"identifier":"https:\/\/developer.apple.com\/documentation\/appkit\/nsapplicationdelegate\/3787553-applicationshouldautomaticallylo\/"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10109-Whats-new-in-Foundation":{"type":"topic","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10109-Whats-new-in-Foundation","role":"sampleCode","title":"What’s new in Foundation","url":"\/documentation\/wwdcnotes\/wwdc21-10109-whats-new-in-foundation","abstract":[{"type":"text","text":"Discover how the latest updates to Foundation can help you improve your app’s localization and internationalization support. Find out about the new AttributedString, designed specifically for Swift, and learn how you can use Markdown to apply style to your localized strings. Explore the grammar agreement engine, which automatically fixes up localized strings so they match grammatical gender and pluralization. And we’ll take you through improvements to date and number formatting that simplify complex requirements while also improving performance."}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10115-Whats-new-in-App-Analytics":{"title":"What’s new in App Analytics","abstract":[{"type":"text","text":"App Analytics helps you maximize your opportunity on the App Store by providing privacy-friendly insights about your app. Learn about four new ways to grow your business, including information about custom product pages, in-app events, product page optimization, and new metrics about transactions on the store."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10115-Whats-new-in-App-Analytics","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc21-10115-whats-new-in-app-analytics","kind":"article","role":"sampleCode"},"WWDCNotes.png":{"identifier":"WWDCNotes.png","alt":null,"variants":[{"url":"\/images\/WWDCNotes.png","traits":["1x","light"]}],"type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21":{"kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21","role":"collectionGroup","title":"WWDC21","abstract":[{"text":"Xcode 13, Swift 5.5, iOS 15, macOS 12, tvOS 15, watchOS 8.","type":"text"},{"text":" ","type":"text"},{"text":"New APIs: ","type":"text"},{"code":"MusicKit","type":"codeVoice"},{"text":", ","type":"text"},{"code":"DocC","type":"codeVoice"},{"text":", ","type":"text"},{"code":"StoreKit 2","type":"codeVoice"},{"text":", and more.","type":"text"}],"url":"\/documentation\/wwdcnotes\/wwdc21","type":"topic"},"https://developer.apple.com/documentation/appkit/nsmenuitem/3787555-allowsautomatickeyequivalentmirr":{"title":"NSMenuItem.allowsAutomaticKeyEquivalentMirroring","url":"https:\/\/developer.apple.com\/documentation\/appkit\/nsmenuitem\/3787555-allowsautomatickeyequivalentmirr","type":"link","titleInlineContent":[{"type":"codeVoice","code":"NSMenuItem.allowsAutomaticKeyEquivalentMirroring"}],"identifier":"https:\/\/developer.apple.com\/documentation\/appkit\/nsmenuitem\/3787555-allowsautomatickeyequivalentmirr"},"https://developer.apple.com/documentation/appkit/nsmenuitem/3787554-allowsautomatickeyequivalentloca":{"identifier":"https:\/\/developer.apple.com\/documentation\/appkit\/nsmenuitem\/3787554-allowsautomatickeyequivalentloca","url":"https:\/\/developer.apple.com\/documentation\/appkit\/nsmenuitem\/3787554-allowsautomatickeyequivalentloca","titleInlineContent":[{"type":"codeVoice","code":"NSMenuItem.allowsAutomaticKeyEquivalentLocalization"}],"type":"link","title":"NSMenuItem.allowsAutomaticKeyEquivalentLocalization"}}}