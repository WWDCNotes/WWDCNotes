{"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC25-241-Whats-new-in-StoreKit-and-InApp-Purchase","interfaceLanguage":"swift"},"sections":[],"primaryContentSections":[{"kind":"content","content":[{"type":"heading","anchor":"Explore-new-features","text":"Explore new features","level":2},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"The ","type":"text"},{"code":"AppTransaction","type":"codeVoice"},{"text":" object now has an ","type":"text"},{"code":"appTransactionID","type":"codeVoice"},{"text":" field (in 18.4+, back-deployed to 15)","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Also new: ","type":"text"},{"code":"originalPlatform","type":"codeVoice"},{"text":" of type ","type":"text"},{"code":"AppStore.Platform","type":"codeVoice"},{"text":" (iOS, macOS, tvOS, visionOS)","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"Transaction.currentEntitlement(for:)"},{"type":"text","text":" deprecated, use "},{"type":"codeVoice","code":"Transaction.currentEntitlements(for:)"},{"type":"text","text":" instead"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"type":"codeVoice","code":"Transaction"},{"type":"text","text":" now has an "},{"type":"codeVoice","code":"appTransactionID"},{"type":"text","text":" field (also 18.4+)"}]}]},{"content":[{"inlineContent":[{"text":"Also new: ","type":"text"},{"type":"codeVoice","code":"offer"},{"text":" of type ","type":"text"},{"type":"codeVoice","code":"Transaction.Offer"},{"text":" with fields ","type":"text"},{"type":"codeVoice","code":"id"},{"text":", ","type":"text"},{"type":"codeVoice","code":"type"},{"text":", and ","type":"text"},{"type":"codeVoice","code":"period"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"And new: "},{"code":"advancedCommerceInfo","type":"codeVoice"},{"type":"text","text":" – more easily support IAPs for large content catalogs etc."}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Learn more about Advanced Commere API "},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/advancedcommerceapi\/","isActive":true},{"type":"text","text":"."}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"New ","type":"text"},{"type":"codeVoice","code":"SubscriptionStatus.status(transactionID:)"},{"text":" API to get the status using a transaction ID","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"New fields on "},{"type":"codeVoice","code":"RenewalInfo"},{"type":"text","text":": "},{"type":"codeVoice","code":"appTransactionID"},{"type":"text","text":", "},{"type":"codeVoice","code":"offer"},{"type":"text","text":", "},{"type":"codeVoice","code":"advancedCommerceInfo"},{"type":"text","text":", "},{"type":"codeVoice","code":"appAccountToken"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Offer codes are now available for consumables, non-consumables, and non-renewing subscriptions (back to 16.3)"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"New mode added to ","type":"text"},{"code":"Transaction.Offer.PaymentMode","type":"codeVoice"},{"text":" type: ","type":"text"},{"code":"oneTime","type":"codeVoice"},{"text":" added to ","type":"text"},{"code":"freeTrial","type":"codeVoice"},{"text":", ","type":"text"},{"code":"payAsYouGo","type":"codeVoice"},{"text":", ","type":"text"},{"code":"payUpFront","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"For iOS 15 backwards compatibility, a new ","type":"text"},{"code":"offerPaymentModeStringRepresentation","type":"codeVoice"},{"text":" field is added to ","type":"text"},{"code":"Transaction","type":"codeVoice"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"New purchase methods: ","type":"text"},{"code":"purchase(confirmIn:options)","type":"codeVoice"},{"text":" – differs based on platform (window on macOS)","type":"text"}]}]}]},{"type":"heading","anchor":"Sign-In-App-Purchase-requests","text":"Sign In-App Purchase requests","level":2},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Set eligibility for introductory offer via "},{"code":"Product.PurchaseOption.introductoryOfferEligibility(compactJWS:)","type":"codeVoice"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Sign promotional offers via ","type":"text"},{"code":"Product.PurchaseOption.promotionalOffer(_:compactJWS:)","type":"codeVoice"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Both these new APIs are back-deployed to iOS 15"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"In SwiftUI: Use "},{"code":"subscriptionIntroductoryOffer","type":"codeVoice"},{"type":"text","text":" and "},{"code":"subscriptionPromotionalOffer","type":"codeVoice"},{"type":"text","text":" view modifiers"}]}]}]},{"type":"aside","name":"Tip","style":"tip","content":[{"inlineContent":[{"type":"text","text":"Use the App Store Server Library (available in Java, Python, Node.js, and Swift)"}],"type":"paragraph"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Learn more: "},{"isActive":true,"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC24-10062-Explore-App-Store-server-APIs-for-InApp-Purchase","type":"reference"}]},{"type":"heading","anchor":"Merchandise-subscriptions","text":"Merchandise subscriptions","level":2},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Subscription offer view: ","type":"text"},{"type":"codeVoice","code":"SubscriptionOfferView(id: \"plus.standard\")"},{"text":" – supports custom (placeholder) icon","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Use ","type":"text"},{"type":"codeVoice","code":".subscriptionOfferViewDetailAction"},{"text":" to add secondary button, e.g. to open full paywall","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"New "},{"code":"SubscriptionOfferView(groupID:visibleRelationship:)","type":"codeVoice"},{"type":"text","text":" with various options for the latter parameter"}],"type":"paragraph"}]}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC25-241-Subscription-Offer-View"}]},{"type":"heading","anchor":"Written-By","text":"Written By","level":2},{"type":"row","numberOfColumns":5,"columns":[{"size":1,"content":[{"type":"paragraph","inlineContent":[{"identifier":"Jeehut","type":"image"}]}]},{"size":4,"content":[{"type":"heading","level":3,"text":"Cihat Gündüz","anchor":"Cihat-G%C3%BCnd%C3%BCz"},{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/Jeehut","isActive":true,"overridingTitleInlineContent":[{"text":"Contributed Notes","type":"text"}],"overridingTitle":"Contributed Notes"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","identifier":"https:\/\/github.com\/Jeehut","isActive":true},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","identifier":"https:\/\/fline.dev","isActive":true},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","identifier":"https:\/\/x.com\/Jeehut","isActive":true}]}]}]},{"type":"thematicBreak"},{"type":"paragraph","inlineContent":[{"text":"Missing anything? Corrections? ","type":"text"},{"isActive":true,"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"reference"}]},{"type":"heading","anchor":"Related-Sessions","text":"Related Sessions","level":2},{"type":"links","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10114-Meet-StoreKit-2","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10013-Meet-StoreKit-for-SwiftUI","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC24-10062-Explore-App-Store-server-APIs-for-InApp-Purchase","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC25-328-Whats-new-in-App-Store-Connect"],"style":"list"},{"type":"small","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Legal Notice"}]}]},{"type":"small","inlineContent":[{"text":"All content copyright © 2012 – 2025 Apple Inc. All rights reserved.","type":"text"},{"text":" ","type":"text"},{"text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries.","type":"text"},{"text":" ","type":"text"},{"text":"This website is not made by, affiliated with, nor endorsed by Apple.","type":"text"}]}]}],"abstract":[{"text":"Learn about the latest StoreKit API enhancements to help you deliver great In-App Purchase experiences to your customers. We’ll review new fields added to AppTransaction, Transaction, and RenewalInfo, and updates to In-App Purchase offer codes. We’ll also cover creating signed In-App Purchase requests using the App Store Server Library and updates to merchandising subscriptions using SwiftUI.","type":"text"}],"sampleCodeDownload":{"kind":"sampleDownload","action":{"isActive":true,"overridingTitle":"Watch Video (20 min)","type":"reference","identifier":"https:\/\/developer.apple.com\/videos\/play\/wwdc2025\/241"}},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc25-241-whats-new-in-storekit-and-inapp-purchase"]}],"kind":"article","metadata":{"roleHeading":"WWDC25","role":"sampleCode","title":"What’s new in StoreKit and In-App Purchase","modules":[{"name":"WWDC Notes"}]},"schemaVersion":{"major":0,"minor":3,"patch":0},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC25"]]},"references":{"doc://WWDCNotes/documentation/WWDCNotes/Jeehut":{"kind":"article","type":"topic","abstract":[{"type":"text","text":"Spatial-first Indie Developer for  Platforms. Actively contributing to Open Source since 2011!"}],"images":[{"type":"card","identifier":"Jeehut.jpeg"},{"type":"icon","identifier":"Jeehut.jpeg"}],"role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/Jeehut","title":"Cihat Gündüz (71 notes)","url":"\/documentation\/wwdcnotes\/jeehut"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC24-10062-Explore-App-Store-server-APIs-for-InApp-Purchase":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC24-10062-Explore-App-Store-server-APIs-for-InApp-Purchase","title":"Explore App Store server APIs for In-App Purchase","abstract":[{"type":"text","text":"Learn how to leverage your server to build great In-App Purchase experiences with the latest updates to the App Store Server API, App Store Server Notifications, and the open source App Store Server Library. After a recap of current APIs, we’ll introduce updated endpoint functionality, new transaction fields, and a new notification type. We’ll also discuss best practices for the purchase lifecycle, delivering content, and targeting offers, so you can become a server power user."}],"url":"\/documentation\/wwdcnotes\/wwdc24-10062-explore-app-store-server-apis-for-inapp-purchase","kind":"article","type":"topic","role":"sampleCode"},"Jeehut.jpeg":{"variants":[{"url":"\/images\/WWDCNotes\/Jeehut.jpeg","traits":["1x","light"]}],"type":"image","identifier":"Jeehut.jpeg","alt":null},"https://developer.apple.com/documentation/advancedcommerceapi/":{"url":"https:\/\/developer.apple.com\/documentation\/advancedcommerceapi\/","type":"link","titleInlineContent":[{"text":"here","type":"text"}],"identifier":"https:\/\/developer.apple.com\/documentation\/advancedcommerceapi\/","title":"here"},"https://x.com/Jeehut":{"identifier":"https:\/\/x.com\/Jeehut","url":"https:\/\/x.com\/Jeehut","title":"X\/Twitter","titleInlineContent":[{"text":"X\/Twitter","type":"text"}],"type":"link"},"https://github.com/Jeehut":{"url":"https:\/\/github.com\/Jeehut","title":"GitHub","type":"link","identifier":"https:\/\/github.com\/Jeehut","titleInlineContent":[{"type":"text","text":"GitHub"}]},"WWDC25-241-Subscription-Offer-View":{"type":"image","alt":null,"identifier":"WWDC25-241-Subscription-Offer-View","variants":[{"url":"\/images\/WWDCNotes\/WWDC25-241-Subscription-Offer-View.png","traits":["1x","light"]}]},"WWDC25.jpg":{"identifier":"WWDC25.jpg","alt":null,"variants":[{"url":"\/images\/WWDCNotes\/WWDC25.jpg","traits":["1x","light"]}],"type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC25-328-Whats-new-in-App-Store-Connect":{"abstract":[{"text":"Get the latest updates for App Store Connect, including the new web UI for build delivery and enhancements to TestFlight notifications. We’ll also discuss new app discovery features and enhancements, such as keywords for custom product pages, Accessibility Nutrition Labels, and age ratings updates. Additionally, learn about new functionalities like In-App Purchase offer codes and review summarization tools.","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC25-328-Whats-new-in-App-Store-Connect","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc25-328-whats-new-in-app-store-connect","title":"What’s new in App Store Connect","kind":"article","role":"sampleCode"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC25":{"kind":"article","type":"topic","abstract":[{"text":"Xcode 26, Swift 6.2, iOS\/macOS\/tvOS\/visionOS 26.","type":"text"},{"text":" ","type":"text"},{"text":"New APIs: ","type":"text"},{"code":"Foundation Models","type":"codeVoice"},{"text":", ","type":"text"},{"code":"AlarmKit","type":"codeVoice"},{"text":", ","type":"text"},{"code":"PermissionKit","type":"codeVoice"},{"text":", and more.","type":"text"}],"images":[{"type":"icon","identifier":"WWDC25-Icon.png"},{"type":"card","identifier":"WWDC25.jpg"}],"role":"collectionGroup","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC25","title":"WWDC25","url":"\/documentation\/wwdcnotes\/wwdc25"},"https://developer.apple.com/videos/play/wwdc2025/241":{"url":"https:\/\/developer.apple.com\/videos\/play\/wwdc2025\/241","type":"download","identifier":"https:\/\/developer.apple.com\/videos\/play\/wwdc2025\/241","checksum":null},"https://fline.dev":{"url":"https:\/\/fline.dev","type":"link","titleInlineContent":[{"text":"Blog","type":"text"}],"identifier":"https:\/\/fline.dev","title":"Blog"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10114-Meet-StoreKit-2":{"role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc21-10114-meet-storekit-2","title":"Meet StoreKit 2","abstract":[{"text":"StoreKit 2 delivers powerful, Swift-native APIs for in-app purchases and auto-renewable subscriptions. Learn how you can easily implement in-app purchases and subscriptions, and discover APIs for retrieving product information, handling transactions, determining product entitlements and customer status, as well as comprehensive testing support in Xcode.","type":"text"}],"type":"topic","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10114-Meet-StoreKit-2"},"WWDC25-Icon.png":{"variants":[{"url":"\/images\/WWDCNotes\/WWDC25-Icon.png","traits":["1x","light"]}],"type":"image","identifier":"WWDC25-Icon.png","alt":null},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","title":"Contributions are welcome!","titleInlineContent":[{"type":"text","text":"Contributions are welcome!"}],"type":"link"},"WWDCNotes.png":{"type":"image","alt":null,"identifier":"WWDCNotes.png","variants":[{"url":"\/images\/WWDCNotes\/WWDCNotes.png","traits":["1x","light"]}]},"Jeehut":{"variants":[{"url":"\/images\/WWDCNotes\/Jeehut.jpeg","traits":["1x","light"]}],"type":"image","identifier":"Jeehut","alt":"Profile image of Cihat Gündüz"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10013-Meet-StoreKit-for-SwiftUI":{"url":"\/documentation\/wwdcnotes\/wwdc23-10013-meet-storekit-for-swiftui","title":"Meet StoreKit for SwiftUI","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10013-Meet-StoreKit-for-SwiftUI","abstract":[{"type":"text","text":"Discover how you can use App Store product metadata and Xcode Previews to add in-app purchases to your app with just a few lines of code. Explore a new collection of UI components in StoreKit and learn how you can easily merchandise your products, present subscriptions in a way that helps users make informed decisions, and more."}],"kind":"article","role":"sampleCode"},"doc://WWDCNotes/documentation/WWDCNotes":{"url":"\/documentation\/wwdcnotes","kind":"symbol","abstract":[{"text":"Session notes shared by the community for the community.","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","title":"WWDC Notes","images":[{"type":"icon","identifier":"WWDCNotes.png"}],"role":"collection","type":"topic"}}}