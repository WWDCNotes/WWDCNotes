{"metadata":{"roleHeading":"WWDC19","modules":[{"name":"WWDC Notes"}],"role":"sampleCode","title":"Advances in Networking, Part 2"},"variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc19-713-advances-in-networking-part-2"],"traits":[{"interfaceLanguage":"swift"}]}],"kind":"article","abstract":[{"type":"text","text":"Take your networking apps to the next level with advances in Bonjour, custom message framing handlers, and the latest in security. You’ll also learn how to understand your networking performance by collecting metrics, and how best to use the modern networking frameworks on Apple platforms."}],"primaryContentSections":[{"kind":"content","content":[{"type":"heading","level":2,"anchor":"Bonjour","text":"Bonjour"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Bonjour is how you advertise and discover services on the network."}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Used anytime you print with AirPrint, connect to an airplane-enabled device, use HomeKit to automate your home, really anytime you are connecting to something without typing in an IP address or a host name.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Available on Linux, Android, Chrome OS, it’s how Chromecast does discovery. Microsoft added Bonjour support to Windows 10 back in 2015."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"A few improvements behind the scenes."}]}]}]},{"type":"heading","level":2,"anchor":"Building-Framing-Protocols","text":"Building Framing Protocols"},{"type":"paragraph","inlineContent":[{"text":"TL;DR: we can now create our own communication protocol that lets different devices communicate with each other efficiently. We define the payload etc.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"Used to encapsulate and encode application messages.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Two steps:"}]},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Implement a reusable framing protocol (NWProtocolFramerImplementation). Implement a reusable piece of code that defines your message framing. This is the protocol.","type":"text"},{"text":" ","type":"text"},{"text":"2.Add the framing protocol to a connection","type":"text"},{"text":" ","type":"text"},{"text":"Add that protocol into your connection’s protocol stacks so that you can use it for connection establishment as well as sending and receiving message.","type":"text"}]}]}]},{"type":"heading","level":2,"anchor":"Collecting-Metrics","text":"Collecting Metrics"},{"type":"paragraph","inlineContent":[{"text":"We have now more info on our connections.","type":"text"}]},{"type":"heading","level":2,"anchor":"Status-Update","text":"Status Update"},{"type":"paragraph","inlineContent":[{"type":"text","text":"For privacy, "},{"code":"CNCopyCurrentNetworkInfo","type":"codeVoice"},{"type":"text","text":" is more restricted now."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"To access to this info, the app must also meet at least one of the criteria below:"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Apps with permission to access location"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Currently enabled VPN app","type":"text"}]}]},{"content":[{"inlineContent":[{"code":"NEHotspotConfiguration","type":"codeVoice"},{"text":" (only Wi-Fi networks that the app configured)","type":"text"}],"type":"paragraph"}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Otherwise, it returns nil."}]},{"type":"heading","level":2,"anchor":"Written-By","text":"Written By"},{"type":"row","columns":[{"size":1,"content":[{"type":"paragraph","inlineContent":[{"identifier":"zntfdr","type":"image"}]}]},{"size":4,"content":[{"type":"heading","level":3,"text":"Federico Zanetello","anchor":"Federico-Zanetello"},{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","isActive":true,"type":"reference","overridingTitle":"Contributed Notes","overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}]},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"identifier":"https:\/\/github.com\/zntfdr","isActive":true,"type":"reference"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"identifier":"https:\/\/zntfdr.dev","isActive":true,"type":"reference"}]}]}],"numberOfColumns":5},{"type":"thematicBreak"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Missing anything? Corrections? "},{"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","isActive":true,"type":"reference"}]},{"type":"heading","level":2,"anchor":"Related-Sessions","text":"Related Sessions"},{"type":"links","style":"list","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110339-Build-devicetodevice-interactions-with-Network-Framework","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110356-Meet-distributed-actors-in-Swift","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10239-Reduce-network-delays-for-your-app","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-422-Designing-for-Adverse-Network-and-Temperature-Conditions","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-712-Advances-in-Networking-Part-1","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-716-Streaming-Audio-on-watchOS-6"]},{"type":"small","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Legal Notice"}]}]},{"type":"small","inlineContent":[{"text":"All content copyright © 2012 – 2025 Apple Inc. All rights reserved.","type":"text"},{"text":" ","type":"text"},{"text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries.","type":"text"},{"text":" ","type":"text"},{"text":"This website is not made by, affiliated with, nor endorsed by Apple.","type":"text"}]}]}],"sections":[],"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19"]]},"sampleCodeDownload":{"action":{"type":"reference","isActive":true,"overridingTitle":"Watch Video (61 min)","identifier":"https:\/\/developer.apple.com\/wwdc19\/713"},"kind":"sampleDownload"},"schemaVersion":{"minor":3,"patch":0,"major":0},"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-713-Advances-in-Networking-Part-2","interfaceLanguage":"swift"},"references":{"WWDC19.jpeg":{"identifier":"WWDC19.jpeg","type":"image","alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/WWDC19.jpeg"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-110339-Build-devicetodevice-interactions-with-Network-Framework":{"abstract":[{"text":"Learn how you can create integrated content experiences across multiple devices. We’ll introduce you to DeviceDiscoveryUI, which makes it easy to set up communication pathways and connect Apple TV with other devices like iPhone, iPad and Apple Watch. We’ll also explore common scenarios and provide best practices to help you enable frictionless device-to-device connectivity.","type":"text"}],"title":"Build device-to-device interactions with Network Framework","role":"sampleCode","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110339-Build-devicetodevice-interactions-with-Network-Framework","url":"\/documentation\/wwdcnotes\/wwdc22-110339-build-devicetodevice-interactions-with-network-framework","kind":"article"},"https://github.com/zntfdr":{"type":"link","identifier":"https:\/\/github.com\/zntfdr","url":"https:\/\/github.com\/zntfdr","title":"GitHub","titleInlineContent":[{"type":"text","text":"GitHub"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-716-Streaming-Audio-on-watchOS-6":{"title":"Streaming Audio on watchOS 6","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-716-Streaming-Audio-on-watchOS-6","url":"\/documentation\/wwdcnotes\/wwdc19-716-streaming-audio-on-watchos-6","abstract":[{"text":"Streaming audio on Apple Watch allows customers to enjoy your content wherever they go without their iPhone. Learn about the streaming APIs brought over from iOS to allow watchOS apps to create independent audio consumption experiences. Find out how to set up your audio session for streaming and explore best practices to provide the best experience for people moving between different network conditions.","type":"text"}],"kind":"article","type":"topic"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-110356-Meet-distributed-actors-in-Swift":{"type":"topic","url":"\/documentation\/wwdcnotes\/wwdc22-110356-meet-distributed-actors-in-swift","abstract":[{"type":"text","text":"Discover distributed actors — an extension of Swift’s actor model that simplifies development of distributed systems. We’ll explore how distributed actor isolation and location transparency can help you avoid the accidental complexity of networking, serialization, and other transport concerns when working with distributed apps and systems."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110356-Meet-distributed-actors-in-Swift","kind":"article","role":"sampleCode","title":"Meet distributed actors in Swift"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-712-Advances-in-Networking-Part-1":{"kind":"article","title":"Advances in Networking, Part 1","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-712-Advances-in-Networking-Part-1","abstract":[{"type":"text","text":"Keep up with new and evolving networking protocols and standards by leveraging the modern networking frameworks on all Apple platforms and following best practices for efficiency and performance. In this session, learn about Low Data Mode, Combine in URLSession, WebSocket, and improvements to network mobility."}],"url":"\/documentation\/wwdcnotes\/wwdc19-712-advances-in-networking-part-1","role":"sampleCode","type":"topic"},"doc://WWDCNotes/documentation/WWDCNotes/zntfdr":{"title":"Federico Zanetello (332 notes)","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","abstract":[{"text":"Software engineer with a strong passion for well-written code, thought-out composable architectures, automation, tests, and more.","type":"text"}],"url":"\/documentation\/wwdcnotes\/zntfdr","kind":"article","type":"topic","images":[{"identifier":"zntfdr.jpeg","type":"card"},{"identifier":"zntfdr.jpeg","type":"icon"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10239-Reduce-network-delays-for-your-app":{"type":"topic","kind":"article","abstract":[{"type":"text","text":"CPU performance and network throughput rates keep improving, but the speed of light is one limit that isn’t going any higher. Learn the APIs and best practices to maximize your app’s responsiveness and efficiency by keeping network round-trip times low and minimizing the number of round trips when performing network operations."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10239-Reduce-network-delays-for-your-app","url":"\/documentation\/wwdcnotes\/wwdc21-10239-reduce-network-delays-for-your-app","role":"sampleCode","title":"Reduce network delays for your app"},"zntfdr":{"type":"image","identifier":"zntfdr","alt":"Profile image of Federico Zanetello","variants":[{"url":"\/images\/WWDCNotes\/zntfdr.jpeg","traits":["1x","light"]}]},"WWDCNotes.png":{"identifier":"WWDCNotes.png","type":"image","alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/WWDCNotes.png"}]},"zntfdr.jpeg":{"type":"image","identifier":"zntfdr.jpeg","variants":[{"url":"\/images\/WWDCNotes\/zntfdr.jpeg","traits":["1x","light"]}],"alt":null},"https://developer.apple.com/wwdc19/713":{"type":"download","identifier":"https:\/\/developer.apple.com\/wwdc19\/713","checksum":null,"url":"https:\/\/developer.apple.com\/wwdc19\/713"},"WWDC19-Icon.png":{"identifier":"WWDC19-Icon.png","type":"image","alt":null,"variants":[{"url":"\/images\/WWDCNotes\/WWDC19-Icon.png","traits":["1x","light"]}]},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"type":"link","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","titleInlineContent":[{"type":"text","text":"Contributions are welcome!"}],"title":"Contributions are welcome!","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19":{"kind":"article","images":[{"type":"icon","identifier":"WWDC19-Icon.png"},{"type":"card","identifier":"WWDC19.jpeg"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19","title":"WWDC19","abstract":[{"text":"Xcode 11, Swift 5.1, iOS 13, macOS 10.15 (Catalina), tvOS 13, watchOS 6.","type":"text"},{"text":" ","type":"text"},{"text":"New APIs: ","type":"text"},{"type":"codeVoice","code":"Combine"},{"text":", ","type":"text"},{"type":"codeVoice","code":"Core Haptics"},{"text":", ","type":"text"},{"type":"codeVoice","code":"Create ML"},{"text":", and more.","type":"text"}],"url":"\/documentation\/wwdcnotes\/wwdc19","role":"collectionGroup","type":"topic"},"doc://WWDCNotes/documentation/WWDCNotes":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","type":"topic","abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"role":"collection","images":[{"type":"icon","identifier":"WWDCNotes.png"}],"title":"WWDC Notes","url":"\/documentation\/wwdcnotes","kind":"symbol"},"https://zntfdr.dev":{"type":"link","identifier":"https:\/\/zntfdr.dev","url":"https:\/\/zntfdr.dev","title":"Blog","titleInlineContent":[{"type":"text","text":"Blog"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-422-Designing-for-Adverse-Network-and-Temperature-Conditions":{"kind":"article","title":"Designing for Adverse Network and Temperature Conditions","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-422-Designing-for-Adverse-Network-and-Temperature-Conditions","abstract":[{"text":"World-class apps deliver a great user experience, even in the most strenuous environments. Learn how to use Xcode to simulate adverse network and temperature conditions. Put your app through its paces and get a firsthand view of how it performs. Hear about best practices that you can adopt to respond to challenging conditions.","type":"text"}],"url":"\/documentation\/wwdcnotes\/wwdc19-422-designing-for-adverse-network-and-temperature-conditions","role":"sampleCode","type":"topic"}}}