{"sampleCodeDownload":{"kind":"sampleDownload","action":{"type":"reference","overridingTitle":"Watch Video (39 min)","isActive":true,"identifier":"https:\/\/developer.apple.com\/wwdc19\/232"}},"abstract":[{"type":"text","text":"Natural Language is a framework designed to provide high-performance, on-device APIs for natural language processing tasks across all Apple platforms. Learn about the addition of Sentiment Analysis and Text Catalog support in the framework. Gain a deeper understanding of transfer learning for text-based models and the new support for Word Embeddings which can power great search experiences in your app."}],"primaryContentSections":[{"kind":"content","content":[{"text":"Overview","type":"heading","anchor":"overview","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"Two UX concerns when thinking about natural language :"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"output of natural language text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"User input of text (ie. search input)"}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"iOS 12 Natural language added text classification and entity tagging"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"From iOS 13 there’s a new category of Sentiment analysis:"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"The output is value from -1 to 1 represent a confidence score"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"This analysis is extremely performant (it uses a hardware-accelerated neural network).","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"The sentiment analysis is around the positivity or negativity of the sentence"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Support for seven languages"}],"type":"paragraph"}]}]},{"text":"Word Tagging","type":"heading","anchor":"Word-Tagging","level":2},{"type":"paragraph","inlineContent":[{"text":"Definition: given a sequence of words (a sentence), aka a sequence of tokens in NPL, we would like to assign a label to every token in this sequence.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC19-232-timothy"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"in iOS 13, Word Tagging has gotten improved support with ‘Catalogs’."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"New this year we can pass our own dictionary (text catalogs) in word tagging to make NPL even more powerful."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"This is done via ","type":"text"},{"type":"codeVoice","code":"MLGazeteer"},{"text":": ","type":"text"},{"type":"codeVoice","code":"MLGazetteer"},{"text":" and its associated APIs let you create and “Text Catalogs”.","type":"text"}]}]}]},{"type":"codeListing","code":["let entities = [","  \"Italian Cheese\": [\"Parmigiano-Reggiano\", \"Pecorino Romano\", \"Montasio\", ...],","  \"Mexican Cheese\": [\"Cotija\", \"Añejo\", \"Chihuahua\", \"Queso de cuajo\", ...],","  \"American Cheese\": [\"Monterey Jack\", \"Colby cheese\", \"Colorado Blackie\", ...],","  \"Greek Cheese\": [\"Feta\", \"Kasseri\", \"Manouri\", \"Kefalotyri\", ...], ","  ...","] "],"syntax":"swift"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"You can leverage tons of data and create a model that’s super compressed. Ex. All the named places and persons in Wikipedia (2.5 million entries) take up on 2.5 MB on disk!","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"It’s like language classification models similar to image classification in the Vision framework but for language"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Our gazetteer has priority over the default (iOS’s) one. Usage:","type":"text"}]}]}]},{"type":"codeListing","code":["import NaturalLanguage ","","let gazetteer = try! NLGazetteer(contents0f: url)","let tagger = NLTagger (tagSchemes: [.nameTypeOrLexicalClass]) ","tagger.setGazetteers([gazetteer], for: .nameTypeOrLexicalClass) "],"syntax":"swift"},{"text":"Word Embedding","type":"heading","anchor":"Word-Embedding","level":2},{"level":3,"text":"Definition","anchor":"Definition","type":"heading"},{"inlineContent":[{"text":"Vector representation of words.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Basically this is the same concepts behind the Image Similarity above, similar words (sneakers and flip flops for example) will be clustered together."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Mapping of a string in continuous sequence of numbers. The vectors represent a score of association. E.g. thunderstorm -> sky, clouds, cloudy"}],"type":"paragraph"},{"inlineContent":[{"identifier":"WWDC19-232-embedding","type":"image"}],"type":"paragraph"},{"level":3,"text":"Word Embedding in iOS 13","anchor":"Word-Embedding-in-iOS-13","type":"heading"},{"inlineContent":[{"text":"We can also have our own Word Embedding: maybe for a particular domain or for a language not supported by default.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"This also supports other standards (so we don’t need to create our own) as:","type":"text"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Word2vec","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"GloVe","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"fasttext"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Apple uses this technique combined with Image classification to produce search results in the new iOS 13 photos app: if we search for thunderstorm the photos app will suggest results for sky too","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"API supports the querying the ‘distance’ between two words, nearest neighbors etc.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The default models supports 7 languages. expect more in future iOS releases."}]}]},{"content":[{"inlineContent":[{"text":"Custom Word Embedding can be more domain specific and more sophisticated knowledge","type":"text"}],"type":"paragraph"}]}]},{"level":2,"text":"Transfer Learning for Text Classification","anchor":"Transfer-Learning-for-Text-Classification","type":"heading"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"This allows for smaller sets of data for training and improved accuracy For example, when your training data doesn’t include the words used by the user.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Transfer of learning notices the meaning of words and the context in which they are used. Using this knowledge, ML infers the meaning  for text classification","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Limited language support (static vs dynamic)","type":"text"}]}]}]},{"level":2,"text":"Written By","anchor":"Written-By","type":"heading"},{"type":"row","numberOfColumns":5,"columns":[{"size":1,"content":[{"type":"paragraph","inlineContent":[{"identifier":"zntfdr","type":"image"}]}]},{"size":4,"content":[{"anchor":"Federico-Zanetello","type":"heading","text":"Federico Zanetello","level":3},{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","overridingTitleInlineContent":[{"text":"Contributed Notes","type":"text"}],"overridingTitle":"Contributed Notes"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/zntfdr"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/zntfdr.dev"}]}]}]},{"inlineContent":[{"type":"text","text":"Missing anything? Corrections? "},{"type":"reference","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","isActive":true}],"type":"paragraph"},{"level":2,"text":"Related Sessions","anchor":"Related-Sessions","type":"heading"},{"type":"links","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10042-Explore-Natural-Language-multilingual-models","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10657-Make-apps-smarter-with-Natural-Language","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-209-Whats-New-in-Machine-Learning","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-234-Text-Recognition-in-Vision-Framework","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-428-Training-Text-Classifiers-in-Create-ML","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-430-Introducing-the-Create-ML-App","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-704-Core-ML-3-Framework"],"style":"list"},{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Legal Notice","type":"text"}]}],"type":"small"},{"inlineContent":[{"type":"text","text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}],"type":"small"}]}],"metadata":{"modules":[{"name":"WWDC Notes"}],"title":"Advances in Natural Language Framework","roleHeading":"WWDC19","role":"sampleCode"},"sections":[],"schemaVersion":{"minor":3,"major":0,"patch":0},"kind":"article","hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19"],["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10042-Explore-Natural-Language-multilingual-models"],["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10044-Discover-machine-learning-enhancements-in-Create-ML","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10042-Explore-Natural-Language-multilingual-models"]]},"variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc19-232-advances-in-natural-language-framework"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-232-Advances-in-Natural-Language-Framework"},"references":{"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-704-Core-ML-3-Framework":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-704-Core-ML-3-Framework","kind":"article","abstract":[{"text":"Core ML 3 now enables support for advanced model types that were never before available in on-device machine learning. Learn how model personalization brings amazing personalization opportunities to your app. Gain a deeper understanding of strategies for linking models and improvements to Core ML tools used for conversion of existing models.","type":"text"}],"title":"Core ML 3 Framework","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc19-704-core-ml-3-framework","role":"sampleCode"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19":{"url":"\/documentation\/wwdcnotes\/wwdc19","abstract":[{"type":"text","text":"Xcode 11, Swift 5.1, iOS 13, macOS 10.15 (Catalina), tvOS 13, watchOS 6."},{"type":"text","text":" "},{"type":"text","text":"New APIs: "},{"code":"Combine","type":"codeVoice"},{"type":"text","text":", "},{"code":"Core Haptics","type":"codeVoice"},{"type":"text","text":", "},{"code":"Create ML","type":"codeVoice"},{"type":"text","text":", and more."}],"role":"collectionGroup","type":"topic","title":"WWDC19","images":[{"identifier":"WWDC19-Icon.png","type":"icon"},{"identifier":"WWDC19.jpeg","type":"card"}],"kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19"},"doc://WWDCNotes/documentation/WWDCNotes/zntfdr":{"type":"topic","images":[{"type":"card","identifier":"zntfdr.jpeg"},{"type":"icon","identifier":"zntfdr.jpeg"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","url":"\/documentation\/wwdcnotes\/zntfdr","title":"Federico Zanetello (332 notes)","kind":"article","abstract":[{"type":"text","text":"Software engineer with a strong passion for well-written code, thought-out composable architectures, automation, tests, and more."}],"role":"sampleCode"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-430-Introducing-the-Create-ML-App":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-430-Introducing-the-Create-ML-App","kind":"article","abstract":[{"text":"Bringing the power of Core ML to your app begins with one challenge. How do you create your model? The new Create ML app provides an intuitive workflow for model creation. See how to train, evaluate, test, and preview your models quickly in this easy-to-use tool. Get started with one of the many available templates handling a number of powerful machine learning tasks. Learn more about the many features for continuous model improvement and experimentation.","type":"text"}],"title":"Introducing the Create ML App","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc19-430-introducing-the-create-ml-app","role":"sampleCode"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-234-Text-Recognition-in-Vision-Framework":{"url":"\/documentation\/wwdcnotes\/wwdc19-234-text-recognition-in-vision-framework","abstract":[{"type":"text","text":"Document Camera and Text Recognition features in Vision Framework enable you to extract text data from images. Learn how to leverage this built-in machine learning technology in your app. Gain a deeper understanding of the differences between fast versus accurate processing as well as character-based versus language-based recognition."}],"role":"sampleCode","type":"topic","title":"Text Recognition in Vision Framework","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-234-Text-Recognition-in-Vision-Framework"},"WWDC19-Icon.png":{"type":"image","variants":[{"url":"\/images\/WWDC19-Icon.png","traits":["1x","light"]}],"identifier":"WWDC19-Icon.png","alt":null},"WWDC19-232-embedding":{"type":"image","variants":[{"url":"\/images\/WWDC19-232-embedding.png","traits":["1x","light"]}],"identifier":"WWDC19-232-embedding","alt":null},"WWDC19-232-timothy":{"type":"image","variants":[{"url":"\/images\/WWDC19-232-timothy.png","traits":["1x","light"]}],"identifier":"WWDC19-232-timothy","alt":null},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10657-Make-apps-smarter-with-Natural-Language":{"url":"\/documentation\/wwdcnotes\/wwdc20-10657-make-apps-smarter-with-natural-language","abstract":[{"type":"text","text":"Explore how you can leverage the Natural Language framework to better analyze and understand text. Learn how to draw meaning from text using the framework’s built-in word and sentence embeddings, and how to create your own custom embeddings for specific needs."}],"role":"sampleCode","type":"topic","title":"Make apps smarter with Natural Language","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10657-Make-apps-smarter-with-Natural-Language"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-428-Training-Text-Classifiers-in-Create-ML":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-428-Training-Text-Classifiers-in-Create-ML","kind":"article","abstract":[{"text":"Create ML now enables you to create models for Natural Language that are built on state-of-the-art techniques. Learn how these models can be easily trained and tested with the Create ML app. Gain insight into the powerful new options for transfer learning, word embeddings, and text catalogs.","type":"text"}],"title":"Training Text Classifiers in Create ML","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc19-428-training-text-classifiers-in-create-ml","role":"sampleCode"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-209-Whats-New-in-Machine-Learning":{"url":"\/documentation\/wwdcnotes\/wwdc19-209-whats-new-in-machine-learning","abstract":[{"type":"text","text":"Core ML 3 has been greatly expanded to enable even more amazing, on-device machine learning capabilities in your app. Learn about the new Create ML app which makes it easy to build Core ML models for many tasks. Get an overview of model personalization; exciting updates in Vision, Natural Language, Sound, and Speech; and added support for cutting-edge model types."}],"role":"sampleCode","type":"topic","title":"What’s New in Machine Learning","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-209-Whats-New-in-Machine-Learning"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10044-Discover-machine-learning-enhancements-in-Create-ML":{"url":"\/documentation\/wwdcnotes\/wwdc23-10044-discover-machine-learning-enhancements-in-create-ml","abstract":[{"type":"text","text":"Find out how Create ML can help you do even more with machine learning models. Learn about the latest updates to image understanding and text-based tasks with multilingual BERT embeddings. Discover how easy it is to train models that can understand the content of images using multi-label classification. We’ll also share information about interactive model evaluation and the latest APIs for custom training data augmentations."}],"role":"sampleCode","type":"topic","title":"Discover machine learning enhancements in Create ML","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10044-Discover-machine-learning-enhancements-in-Create-ML"},"WWDC19.jpeg":{"identifier":"WWDC19.jpeg","alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC19.jpeg"}],"type":"image"},"https://zntfdr.dev":{"identifier":"https:\/\/zntfdr.dev","title":"Blog","type":"link","titleInlineContent":[{"text":"Blog","type":"text"}],"url":"https:\/\/zntfdr.dev"},"https://github.com/zntfdr":{"identifier":"https:\/\/github.com\/zntfdr","title":"GitHub","type":"link","titleInlineContent":[{"text":"GitHub","type":"text"}],"url":"https:\/\/github.com\/zntfdr"},"doc://WWDCNotes/documentation/WWDCNotes":{"title":"WWDC Notes","type":"topic","url":"\/documentation\/wwdcnotes","abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","kind":"symbol","role":"collection","images":[{"type":"icon","identifier":"WWDCNotes.png"}]},"https://developer.apple.com/wwdc19/232":{"identifier":"https:\/\/developer.apple.com\/wwdc19\/232","type":"download","url":"https:\/\/developer.apple.com\/wwdc19\/232","checksum":null},"WWDCNotes.png":{"identifier":"WWDCNotes.png","alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes.png"}],"type":"image"},"zntfdr.jpeg":{"identifier":"zntfdr.jpeg","alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/zntfdr.jpeg"}],"type":"image"},"zntfdr":{"identifier":"zntfdr","alt":"Profile image of Federico Zanetello","variants":[{"traits":["1x","light"],"url":"\/images\/zntfdr.jpeg"}],"type":"image"},"WWDC23-Icon.png":{"identifier":"WWDC23-Icon.png","alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-Icon.png"}],"type":"image"},"WWDC23.jpeg":{"identifier":"WWDC23.jpeg","alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23.jpeg"}],"type":"image"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","title":"Contributions are welcome!","type":"link","titleInlineContent":[{"text":"Contributions are welcome!","type":"text"}],"url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23":{"title":"WWDC23","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc23","abstract":[{"type":"text","text":"Xcode 15, Swift 5.9, iOS 17, macOS 14 (Sonoma), tvOS 17, visionOS 1, watchOS 10."},{"type":"text","text":" "},{"type":"text","text":"New APIs: "},{"code":"SwiftData","type":"codeVoice"},{"type":"text","text":", "},{"code":"Observation","type":"codeVoice"},{"type":"text","text":", "},{"code":"StoreKit","type":"codeVoice"},{"type":"text","text":" views, and more."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23","kind":"article","role":"collectionGroup","images":[{"type":"icon","identifier":"WWDC23-Icon.png"},{"type":"card","identifier":"WWDC23.jpeg"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10042-Explore-Natural-Language-multilingual-models":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10042-Explore-Natural-Language-multilingual-models","kind":"article","abstract":[{"text":"Learn how to create custom Natural Language models for text classification and word tagging using multilingual, transformer-based embeddings. We’ll show you how to train with less data and support up to 27 different languages across three scripts. Find out how to use these embeddings to fine-tune complex models trained in PyTorch and TensorFlow.","type":"text"}],"title":"Explore Natural Language multilingual models","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc23-10042-explore-natural-language-multilingual-models","role":"sampleCode"}}}