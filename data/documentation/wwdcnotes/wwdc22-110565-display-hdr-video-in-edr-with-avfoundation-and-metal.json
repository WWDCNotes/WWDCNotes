{"kind":"article","schemaVersion":{"major":0,"minor":3,"patch":0},"sampleCodeDownload":{"kind":"sampleDownload","action":{"isActive":true,"identifier":"https:\/\/developer.apple.com\/wwdc22\/110565","type":"reference","overridingTitle":"Watch Video (22 min)"}},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc22-110565-display-hdr-video-in-edr-with-avfoundation-and-metal"]}],"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110565-Display-HDR-video-in-EDR-with-AVFoundation-and-Metal","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Learn how you can take advantage of AVFoundation and Metal to build an efficient EDR pipeline. Follow along as we demonstrate how you can use AVPlayer to display HDR video as EDR, add playback into an app view, render it with Metal, and use Core Image or custom Metal shaders to add video effects such as keying or color management. Whether you develop games or pro apps, we‚Äôll help you decide which frameworks to use and share best practices for selecting transports, colorspaces, and pixelbuffer formats."}],"sections":[],"metadata":{"modules":[{"name":"WWDC Notes"}],"title":"Display HDR video in EDR with AVFoundation and Metal","role":"sampleCode","roleHeading":"WWDC22"},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22"]]},"primaryContentSections":[{"kind":"content","content":[{"anchor":"overview","level":2,"type":"heading","text":"Overview"},{"inlineContent":[{"type":"text","text":"üò± ‚ÄúNo Overview Available!‚Äù"}],"type":"paragraph"},{"inlineContent":[{"text":"Be the hero to change that by watching the video and providing notes! It‚Äôs super easy:","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"reference","isActive":true}],"type":"paragraph"},{"anchor":"Related-Sessions","level":2,"type":"heading","text":"Related Sessions"},{"style":"list","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10181-Support-HDR-images-in-your-app","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10113-Explore-EDR-on-iOS","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10114-Display-EDR-content-with-Core-Image-Metal-and-SwiftUI","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10161-Explore-HDR-rendering-with-EDR","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10008-Optimize-the-Core-Image-pipeline-for-your-video-app","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10009-Edit-and-play-back-HDR-video-with-AVFoundation"],"type":"links"},{"inlineContent":[{"inlineContent":[{"text":"Legal Notice","type":"text"}],"type":"strong"}],"type":"small"},{"inlineContent":[{"text":"All content copyright ¬© 2012 ‚Äì 2024 Apple Inc. All rights reserved.","type":"text"},{"text":" ","type":"text"},{"text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries.","type":"text"},{"text":" ","type":"text"},{"text":"This website is not made by, affiliated with, nor endorsed by Apple.","type":"text"}],"type":"small"}]}],"references":{"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10181-Support-HDR-images-in-your-app":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10181-Support-HDR-images-in-your-app","role":"sampleCode","kind":"article","abstract":[{"type":"text","text":"Learn how to identify, load, display, and create High Dynamic Range (HDR) still images in your app. Explore common HDR concepts and find out about the latest updates to the ISO specification. Learn how to identify and display HDR images with SwiftUI and UIKit, create them from ProRAW and RAW captures, and display them in CALayers. We‚Äôll also take you through CoreGraphics support for ISO HDR and share best practices for HDR adoption."}],"url":"\/documentation\/wwdcnotes\/wwdc23-10181-support-hdr-images-in-your-app","title":"Support HDR images in your app","type":"topic"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"type":"link","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","title":"Learn More‚Ä¶","titleInlineContent":[{"type":"text","text":"Learn More‚Ä¶"}],"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"},"doc://WWDCNotes/documentation/WWDCNotes":{"abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"type":"topic","kind":"symbol","images":[{"identifier":"WWDCNotes.png","type":"icon"}],"title":"WWDC Notes","role":"collection","url":"\/documentation\/wwdcnotes","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10009-Edit-and-play-back-HDR-video-with-AVFoundation":{"abstract":[{"type":"text","text":"Find out how you can support HDR editing and playback in your macOS app, and how you can determine if a specific hardware configuration is eligible for HDR playback. We‚Äôll show you how to use AVMutableVideoComposition with the built-in compositor and easily edit HDR content, explain how you can use Core Image‚Äôs built-in image filters to create your own AVMutableVideoComposition, and demonstrate how to create and use a custom compositor to enable HDR editing."}],"kind":"article","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10009-Edit-and-play-back-HDR-video-with-AVFoundation","title":"Edit and play back HDR video with AVFoundation","url":"\/documentation\/wwdcnotes\/wwdc20-10009-edit-and-play-back-hdr-video-with-avfoundation","role":"sampleCode"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10113-Explore-EDR-on-iOS":{"abstract":[{"type":"text","text":"EDR is Apple‚Äôs High Dynamic Range representation and rendering pipeline. Explore how you can render HDR content using EDR in your app and unleash the dynamic range capabilities of HDR displays on iPhone and iPad. We‚Äôll show how you can take advantage of the native EDR APIs on iOS, provide best practices to help you decide when HDR is appropriate, and share tips for tone-mapping and HDR content rendering. We‚Äôll also introduce you to Reference Mode and highlight how it provides a reference response to enable color-critical workflows such as color grading, editing, and content review."}],"type":"topic","url":"\/documentation\/wwdcnotes\/wwdc22-10113-explore-edr-on-ios","title":"Explore EDR on iOS","kind":"article","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10113-Explore-EDR-on-iOS"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10161-Explore-HDR-rendering-with-EDR":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10161-Explore-HDR-rendering-with-EDR","role":"sampleCode","kind":"article","abstract":[{"text":"EDR is Apple‚Äôs High Dynamic Range representation and rendering pipeline. Explore how you can render HDR content using EDR in your app and unleash the dynamic range capabilities of your HDR display including Apple‚Äôs internal displays and Pro Display XDR.","type":"text"}],"type":"topic","title":"Explore HDR rendering with EDR","url":"\/documentation\/wwdcnotes\/wwdc21-10161-explore-hdr-rendering-with-edr"},"WWDCNotes.png":{"alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes.png"}],"type":"image","identifier":"WWDCNotes.png"},"WWDC22-Icon.png":{"alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-Icon.png"}],"type":"image","identifier":"WWDC22-Icon.png"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10114-Display-EDR-content-with-Core-Image-Metal-and-SwiftUI":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10114-Display-EDR-content-with-Core-Image-Metal-and-SwiftUI","role":"sampleCode","kind":"article","abstract":[{"type":"text","text":"Discover how you can add support for rendering in Extended Dynamic Range (EDR) from a Core Image based multi-platform SwiftUI application. We‚Äôll outline best practices for displaying CIImages to a MTKView using ViewRepresentable. We‚Äôll also share the simple steps to enable EDR rendering and explore some of the over 150 built-in CIFilters that support EDR."}],"url":"\/documentation\/wwdcnotes\/wwdc22-10114-display-edr-content-with-core-image-metal-and-swiftui","title":"Display EDR content with Core Image, Metal, and SwiftUI","type":"topic"},"WWDC22.jpeg":{"alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22.jpeg"}],"type":"image","identifier":"WWDC22.jpeg"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22":{"images":[{"type":"icon","identifier":"WWDC22-Icon.png"},{"type":"card","identifier":"WWDC22.jpeg"}],"url":"\/documentation\/wwdcnotes\/wwdc22","title":"WWDC22","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22","abstract":[{"type":"text","text":"Xcode 14, Swift 5.7, iOS 16, macOS 13 (Ventura), tvOS 16, watchOS 9."},{"type":"text","text":" "},{"type":"text","text":"New APIs: "},{"code":"WeatherKit","type":"codeVoice"},{"type":"text","text":", "},{"code":"ScreenCaptureKit","type":"codeVoice"},{"text":", ","type":"text"},{"type":"codeVoice","code":"Swift Regex"},{"text":", and more.","type":"text"}],"role":"collectionGroup","type":"topic","kind":"article"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10008-Optimize-the-Core-Image-pipeline-for-your-video-app":{"url":"\/documentation\/wwdcnotes\/wwdc20-10008-optimize-the-core-image-pipeline-for-your-video-app","role":"sampleCode","type":"topic","abstract":[{"type":"text","text":"Explore how you can harness the processing power of Core Image and optimize video performance within your app. We‚Äôll show you how to build your Core Image pipeline for applying effects to your video in your apps: Discover how to reduce your app‚Äôs memory footprint when using CIContext, and learn best practices for using AVPlayView or MTKView view classes for video playback with Core Image filters. Additionally, find out why you should write your own custom kernels in the Metal Shading Language, and learn performance tips for optimal usage of Metal command queues in your Core Image pipeline."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10008-Optimize-the-Core-Image-pipeline-for-your-video-app","title":"Optimize the Core Image pipeline for your video app","kind":"article"},"https://developer.apple.com/wwdc22/110565":{"checksum":null,"type":"download","identifier":"https:\/\/developer.apple.com\/wwdc22\/110565","url":"https:\/\/developer.apple.com\/wwdc22\/110565"}}}