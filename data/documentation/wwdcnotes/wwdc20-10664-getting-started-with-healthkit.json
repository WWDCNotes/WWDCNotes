{"kind":"article","identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10664-Getting-started-with-HealthKit","interfaceLanguage":"swift"},"sections":[],"primaryContentSections":[{"content":[{"level":2,"anchor":"Whats-HealtKit","text":"What’s HealtKit?","type":"heading"},{"type":"paragraph","inlineContent":[{"text":"HealthKit is a framework that creates a central repository of all the user’s health data, allowing applications to read data from it and also contribute data to it.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"We can interact with health data on multiple devices including our iPhone, Apple Watch, and iCloud."}]},{"level":2,"type":"heading","anchor":"How-to-build-a-HealthKit-app","text":"How to build a HealthKit app"},{"inlineContent":[{"type":"text","text":"Three steps:"}],"type":"paragraph"},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Setup HealthKit","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Save data to HealthKit"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Read and display HealthKit data","type":"text"}],"type":"paragraph"}]}]},{"level":3,"type":"heading","anchor":"Setup-HealthKit","text":"Setup HealthKit"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Enable HealthKit capability","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Check whether the current platform (where the app is running on) supports HealthKit (via "},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/healthkit\/hkhealthstore\/1614180-ishealthdataavailable","isActive":true},{"type":"text","text":")"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Create an "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/healthkit\/hkhealthstore"},{"type":"text","text":", which is the access point for all data  managed by HealthKit"}],"type":"paragraph"}]}]},{"level":3,"type":"heading","anchor":"Save-data-to-HealthKit","text":"Save data to HealthKit"},{"inlineContent":[{"text":"All different types of health data are stored as ","type":"text"},{"isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/healthkit\/samples","type":"reference"},{"text":" (","type":"text"},{"isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/healthkit\/hksample","type":"reference"},{"text":").","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"Health Samples are all structured in a very similar pattern:","type":"text"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"they have an associated type of data that they represent"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"the value of that type of data","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"the time these health events occurred","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"meta-data representing any additional information about these samples"}]}]}]},{"inlineContent":[{"text":"To save data to HealthKit:","type":"text"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Request write access to HealthKit"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Create Health samples","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Save the samples via the "},{"type":"codeVoice","code":"HealthStore"}]}]}]},{"level":3,"type":"heading","anchor":"Read-data-from-HealthKit","text":"Read data from HealthKit"},{"inlineContent":[{"type":"text","text":"HealthKit offers "},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/healthkit\/queries","isActive":true},{"type":"text","text":" to read HealthKit data"}],"type":"paragraph"},{"inlineContent":[{"text":"To read data from HealthKit:","type":"text"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Create a query object, for each object you’ll need to define:"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"the type of data that you want to read"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"a filter (predicate) that will restrict the results returned from your query","type":"text"}]}]}],"type":"unorderedList"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Execute the query via the ","type":"text"},{"code":"HealthStore","type":"codeVoice"}]}]}]},{"level":2,"type":"heading","anchor":"Written-By","text":"Written By"},{"columns":[{"size":1,"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"zntfdr"}]}]},{"size":4,"content":[{"text":"Federico Zanetello","level":3,"type":"heading","anchor":"Federico-Zanetello"},{"inlineContent":[{"overridingTitleInlineContent":[{"text":"Contributed Notes","type":"text"}],"overridingTitle":"Contributed Notes","type":"reference","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","isActive":true},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"type":"reference","identifier":"https:\/\/github.com\/zntfdr","isActive":true},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"type":"reference","identifier":"https:\/\/zntfdr.dev","isActive":true}],"type":"paragraph"}]}],"type":"row","numberOfColumns":5},{"inlineContent":[{"text":"Missing anything? Corrections? ","type":"text"},{"type":"reference","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","isActive":true}],"type":"paragraph"},{"level":2,"type":"heading","anchor":"Related-Sessions","text":"Related Sessions"},{"style":"list","type":"links","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10287-Measure-health-with-motion","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10151-Whats-new-in-CareKit","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10182-Whats-new-in-HealthKit","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10184-Synchronize-health-data-with-HealthKit","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10656-Beyond-counting-steps"]},{"inlineContent":[{"inlineContent":[{"type":"text","text":"Legal Notice"}],"type":"strong"}],"type":"small"},{"inlineContent":[{"text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved.","type":"text"},{"text":" ","type":"text"},{"text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries.","type":"text"},{"text":" ","type":"text"},{"text":"This website is not made by, affiliated with, nor endorsed by Apple.","type":"text"}],"type":"small"}],"kind":"content"}],"sampleCodeDownload":{"action":{"isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/wwdc20\/10664","overridingTitle":"Watch Video (32 min)"},"kind":"sampleDownload"},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20"]]},"abstract":[{"text":"HealthKit helps you build world-class health and fitness apps by centralizing health data from third-party apps, iPhone, Apple Watch, and external health devices. Discover how you can manage authorization and privacy around Health data, read and write data to the shared Health Store, and use HealthKit’s built-in queries to fetch data and calculate statistics for that data.","type":"text"}],"metadata":{"role":"sampleCode","title":"Getting started with HealthKit","modules":[{"name":"WWDC Notes"}],"roleHeading":"WWDC20"},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc20-10664-getting-started-with-healthkit"]}],"schemaVersion":{"minor":3,"major":0,"patch":0},"references":{"https://developer.apple.com/documentation/healthkit/queries":{"type":"link","titleInlineContent":[{"text":"queries","type":"text"}],"identifier":"https:\/\/developer.apple.com\/documentation\/healthkit\/queries","title":"queries","url":"https:\/\/developer.apple.com\/documentation\/healthkit\/queries"},"https://developer.apple.com/documentation/healthkit/hksample":{"type":"link","titleInlineContent":[{"code":"HKSample","type":"codeVoice"}],"identifier":"https:\/\/developer.apple.com\/documentation\/healthkit\/hksample","title":"HKSample","url":"https:\/\/developer.apple.com\/documentation\/healthkit\/hksample"},"https://github.com/zntfdr":{"type":"link","titleInlineContent":[{"text":"GitHub","type":"text"}],"identifier":"https:\/\/github.com\/zntfdr","title":"GitHub","url":"https:\/\/github.com\/zntfdr"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"type":"link","titleInlineContent":[{"text":"Contributions are welcome!","type":"text"}],"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","title":"Contributions are welcome!","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"},"zntfdr.jpeg":{"type":"image","alt":null,"identifier":"zntfdr.jpeg","variants":[{"url":"\/images\/zntfdr.jpeg","traits":["1x","light"]}]},"WWDC20.jpeg":{"type":"image","alt":null,"identifier":"WWDC20.jpeg","variants":[{"url":"\/images\/WWDC20.jpeg","traits":["1x","light"]}]},"zntfdr":{"type":"image","alt":"Profile image of Federico Zanetello","identifier":"zntfdr","variants":[{"url":"\/images\/zntfdr.jpeg","traits":["1x","light"]}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20":{"title":"WWDC20","abstract":[{"type":"text","text":"Xcode 12, Swift 5.3, iOS 14, macOS 11 (Big Sur), tvOS 14, watchOS 7."},{"type":"text","text":" "},{"type":"text","text":"New APIs: "},{"type":"codeVoice","code":"WidgetKit"},{"type":"text","text":", "},{"type":"codeVoice","code":"StoreKit Testing"},{"type":"text","text":", and more."}],"images":[{"identifier":"WWDC20-Icon.png","type":"icon"},{"identifier":"WWDC20.jpeg","type":"card"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20","role":"collectionGroup","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc20","kind":"article"},"https://zntfdr.dev":{"type":"link","titleInlineContent":[{"text":"Blog","type":"text"}],"identifier":"https:\/\/zntfdr.dev","title":"Blog","url":"https:\/\/zntfdr.dev"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10184-Synchronize-health-data-with-HealthKit":{"type":"topic","role":"sampleCode","title":"Synchronize health data with HealthKit","abstract":[{"type":"text","text":"HealthKit provides you the tools to smartly manage health data anywhere, whether across multiple HealthKit-enabled devices such as iPhone and Apple Watch or with an external server to share data across a care team. In this session, we’ll dive into managing data versions via HealthKit’s built-in sync identifier metadata, how to detect changes in health data using an HKAnchoredObjectQuery, and cover best practices for ensuring you’re always working with the right data everywhere."}],"kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10184-Synchronize-health-data-with-HealthKit","url":"\/documentation\/wwdcnotes\/wwdc20-10184-synchronize-health-data-with-healthkit"},"https://developer.apple.com/wwdc20/10664":{"type":"download","identifier":"https:\/\/developer.apple.com\/wwdc20\/10664","checksum":null,"url":"https:\/\/developer.apple.com\/wwdc20\/10664"},"doc://WWDCNotes/documentation/WWDCNotes":{"title":"WWDC Notes","url":"\/documentation\/wwdcnotes","type":"topic","images":[{"identifier":"WWDCNotes.png","type":"icon"}],"abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"role":"collection","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","kind":"symbol"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10656-Beyond-counting-steps":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10656-Beyond-counting-steps","kind":"article","abstract":[{"text":"Move beyond step counting in your app and give people a much richer understanding of their mobility. We’ll detail how you can take advantage of mobility metrics in iOS and watchOS to measure movement in more distinct and actionable ways. Learn about the latest HealthKit APIs for accessing mobility data, strategies for meaningful data aggregation, and how to interpret results for people using your app.","type":"text"}],"title":"Beyond counting steps","url":"\/documentation\/wwdcnotes\/wwdc20-10656-beyond-counting-steps","type":"topic","role":"sampleCode"},"https://developer.apple.com/documentation/healthkit/hkhealthstore":{"type":"link","titleInlineContent":[{"text":"HKHealthStore","type":"text"}],"identifier":"https:\/\/developer.apple.com\/documentation\/healthkit\/hkhealthstore","title":"HKHealthStore","url":"https:\/\/developer.apple.com\/documentation\/healthkit\/hkhealthstore"},"https://developer.apple.com/documentation/healthkit/hkhealthstore/1614180-ishealthdataavailable":{"type":"link","titleInlineContent":[{"code":"HKHealthStore.isHealthDataAvailable()","type":"codeVoice"}],"identifier":"https:\/\/developer.apple.com\/documentation\/healthkit\/hkhealthstore\/1614180-ishealthdataavailable","title":"HKHealthStore.isHealthDataAvailable()","url":"https:\/\/developer.apple.com\/documentation\/healthkit\/hkhealthstore\/1614180-ishealthdataavailable"},"WWDCNotes.png":{"type":"image","alt":null,"identifier":"WWDCNotes.png","variants":[{"url":"\/images\/WWDCNotes.png","traits":["1x","light"]}]},"WWDC20-Icon.png":{"type":"image","alt":null,"identifier":"WWDC20-Icon.png","variants":[{"url":"\/images\/WWDC20-Icon.png","traits":["1x","light"]}]},"doc://WWDCNotes/documentation/WWDCNotes/zntfdr":{"kind":"article","url":"\/documentation\/wwdcnotes\/zntfdr","type":"topic","images":[{"identifier":"zntfdr.jpeg","type":"card"},{"identifier":"zntfdr.jpeg","type":"icon"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","title":"Federico Zanetello (332 notes)","abstract":[{"text":"Software engineer with a strong passion for well-written code, thought-out composable architectures, automation, tests, and more.","type":"text"}],"role":"sampleCode"},"https://developer.apple.com/documentation/healthkit/samples":{"type":"link","titleInlineContent":[{"text":"Health Samples","type":"text"}],"identifier":"https:\/\/developer.apple.com\/documentation\/healthkit\/samples","title":"Health Samples","url":"https:\/\/developer.apple.com\/documentation\/healthkit\/samples"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10287-Measure-health-with-motion":{"type":"topic","kind":"article","url":"\/documentation\/wwdcnotes\/wwdc21-10287-measure-health-with-motion","role":"sampleCode","title":"Measure health with motion","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10287-Measure-health-with-motion","abstract":[{"type":"text","text":"Discover how you can take your app’s health monitoring to the next level with motion data. Meet Walking Steadiness for iPhone and the six-minute-walk metric for Apple Watch: Walking Steadiness can help your app interpret someone’s quality of walking and risk of falling, while the six-minute-walk metric — along with the HealthKit estimate recalibration API — can track changes to walking endurance following acute events like surgery. We’ll show you how you can support these metrics and help provide actionable health data to people who use your app, helping improve patient care and clinical trials, especially as more services must be delivered remotely."}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10182-Whats-new-in-HealthKit":{"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10182-Whats-new-in-HealthKit","abstract":[{"text":"HealthKit is an essential framework that integrates first- and third-party health and fitness data to help people manage their personal health information. Learn about HealthKit’s latest updates, which provide read access to electrocardiograms on Apple Watch and log and track over a dozen new symptoms and their severity. We’ll also go through the latest mobility data types like walking speed and step length to help people monitor and understand their mobility over time.","type":"text"}],"title":"What’s new in HealthKit","url":"\/documentation\/wwdcnotes\/wwdc20-10182-whats-new-in-healthkit","role":"sampleCode","kind":"article"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10151-Whats-new-in-CareKit":{"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10151-Whats-new-in-CareKit","abstract":[{"text":"Build feature-rich research and care apps with CareKit: Learn about the latest advancements to our health framework, including new views for its modular architecture, improvements to the data store, and tighter integration with other frameworks on iOS. And discover how the open-source community continues to leverage CareKit to allow developers to push the boundaries of digital health — all while preserving privacy.","type":"text"}],"title":"What’s new in CareKit","url":"\/documentation\/wwdcnotes\/wwdc20-10151-whats-new-in-carekit","role":"sampleCode","kind":"article"}}}