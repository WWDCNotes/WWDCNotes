{"schemaVersion":{"major":0,"minor":3,"patch":0},"sampleCodeDownload":{"kind":"sampleDownload","action":{"isActive":true,"overridingTitle":"Watch Video (38 min)","identifier":"https:\/\/developer.apple.com\/wwdc19\/234","type":"reference"}},"metadata":{"title":"Text Recognition in Vision Framework","modules":[{"name":"WWDC Notes"}],"role":"sampleCode","roleHeading":"WWDC19"},"abstract":[{"text":"Document Camera and Text Recognition features in Vision Framework enable you to extract text data from images. Learn how to leverage this built-in machine learning technology in your app. Gain a deeper understanding of the differences between fast versus accurate processing as well as character-based versus language-based recognition.","type":"text"}],"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-234-Text-Recognition-in-Vision-Framework","interfaceLanguage":"swift"},"sections":[],"kind":"article","variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc19-234-text-recognition-in-vision-framework"]}],"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19"]]},"primaryContentSections":[{"kind":"content","content":[{"text":"Overview","level":2,"anchor":"overview","type":"heading"},{"inlineContent":[{"text":"New ","type":"text"},{"type":"codeVoice","code":"VNRecognizeTestRequest"},{"text":": this object turns an image into text.","type":"text"}],"type":"paragraph"},{"level":2,"anchor":"How-it-works","type":"heading","text":"How it works"},{"inlineContent":[{"text":"Two possibilities\/ways:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Fast"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"detects characters","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"recognizes characters (with a small model)","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"(Optional) Runs detection into a NLP process (Neuro-Linguistic Programming)"}],"type":"paragraph"}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Accurate"}]},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Uses a Neural Network to find the text (in terms of sentences placement in the image)"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Uses another Neural Network to read the text"}]}]},{"content":[{"inlineContent":[{"text":"(Optional) Runs detection into a NLP process (Neuro-Linguistic Programming)","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"}]}],"type":"unorderedList"},{"inlineContent":[{"text":"Fast is…much faster (on a small note picture, ~0.25s vs 2s), however is less accurate (the more standard the text is, the better results).","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Accurate is slower but much accurate, especially when “special” fonts are used."}],"type":"paragraph"},{"level":2,"anchor":"Other-differences","type":"heading","text":"Other differences"},{"inlineContent":[{"identifier":"WWDC19-234-table","type":"image"}],"type":"paragraph"},{"inlineContent":[{"text":"Regarding the ","type":"text"},{"inlineContent":[{"type":"text","text":"NLP Processing phase"}],"type":"strong"},{"text":":","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"Corrects typical recognition errors (zeroes to letter “o” for example)","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"It can get in the way for codes (c001 can become cool)","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Increases the processing time and memory budget"}],"type":"paragraph"}]}],"type":"unorderedList"},{"inlineContent":[{"type":"text","text":"Once recognized the text, we can also query for bounding box in the images for recognized text (for example, to highlight one recognized word)."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"When using the camera, we can also have an on-screen “region of interest” (ROI), which helps with the performance by, instead of scanning the whole camera frame, just that region. We set what this region is."}],"type":"paragraph"},{"level":2,"anchor":"Best-practices","type":"heading","text":"Best practices"},{"inlineContent":[{"text":"If you know the language of the document to be scanned, set it.","type":"text"},{"text":" ","type":"text"},{"text":"If you know the format\/lexicon of what you want to scan, pass it to the Vision recognizer (like the pattern for a phone number: ","type":"text"},{"type":"codeVoice","code":"+1 (0) xxx - xxx xxxx"},{"text":") .","type":"text"},{"text":" ","type":"text"},{"text":"This also helps the NLP process as the result will match the passed lexicon.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"If the text is big, you can set the minimum text height, which is a number from 0 to 1, where 0.3 for example is 30% of the camera image. This helps with performance (faster scanning) and lower memory usage.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"If the textRecognition is not the core experience of your product, you can set it to run only on the CPU to give more gpu\/neural network for other core experiences (like ARKit)"}],"type":"paragraph"},{"inlineContent":[{"text":"We also have available a progress handler that we can use to tell the user what it the state of the scan:","type":"text"},{"text":" ","type":"text"},{"text":"textRecognitionRequest.progressHandler = …","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"We can cancel a recognition if no longer needed via ","type":"text"},{"type":"codeVoice","code":"textRecognitionRequest.cancel()"}],"type":"paragraph"},{"level":2,"anchor":"Processing-Results","type":"heading","text":"Processing Results"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Compare spatial info (position, scale, rotation)"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Use "},{"code":"NSDataDetector","type":"codeVoice"},{"type":"text","text":"s for addresses, URLs"}]}]}],"type":"unorderedList"},{"level":2,"anchor":"Written-By","type":"heading","text":"Written By"},{"numberOfColumns":5,"type":"row","columns":[{"content":[{"inlineContent":[{"identifier":"zntfdr","type":"image"}],"type":"paragraph"}],"size":1},{"content":[{"level":3,"text":"Federico Zanetello","type":"heading","anchor":"Federico-Zanetello"},{"type":"paragraph","inlineContent":[{"type":"reference","overridingTitle":"Contributed Notes","isActive":true,"overridingTitleInlineContent":[{"text":"Contributed Notes","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/zntfdr"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/zntfdr.dev"}]}],"size":4}]},{"inlineContent":[{"type":"text","text":"Missing anything? Corrections? "},{"type":"reference","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","isActive":true}],"type":"paragraph"},{"level":2,"anchor":"Related-Sessions","type":"heading","text":"Related Sessions"},{"style":"list","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10041-Extract-document-data-using-Vision","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10673-Explore-Computer-Vision-APIs","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-209-Whats-New-in-Machine-Learning","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-222-Understanding-Images-in-Vision-Framework","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-232-Advances-in-Natural-Language-Framework","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-704-Core-ML-3-Framework"],"type":"links"},{"inlineContent":[{"inlineContent":[{"type":"text","text":"Legal Notice"}],"type":"strong"}],"type":"small"},{"inlineContent":[{"type":"text","text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}],"type":"small"}]}],"references":{"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10673-Explore-Computer-Vision-APIs":{"abstract":[{"text":"Learn how to bring Computer Vision intelligence to your app when you combine the power of Core Image, Vision, and Core ML. Go beyond machine learning alone and gain a deeper understanding of images and video. Discover new APIs in Core Image and Vision to bring Computer Vision to your application like new thresholding filters as well as Contour Detection and Optical Flow. And consider ways to use Core Image for preprocessing and visualization of these results.","type":"text"}],"url":"\/documentation\/wwdcnotes\/wwdc20-10673-explore-computer-vision-apis","kind":"article","type":"topic","title":"Explore Computer Vision APIs","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10673-Explore-Computer-Vision-APIs","role":"sampleCode"},"zntfdr":{"type":"image","alt":"Profile image of Federico Zanetello","variants":[{"url":"\/images\/zntfdr.jpeg","traits":["1x","light"]}],"identifier":"zntfdr"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-209-Whats-New-in-Machine-Learning":{"title":"What’s New in Machine Learning","kind":"article","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-209-Whats-New-in-Machine-Learning","type":"topic","abstract":[{"type":"text","text":"Core ML 3 has been greatly expanded to enable even more amazing, on-device machine learning capabilities in your app. Learn about the new Create ML app which makes it easy to build Core ML models for many tasks. Get an overview of model personalization; exciting updates in Vision, Natural Language, Sound, and Speech; and added support for cutting-edge model types."}],"url":"\/documentation\/wwdcnotes\/wwdc19-209-whats-new-in-machine-learning"},"WWDC19-Icon.png":{"type":"image","alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC19-Icon.png"}],"identifier":"WWDC19-Icon.png"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19":{"type":"topic","url":"\/documentation\/wwdcnotes\/wwdc19","kind":"article","role":"collectionGroup","abstract":[{"type":"text","text":"Xcode 11, Swift 5.1, iOS 13, macOS 10.15 (Catalina), tvOS 13, watchOS 6."},{"type":"text","text":" "},{"type":"text","text":"New APIs: "},{"code":"Combine","type":"codeVoice"},{"type":"text","text":", "},{"code":"Core Haptics","type":"codeVoice"},{"type":"text","text":", "},{"code":"Create ML","type":"codeVoice"},{"type":"text","text":", and more."}],"title":"WWDC19","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19","images":[{"type":"icon","identifier":"WWDC19-Icon.png"},{"type":"card","identifier":"WWDC19.jpeg"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-222-Understanding-Images-in-Vision-Framework":{"kind":"article","type":"topic","role":"sampleCode","title":"Understanding Images in Vision Framework","url":"\/documentation\/wwdcnotes\/wwdc19-222-understanding-images-in-vision-framework","abstract":[{"type":"text","text":"Learn all about the many advances in the Vision Framework including effortless image classification, image saliency, determining image similarity, and improvements in facial feature detection, and face capture quality scoring. This packed session will show you how easy it is to bring powerful computer vision techniques to your apps."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-222-Understanding-Images-in-Vision-Framework"},"https://github.com/zntfdr":{"title":"GitHub","titleInlineContent":[{"type":"text","text":"GitHub"}],"identifier":"https:\/\/github.com\/zntfdr","type":"link","url":"https:\/\/github.com\/zntfdr"},"zntfdr.jpeg":{"identifier":"zntfdr.jpeg","type":"image","alt":null,"variants":[{"url":"\/images\/zntfdr.jpeg","traits":["1x","light"]}]},"WWDC19-234-table":{"identifier":"WWDC19-234-table","type":"image","alt":null,"variants":[{"url":"\/images\/WWDC19-234-table.png","traits":["1x","light"]}]},"doc://WWDCNotes/documentation/WWDCNotes/zntfdr":{"abstract":[{"text":"Software engineer with a strong passion for well-written code, thought-out composable architectures, automation, tests, and more.","type":"text"}],"type":"topic","url":"\/documentation\/wwdcnotes\/zntfdr","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","images":[{"type":"card","identifier":"zntfdr.jpeg"},{"type":"icon","identifier":"zntfdr.jpeg"}],"title":"Federico Zanetello (332 notes)","role":"sampleCode"},"https://zntfdr.dev":{"title":"Blog","titleInlineContent":[{"type":"text","text":"Blog"}],"identifier":"https:\/\/zntfdr.dev","type":"link","url":"https:\/\/zntfdr.dev"},"WWDCNotes.png":{"identifier":"WWDCNotes.png","type":"image","alt":null,"variants":[{"url":"\/images\/WWDCNotes.png","traits":["1x","light"]}]},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"title":"Contributions are welcome!","titleInlineContent":[{"type":"text","text":"Contributions are welcome!"}],"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"link","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-704-Core-ML-3-Framework":{"title":"Core ML 3 Framework","kind":"article","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-704-Core-ML-3-Framework","type":"topic","abstract":[{"type":"text","text":"Core ML 3 now enables support for advanced model types that were never before available in on-device machine learning. Learn how model personalization brings amazing personalization opportunities to your app. Gain a deeper understanding of strategies for linking models and improvements to Core ML tools used for conversion of existing models."}],"url":"\/documentation\/wwdcnotes\/wwdc19-704-core-ml-3-framework"},"https://developer.apple.com/wwdc19/234":{"identifier":"https:\/\/developer.apple.com\/wwdc19\/234","type":"download","url":"https:\/\/developer.apple.com\/wwdc19\/234","checksum":null},"WWDC19.jpeg":{"type":"image","alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC19.jpeg"}],"identifier":"WWDC19.jpeg"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-232-Advances-in-Natural-Language-Framework":{"kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-232-Advances-in-Natural-Language-Framework","type":"topic","role":"sampleCode","abstract":[{"text":"Natural Language is a framework designed to provide high-performance, on-device APIs for natural language processing tasks across all Apple platforms. Learn about the addition of Sentiment Analysis and Text Catalog support in the framework. Gain a deeper understanding of transfer learning for text-based models and the new support for Word Embeddings which can power great search experiences in your app.","type":"text"}],"title":"Advances in Natural Language Framework","url":"\/documentation\/wwdcnotes\/wwdc19-232-advances-in-natural-language-framework"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10041-Extract-document-data-using-Vision":{"url":"\/documentation\/wwdcnotes\/wwdc21-10041-extract-document-data-using-vision","title":"Extract document data using Vision","role":"sampleCode","abstract":[{"text":"Discover how Vision can provide expert image recognition and analysis in your app to extract information from documents, recognize text in multiple languages, and identify barcodes. We’ll explore the latest updates to Text Recognition and Barcode Detection, show you how to bring all these tools together with Core ML, and help your app make greater sense of the world through images or the live camera.","type":"text"}],"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10041-Extract-document-data-using-Vision","kind":"article"},"doc://WWDCNotes/documentation/WWDCNotes":{"abstract":[{"text":"Session notes shared by the community for the community.","type":"text"}],"type":"topic","url":"\/documentation\/wwdcnotes","kind":"symbol","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","images":[{"type":"icon","identifier":"WWDCNotes.png"}],"title":"WWDC Notes","role":"collection"}}}