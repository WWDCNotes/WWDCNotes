{"metadata":{"modules":[{"name":"WWDC Notes"}],"title":"What’s New in Apple File Systems","roleHeading":"WWDC19","role":"sampleCode"},"sampleCodeDownload":{"action":{"identifier":"https:\/\/developer.apple.com\/wwdc19\/710","isActive":true,"overridingTitle":"Watch Video (34 min)","type":"reference"},"kind":"sampleDownload"},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19"]]},"primaryContentSections":[{"kind":"content","content":[{"anchor":"Protecting-System-Software","type":"heading","level":2,"text":"Protecting System Software"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"System integrity protection to prevent file system (FS) modification by malicious software"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"System FS will now be read-only"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Connection between read-only and read-write FS by ","type":"text"},{"inlineContent":[{"text":"Firmlinks","type":"text"}],"type":"strong"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Firmlinks"}]}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Consistent forward and backward traversal of the file name space"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"For directories only"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Created on the system volume on installation time","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Neither expected to be noticed by any user nor application","type":"text"}],"type":"paragraph"}]}]}]},{"content":[{"inlineContent":[{"text":"Read-only state can be disabled temporarily until after a reboot","type":"text"}],"type":"paragraph"}]}]},{"anchor":"Apple-Software-Restore-ASR-Volume-Replication-and-Snapshots","type":"heading","level":2,"text":"Apple Software Restore (ASR), Volume Replication and Snapshots"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Intention is to copy whole volume content including metadata which is superior to file-only copy","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Usable by Enterprise\/Education, IT to setup labs and\/or backup utilities"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"New: APFS volume replication with ASR","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Decryption \/ Encryption is no part of generation \/ restore process (on-the-fly defragmentation)","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Restore and erase target volume: "},{"code":"sudo asr restore --source file.dmg --target \/Volumes\/Volume2 --erase","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Restore to newly created target volume: "},{"type":"codeVoice","code":"sudo asr restore --source file.dmg --target \/dev\/disk1"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Restore with snapshots: ","type":"text"},{"type":"codeVoice","code":"sudo asr restore --source file.dmg --target \/Volumes\/Target --toSnapshot Snap1"}]}]},{"content":[{"inlineContent":[{"text":"Restore snapshot delta: ","type":"text"},{"code":"sudo asr restore --source file.dmg --target \/Volumes\/Target --fromSnapshot Snap1 --toSnapshot Snap2","type":"codeVoice"}],"type":"paragraph"}]}]}]}]},{"anchor":"External-File-Access-on-iOS","type":"heading","level":2,"text":"External File Access on iOS"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Access files from network (SMB 3.0) and USB (unencrypted APFS, unencrypted HFS Plus, FAT, ExFAT) sources"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"For security reasons all FS manipulations happen in dedicate process space, not in kernel"}]}]},{"content":[{"inlineContent":[{"text":"Pay attention to volume capabilities (case sensitivity, …)","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"File movement may take time now"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"External devices can disappear","type":"text"}]}]}]},{"anchor":"Written-By","type":"heading","level":2,"text":"Written By"},{"type":"row","numberOfColumns":5,"columns":[{"size":1,"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"Blackjacx"}]}]},{"size":4,"content":[{"type":"heading","level":3,"text":"Stefan Herold","anchor":"Stefan-Herold"},{"type":"paragraph","inlineContent":[{"isActive":true,"overridingTitleInlineContent":[{"text":"Contributed Notes","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/Blackjacx","type":"reference","overridingTitle":"Contributed Notes"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"isActive":true,"identifier":"https:\/\/github.com\/Blackjacx","type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"isActive":true,"identifier":"https:\/\/www.stefan-herold.net","type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"isActive":true,"identifier":"https:\/\/x.com\/blackjacxxx","type":"reference"}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Missing anything? Corrections? "},{"type":"reference","identifier":"https:\/\/wwdcnotes.github.io\/WWDCNotes\/documentation\/wwdcnotes\/contributing","isActive":true}]},{"anchor":"Related-Sessions","type":"heading","level":2,"text":"Related Sessions"},{"style":"list","type":"links","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-719-Whats-New-in-File-Management-and-Quick-Look"]},{"type":"small","inlineContent":[{"inlineContent":[{"type":"text","text":"Legal Notice"}],"type":"strong"}]},{"type":"small","inlineContent":[{"text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved.","type":"text"},{"text":" ","type":"text"},{"text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries.","type":"text"},{"text":" ","type":"text"},{"text":"This website is not made by, affiliated with, nor endorsed by Apple.","type":"text"}]}]}],"kind":"article","schemaVersion":{"patch":0,"major":0,"minor":3},"abstract":[{"text":"Learn about what’s new in file system technology, including changes to file system layout and imaging technologies. If you are affected by the new Read Only System Volume, this is a session you will not want to miss.","type":"text"}],"sections":[],"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-710-Whats-New-in-Apple-File-Systems","interfaceLanguage":"swift"},"variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc19-710-whats-new-in-apple-file-systems"],"traits":[{"interfaceLanguage":"swift"}]}],"references":{"https://developer.apple.com/wwdc19/710":{"type":"download","url":"https:\/\/developer.apple.com\/wwdc19\/710","identifier":"https:\/\/developer.apple.com\/wwdc19\/710","checksum":null},"https://wwdcnotes.github.io/WWDCNotes/documentation/wwdcnotes/contributing":{"title":"Contributions are welcome!","type":"link","url":"https:\/\/wwdcnotes.github.io\/WWDCNotes\/documentation\/wwdcnotes\/contributing","identifier":"https:\/\/wwdcnotes.github.io\/WWDCNotes\/documentation\/wwdcnotes\/contributing","titleInlineContent":[{"text":"Contributions are welcome!","type":"text"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-719-Whats-New-in-File-Management-and-Quick-Look":{"title":"What’s New in File Management and Quick Look","kind":"article","type":"topic","role":"sampleCode","abstract":[{"text":"Your iOS app can now access files stored on external devices via USB and SMB. Understand best practices for creating a document-based app that reads, writes, and manages files on physical media or networked storage. Learn about enhancements to Quick Look on iOS and macOS that help you access and display file thumbnails.","type":"text"}],"url":"\/documentation\/wwdcnotes\/wwdc19-719-whats-new-in-file-management-and-quick-look","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-719-Whats-New-in-File-Management-and-Quick-Look"},"https://x.com/blackjacxxx":{"title":"X\/Twitter","type":"link","url":"https:\/\/x.com\/blackjacxxx","identifier":"https:\/\/x.com\/blackjacxxx","titleInlineContent":[{"text":"X\/Twitter","type":"text"}]},"Blackjacx.jpeg":{"alt":null,"type":"image","identifier":"Blackjacx.jpeg","variants":[{"url":"\/images\/Blackjacx.jpeg","traits":["1x","light"]}]},"WWDC19.jpeg":{"alt":null,"type":"image","identifier":"WWDC19.jpeg","variants":[{"url":"\/images\/WWDC19.jpeg","traits":["1x","light"]}]},"doc://WWDCNotes/documentation/WWDCNotes/Blackjacx":{"type":"topic","abstract":[{"text":"iOS Engineer a.d. 2009 • iOS \/ OSX Enthusiast • WWDC19 • Past: flinc, Deutsche Telekom, NOLTE&LAUTH • Passionate Mountainbiker","type":"text"}],"kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/Blackjacx","images":[{"type":"card","identifier":"Blackjacx.jpeg"},{"type":"icon","identifier":"Blackjacx.jpeg"}],"title":"Stefan Herold (28 notes)","url":"\/documentation\/wwdcnotes\/blackjacx","role":"sampleCode"},"WWDCNotes.png":{"alt":null,"type":"image","identifier":"WWDCNotes.png","variants":[{"url":"\/images\/WWDCNotes.png","traits":["1x","light"]}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19":{"abstract":[{"text":"Xcode 11, Swift 5.1, iOS 13, macOS 10.15 (Catalina), tvOS 13, watchOS 6.","type":"text"},{"text":" ","type":"text"},{"text":"New APIs: ","type":"text"},{"code":"Combine","type":"codeVoice"},{"text":", ","type":"text"},{"code":"Core Haptics","type":"codeVoice"},{"text":", ","type":"text"},{"code":"Create ML","type":"codeVoice"},{"text":", and more.","type":"text"}],"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19","role":"collectionGroup","kind":"article","images":[{"type":"icon","identifier":"WWDC19-Icon.png"},{"type":"card","identifier":"WWDC19.jpeg"}],"title":"WWDC19","url":"\/documentation\/wwdcnotes\/wwdc19"},"https://github.com/Blackjacx":{"title":"GitHub","type":"link","url":"https:\/\/github.com\/Blackjacx","identifier":"https:\/\/github.com\/Blackjacx","titleInlineContent":[{"text":"GitHub","type":"text"}]},"https://www.stefan-herold.net":{"title":"Blog","type":"link","url":"https:\/\/www.stefan-herold.net","identifier":"https:\/\/www.stefan-herold.net","titleInlineContent":[{"text":"Blog","type":"text"}]},"Blackjacx":{"alt":"Profile image of Stefan Herold","type":"image","identifier":"Blackjacx","variants":[{"url":"\/images\/Blackjacx.jpeg","traits":["1x","light"]}]},"WWDC19-Icon.png":{"alt":null,"type":"image","identifier":"WWDC19-Icon.png","variants":[{"url":"\/images\/WWDC19-Icon.png","traits":["1x","light"]}]},"doc://WWDCNotes/documentation/WWDCNotes":{"title":"WWDC Notes","abstract":[{"text":"Session notes shared by the community for the community.","type":"text"}],"role":"collection","type":"topic","kind":"symbol","images":[{"type":"icon","identifier":"WWDCNotes.png"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","url":"\/documentation\/wwdcnotes"}}}