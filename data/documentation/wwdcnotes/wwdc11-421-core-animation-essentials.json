{"schemaVersion":{"patch":0,"major":0,"minor":3},"metadata":{"title":"Core Animation Essentials","role":"sampleCode","roleHeading":"WWDC11","modules":[{"name":"WWDC Notes"}]},"sections":[],"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC11-421-Core-Animation-Essentials","interfaceLanguage":"swift"},"kind":"article","hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC11"]]},"primaryContentSections":[{"kind":"content","content":[{"type":"heading","level":2,"text":"Overview","anchor":"overview"},{"type":"aside","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Check out the "},{"identifier":"https:\/\/developer.apple.com\/library\/archive\/documentation\/Cocoa\/Conceptual\/CoreAnimation_guide\/Introduction\/Introduction.html#\/\/apple_ref\/doc\/uid\/TP40004514-CH1-SW1","isActive":true,"type":"reference"},{"type":"text","text":"."}]}],"name":"Note","style":"note"},{"type":"aside","content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/mihaelamj\/CubeIn3DWithCoreAnimation"}]}],"name":"Note","style":"note"},{"type":"heading","level":2,"text":"Architecture","anchor":"Architecture"},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC11-421-CAArch"}]},{"type":"heading","level":2,"text":"Introduction","anchor":"Introduction"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Imagine that we’d like to move a layer from point "},{"type":"text","text":"a"},{"type":"text","text":" to point "},{"type":"text","text":"b"},{"type":"text","text":". We’d do this by setting the "},{"code":"position","type":"codeVoice"},{"type":"text","text":" of the layer:"}]},{"type":"codeListing","syntax":"objc","code":["ball.position = p;"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"When we do this, Core Animation needs to take care for mainly two things for the animation to happen:"}]},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"interpolated points","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"timing (timing function that controls how the appearance will look like)","type":"text"}],"type":"paragraph"}]}]},{"type":"paragraph","inlineContent":[{"text":"Once these have been set, Core Animation will play the animation by producing all the intermediate frames and display them onto the device.","type":"text"}]},{"type":"heading","level":2,"text":"Layers and layer properties","anchor":"Layers-and-layer-properties"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Every ","type":"text"},{"code":"UIView","type":"codeVoice"},{"text":" has a ","type":"text"},{"code":"CALayer","type":"codeVoice"},{"text":" (accessible via ","type":"text"},{"code":"view.layer","type":"codeVoice"},{"text":")","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"UIView","type":"codeVoice"},{"text":"‘s ","type":"text"},{"code":"drawRect","type":"codeVoice"},{"text":" renders directly into the layer (it’s like we’re drawing directly there)","type":"text"}]}]}]},{"type":"heading","level":3,"text":"How to create and add new layers","anchor":"How-to-create-and-add-new-layers"},{"type":"codeListing","syntax":"objc","code":["#import <QuartzCore\/QuartzCore.h>","","CALayer* myLayer = [CALayer layer];","myLayer.bounds = CGRectMake(0,0,w,h);","myLayer.position = CGPointMake(x,y); \/\/ coordinates in the coordinate space of the hosting layer","myLayer.content = familyImage; \/\/ provide content of the layer, in this case an image","[view.layer addSubLayer:myLayer];"]},{"type":"paragraph","inlineContent":[{"text":"Adding\/managing layers is similar to adding\/managing ","type":"text"},{"type":"codeVoice","code":"UIView"},{"text":"s, with the difference that they’re much more lightweight.","type":"text"},{"text":"\n","type":"text"},{"text":"Here are some of the methods you might want to use:","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"addSublayer:"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"insertSublayer:above:"},{"type":"text","text":" (and similar)"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"setNeedsLayout"}]}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"layoutSublayers"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"setNeedsDisplay"}]}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"drawInContext:"},{"text":" - you can override this in your ","type":"text"},{"type":"codeVoice","code":"CALayer"},{"text":" subclass to provide your context using CoreGraphics","type":"text"}],"type":"paragraph"}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"A more common way to override "},{"type":"codeVoice","code":"drawInContext:"},{"type":"text","text":" is to set the layer "},{"type":"codeVoice","code":"delegate"},{"type":"text","text":" and implement "},{"type":"codeVoice","code":"drawLayer:inContext:"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Layers support transformations is 3D (it has x, y, and z axes)."}]},{"type":"heading","level":2,"text":"Animating layer properties","anchor":"Animating-layer-properties"},{"type":"paragraph","inlineContent":[{"text":"An animation is an interpolations of points from a start position (","type":"text"},{"type":"codeVoice","code":"fromValue"},{"text":") to an end position (","type":"text"},{"type":"codeVoice","code":"toValue"},{"text":").","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"There are two styles of animations in Core Animation:","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"implicit animations","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"explicit animations"}]}]}]},{"type":"heading","level":3,"text":"Implicit animations","anchor":"Implicit-animations"},{"type":"codeListing","syntax":"objc","code":["\/\/ This layer will fade out with a default animation duration of 1 second","myLayer.opacity = 0;"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If we want to change the duration, we do so via a "},{"code":"CATransaction","type":"codeVoice"},{"type":"text","text":":"}]},{"type":"codeListing","syntax":"objc","code":["[CATransaction setAnimationDuration:5]","myLayer.opacity = 0;"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Note that the position of these lines is important: if "},{"code":"myLayer.opacity = 0;","type":"codeVoice"},{"type":"text","text":" came before the transaction duration, that animation would have used the default animation duration."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Behind the scenes:"},{"type":"text","text":"\n"},{"type":"text","text":"When we do a layer property change, if Core Animation finds a "},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/quartzcore\/caaction","isActive":true},{"type":"text","text":" for that property, then Core Animation will create a "},{"type":"codeVoice","code":"CAAnimation"},{"type":"text","text":" and adds it to the layer via "},{"type":"codeVoice","code":"[self addAnimation:forKey:]"},{"type":"text","text":", which creates the implicit animation."}]},{"type":"heading","level":3,"text":"Transactions","anchor":"Transactions"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"All applied together in run loop"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"CATransaction"},{"type":"text","text":" class"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"duration"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"timing function"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"CATransaction"},{"type":"text","text":" properties are applied at the time an implicit animation is created (e.g., "},{"type":"codeVoice","code":"myLayer.opacity = 0;"},{"type":"text","text":")"}]}]}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Use "},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/quartzcore\/catransaction\/1448261-setdisableactions?language=objc","isActive":true},{"type":"text","text":" to disable animations (and get the layer property change as soon as possible)."}]},{"type":"paragraph","inlineContent":[{"text":"Note that this command is only valid for the next run loop.","type":"text"}]},{"type":"heading","level":3,"text":"Explicit animations","anchor":"Explicit-animations"},{"type":"paragraph","inlineContent":[{"identifier":"WWDC11-421-explicitAnimation","type":"image"}]},{"type":"paragraph","inlineContent":[{"text":"Animations that we create, we mostly only create animations that are either (leaves in the chart above):","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"code":"CAAnimationGroup","type":"codeVoice"}]}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"CABasicAnimation"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"CAKeyframeAnimation"}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Example (note that for "},{"type":"codeVoice","code":"position"},{"type":"text","text":" we could use the implicit animation):"}]},{"type":"codeListing","syntax":"objc","code":["\/\/ First we set the final position in the model layer (explicit animations only touch the presentation layer)","layer.position = toPosition;","","\/\/ Then we create the animation for that change","CABasicAnimation* drop = [CABasicAnimation animationWithKeyPath:@\"position.y\"];","\/\/ The initial value of the animation","drop.fromValue = [NSNumber numberWithFloat:startPosition.y];","\/\/ The final value of the animation, this should match the value we set above","drop.toValue = [NSNumber numberWithFloat:toPosition.y];","\/\/ No need to use [CATransaction setAnimationDuration:5]","drop.duration = 5;","\/\/ The animation will start as soon as we add it to the layer. ","\/\/ The key is used to identify the animation, in case we need to do some operations on it later.","[layer addAnimation:drop forKey:@\"position\"];"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"All implicit animations will use the name of the changed property as the animation key:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"when we write ","type":"text"},{"code":"layer.position = toPosition;","type":"codeVoice"},{"text":", an implicit animation with key ","type":"text"},{"code":"\"position\"","type":"codeVoice"},{"text":" will be added to our layer","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"by setting our explicit animation with the same key "},{"type":"codeVoice","code":"\"position\""},{"type":"text","text":", we’re cancelling the implicit animation and make sure that only our explicit animation takes place"}]}]}]},{"type":"heading","level":4,"text":"Keyframe animations","anchor":"Keyframe-animations"},{"type":"paragraph","inlineContent":[{"type":"text","text":"With "},{"type":"codeVoice","code":"CAKeyframeAnimation"},{"type":"text","text":" we’re giving Core Animation a few “key” points or our animation, and leave Core Animation to figure out the rest of the interpolated points."}]},{"type":"paragraph","inlineContent":[{"text":"How to setup keyframe animations:","type":"text"}]},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Use either"}]}]}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"code":"path","type":"codeVoice"},{"text":" - the animation will follow the control points of the path as its keyframes","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"code":"values","type":"codeVoice"},{"type":"text","text":" - the animation will interpolate among the values set here"}],"type":"paragraph"}]}]},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Set ","type":"text"},{"code":"keyTimes","type":"codeVoice"},{"text":" (optional) - you can tell the fraction of total time for each keyframe segment, each value has to be 0 to 1","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Set ","type":"text"},{"code":"calculationMode","type":"codeVoice"},{"text":" to tell which interpolation to compute for the frames between the given ","type":"text"},{"code":"values","type":"codeVoice"},{"text":" or along the ","type":"text"},{"code":"path","type":"codeVoice"},{"text":", the options are:","type":"text"}],"type":"paragraph"}]}],"start":2},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Linear","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Discrete - no interpolation, jump from key value to key value"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Cubic - fills gaps with Bezier curves"}]}]}]},{"type":"heading","level":4,"text":"Group animations","anchor":"Group-animations"},{"type":"paragraph","inlineContent":[{"text":"This animation gathers together other kind of explicit animations which are then:","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Applied simultaneously to layer’s properties’"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Their timings are clipped to the group timing","type":"text"}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Example:"}]},{"type":"codeListing","syntax":"objc","code":["CABasicAnimation* a1 = ....","CAKeyFrameAnimation* a2 = ...","CAAnimationGroup* group = [CAAnimationGroup animation];","group.animations = [NSArray arrayWithObjects:a1,a2,...,nil];","group.duration = ...","[layer addAnimation:group forKey:nil];"]},{"type":"heading","level":2,"text":"How to add perspective to layers","anchor":"How-to-add-perspective-to-layers"},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Change the "},{"type":"codeVoice","code":"zPosition"},{"type":"text","text":" on the layers (default to "},{"type":"codeVoice","code":"0"},{"type":"text","text":" for all layers)"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Set the ","type":"text"},{"code":"sublayerTransform","type":"codeVoice"},{"text":" to a parent layer with your effect","type":"text"}]}]}]},{"type":"paragraph","inlineContent":[{"text":"Example:","type":"text"}]},{"type":"codeListing","syntax":"objc","code":["CATransform3D perspective = CATransform3DIdentity;","perspective.m34 = -1.\/EYE_Z; \/\/ uses the zPosition for changing the scale of each layer","","CALayer* parent = [CALayer layer];","parent.sublayerTransform = perspective;","","blueLayer.zPosition = -100;","[layer addSublayer:blueLayer];","","grayLayer.zPosition = 100;","[layer addSublayer:grayLayer];","","\/\/ now blue and gray layer will appear to have different sizes even if their model layer ","\/\/ has the same size."]},{"type":"heading","level":3,"text":"Animation timing","anchor":"Animation-timing"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Both "},{"type":"codeVoice","code":"CAAnimation"},{"type":"text","text":" and "},{"type":"codeVoice","code":"CALayer"},{"type":"text","text":" use the "},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/quartzcore\/camediatiming","isActive":true},{"type":"text","text":" protocol, a few properties:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"code":"beginTime","type":"codeVoice"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"repeatCount","type":"codeVoice"},{"text":", ","type":"text"},{"code":"repeatDuration","type":"codeVoice"},{"text":" (use one or the other)","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"duration","type":"codeVoice"}]}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"autoreverses"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"fillMode"}],"type":"paragraph"}]}]},{"type":"heading","level":3,"text":"Animation notifications","anchor":"Animation-notifications"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Explicit animations have a delegate:","type":"text"}],"type":"paragraph"}]}]},{"type":"codeListing","syntax":"objc","code":["myAnimation.delegate = self;","...","","- (void)animationDidStart:(CAAnimation *)theAnimation {","  ...","}","","- (void)animationDidStop:(CAAnimation *)theAnimation finished:(BOOL)flag {","  ...","}"]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Implicit animations can have a completion block via "},{"type":"codeVoice","code":"CATransaction"},{"type":"text","text":":"}]}]}]},{"type":"codeListing","syntax":"objc","code":["\/\/ Always declare the transaction before the implicit animation","[CATransaction setCompletionBlock:^{","  \/\/ block that runs when animations have completed","  [CATransaction setDisableActions:YES];","  [layer removeFromSuperlayer];","}];","","layer.opacity = 0;","layer.position = CGPointMake (2000, layer.position.y);"]},{"type":"heading","level":3,"text":"Presentation vs model","anchor":"Presentation-vs-model"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Layer properties do not reflect active animations"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Use "},{"type":"codeVoice","code":"-presentationLayer"},{"type":"text","text":" method to get screen values"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Creates a temporary layer with animations applied","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Asking for sublayers returns presentation versions"}]}]}],"type":"unorderedList"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Useful for from values of animations","type":"text"}]}]}]},{"type":"codeListing","syntax":"objc","code":["anim = [CABasicAnimation animationWithKeyPath:@”borderColor”];","anim.fromValue = [[layer presentationLayer] borderColor];"]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"And for hit-testing against real geometry","type":"text"}],"type":"paragraph"}]}]},{"type":"codeListing","syntax":"objc","code":["hitLayer = [[[layer presentationLayer] hitTest:p] modelLayer];"]},{"type":"heading","level":2,"text":"Replicators","anchor":"Replicators"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/quartzcore\/careplicatorlayer","isActive":true},{"type":"text","text":" creates a specified number of sublayer copies with varying geometric, temporal, and color transformations."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"You control the number of copies via its "},{"type":"codeVoice","code":"instanceCount"},{"type":"text","text":" property"}]}]},{"content":[{"inlineContent":[{"text":"by default all copies will sit on top of each other with all the same properties, we can change that by setting one (or more) of the following ","type":"text"},{"code":"CAReplicatorLayer","type":"codeVoice"},{"text":" properties (note that they’re all also animatable):","type":"text"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"codeVoice","code":"instanceTransform: CATransform3D"},{"type":"text","text":", "},{"type":"codeVoice","code":"instanceColor: CGColor?"},{"type":"text","text":", "},{"type":"codeVoice","code":"instanceRedOffset: Float"},{"type":"text","text":", "},{"type":"codeVoice","code":"instanceGreenOffset: Float"},{"type":"text","text":", "},{"type":"codeVoice","code":"instanceBlueOffset: Float"},{"type":"text","text":", "},{"type":"codeVoice","code":"instanceAlphaOffset: Float"}],"type":"paragraph"}]}]}]}]},{"type":"heading","level":2,"text":"Particles","anchor":"Particles"},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC11-421-CAEmitterLayerImg"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"done thanks to ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/documentation\/quartzcore\/caemitterlayer","isActive":true,"type":"reference"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"can use them from iOS 5 and later","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"can be used to mock water, smoke, fire, etc","type":"text"}],"type":"paragraph"}]}]},{"type":"paragraph","inlineContent":[{"text":"How to:","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"set the ","type":"text"},{"type":"codeVoice","code":"emitterShape"},{"text":" property to set the shape of the emitter (line, circle etc)","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"set the "},{"type":"codeVoice","code":"emitterPosition"},{"type":"text","text":" property to set the center of the particle emitter"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"set the ","type":"text"},{"code":"emitterMode","type":"codeVoice"},{"text":" property to specify where the particles are emitted from","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"set the "},{"code":"emitterCells","type":"codeVoice"},{"type":"text","text":" property with an array of "},{"identifier":"https:\/\/developer.apple.com\/documentation\/quartzcore\/caemittercell","isActive":true,"type":"reference"},{"type":"text","text":", which represent characteristics of your particles (how do they look and behave)"}]}]}]},{"type":"heading","level":2,"text":"Written By","anchor":"Written-By"},{"type":"row","columns":[{"content":[{"inlineContent":[{"identifier":"zntfdr","type":"image"}],"type":"paragraph"}],"size":1},{"content":[{"type":"heading","text":"Federico Zanetello","anchor":"Federico-Zanetello","level":3},{"inlineContent":[{"overridingTitleInlineContent":[{"text":"Contributed Notes","type":"text"}],"type":"reference","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","overridingTitle":"Contributed Notes","isActive":true},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","identifier":"https:\/\/github.com\/zntfdr","isActive":true},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","identifier":"https:\/\/zntfdr.dev","isActive":true}],"type":"paragraph"}],"size":4}],"numberOfColumns":5},{"type":"thematicBreak"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Missing anything? Corrections? "},{"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"reference","isActive":true}]},{"type":"small","inlineContent":[{"type":"strong","inlineContent":[{"text":"Legal Notice","type":"text"}]}]},{"type":"small","inlineContent":[{"text":"All content copyright © 2012 – 2025 Apple Inc. All rights reserved.","type":"text"},{"text":" ","type":"text"},{"text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries.","type":"text"},{"text":" ","type":"text"},{"text":"This website is not made by, affiliated with, nor endorsed by Apple.","type":"text"}]}]}],"sampleCodeDownload":{"kind":"sampleDownload","action":{"isActive":true,"overridingTitle":"Watch Video","type":"reference","identifier":"https:\/\/developer.apple.com\/devcenter\/download.action?path=\/videos\/wwdc_2011__hd\/session_421__core_animation_essentials.m4v"}},"abstract":[{"type":"text","text":"Core Animation is the layer-based animation system at the heart of the dynamic user experience seen in iOS and Mac OS X. See Core Animation in action and explore its intuitive programming model for creating compelling animations. Understand how to maintain high frame rates and learn recommended practices to deliver smooth transitions and effects in your apps."}],"variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc11-421-core-animation-essentials"],"traits":[{"interfaceLanguage":"swift"}]}],"references":{"https://developer.apple.com/documentation/quartzcore/careplicatorlayer":{"titleInlineContent":[{"type":"codeVoice","code":"CAReplicatorLayer"}],"identifier":"https:\/\/developer.apple.com\/documentation\/quartzcore\/careplicatorlayer","title":"CAReplicatorLayer","type":"link","url":"https:\/\/developer.apple.com\/documentation\/quartzcore\/careplicatorlayer"},"https://github.com/zntfdr":{"identifier":"https:\/\/github.com\/zntfdr","title":"GitHub","type":"link","titleInlineContent":[{"type":"text","text":"GitHub"}],"url":"https:\/\/github.com\/zntfdr"},"https://developer.apple.com/documentation/quartzcore/camediatiming":{"type":"link","url":"https:\/\/developer.apple.com\/documentation\/quartzcore\/camediatiming","titleInlineContent":[{"type":"codeVoice","code":"CAMediaTiming"}],"identifier":"https:\/\/developer.apple.com\/documentation\/quartzcore\/camediatiming","title":"CAMediaTiming"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"titleInlineContent":[{"type":"text","text":"Contributions are welcome!"}],"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","title":"Contributions are welcome!","type":"link","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"},"https://zntfdr.dev":{"identifier":"https:\/\/zntfdr.dev","title":"Blog","type":"link","titleInlineContent":[{"type":"text","text":"Blog"}],"url":"https:\/\/zntfdr.dev"},"WWDCNotes.png":{"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/WWDCNotes.png"}],"alt":null,"identifier":"WWDCNotes.png"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC11":{"title":"WWDC11","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC11","type":"topic","abstract":[{"type":"text","text":"iOS 5, macOS 10.7 (Lion)."}],"kind":"article","url":"\/documentation\/wwdcnotes\/wwdc11","images":[{"identifier":"WWDC11-Icon.png","type":"icon"},{"identifier":"WWDC11.jpeg","type":"card"}],"role":"collectionGroup"},"WWDC11-Icon.png":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/WWDC11-Icon.png"}],"identifier":"WWDC11-Icon.png","type":"image","alt":null},"https://developer.apple.com/documentation/quartzcore/catransaction/1448261-setdisableactions?language=objc":{"identifier":"https:\/\/developer.apple.com\/documentation\/quartzcore\/catransaction\/1448261-setdisableactions?language=objc","title":"[CATransaction setDisableActions:YES]","type":"link","titleInlineContent":[{"type":"codeVoice","code":"[CATransaction setDisableActions:YES]"}],"url":"https:\/\/developer.apple.com\/documentation\/quartzcore\/catransaction\/1448261-setdisableactions?language=objc"},"https://developer.apple.com/documentation/quartzcore/caemittercell":{"type":"link","url":"https:\/\/developer.apple.com\/documentation\/quartzcore\/caemittercell","titleInlineContent":[{"type":"codeVoice","code":"CAEmitterCell"}],"identifier":"https:\/\/developer.apple.com\/documentation\/quartzcore\/caemittercell","title":"CAEmitterCell"},"zntfdr":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/zntfdr.jpeg"}],"identifier":"zntfdr","type":"image","alt":"Profile image of Federico Zanetello"},"doc://WWDCNotes/documentation/WWDCNotes/zntfdr":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","type":"topic","url":"\/documentation\/wwdcnotes\/zntfdr","abstract":[{"type":"text","text":"Software engineer with a strong passion for well-written code, thought-out composable architectures, automation, tests, and more."}],"title":"Federico Zanetello (332 notes)","images":[{"identifier":"zntfdr.jpeg","type":"card"},{"identifier":"zntfdr.jpeg","type":"icon"}],"kind":"article","role":"sampleCode"},"WWDC11-421-CAArch":{"alt":null,"variants":[{"url":"\/images\/WWDCNotes\/WWDC11-421-CAArch.png","traits":["1x","light"]}],"identifier":"WWDC11-421-CAArch","type":"image"},"https://developer.apple.com/devcenter/download.action?path=/videos/wwdc_2011__hd/session_421__core_animation_essentials.m4v":{"type":"download","url":"https:\/\/developer.apple.com\/devcenter\/download.action?path=\/videos\/wwdc_2011__hd\/session_421__core_animation_essentials.m4v","identifier":"https:\/\/developer.apple.com\/devcenter\/download.action?path=\/videos\/wwdc_2011__hd\/session_421__core_animation_essentials.m4v","checksum":null},"WWDC11-421-explicitAnimation":{"variants":[{"url":"\/images\/WWDCNotes\/WWDC11-421-explicitAnimation.png","traits":["1x","light"]}],"identifier":"WWDC11-421-explicitAnimation","type":"image","alt":null},"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/CoreAnimation_guide/Introduction/Introduction.html#//apple_ref/doc/uid/TP40004514-CH1-SW1":{"type":"link","url":"https:\/\/developer.apple.com\/library\/archive\/documentation\/Cocoa\/Conceptual\/CoreAnimation_guide\/Introduction\/Introduction.html#\/\/apple_ref\/doc\/uid\/TP40004514-CH1-SW1","titleInlineContent":[{"type":"text","text":"Core Animation Programming Guide"}],"identifier":"https:\/\/developer.apple.com\/library\/archive\/documentation\/Cocoa\/Conceptual\/CoreAnimation_guide\/Introduction\/Introduction.html#\/\/apple_ref\/doc\/uid\/TP40004514-CH1-SW1","title":"Core Animation Programming Guide"},"https://developer.apple.com/documentation/quartzcore/caaction":{"identifier":"https:\/\/developer.apple.com\/documentation\/quartzcore\/caaction","title":"CAAction","type":"link","titleInlineContent":[{"type":"codeVoice","code":"CAAction"}],"url":"https:\/\/developer.apple.com\/documentation\/quartzcore\/caaction"},"https://developer.apple.com/documentation/quartzcore/caemitterlayer":{"identifier":"https:\/\/developer.apple.com\/documentation\/quartzcore\/caemitterlayer","url":"https:\/\/developer.apple.com\/documentation\/quartzcore\/caemitterlayer","type":"link","title":"CAEmitterLayer","titleInlineContent":[{"type":"codeVoice","code":"CAEmitterLayer"}]},"https://github.com/mihaelamj/CubeIn3DWithCoreAnimation":{"type":"link","url":"https:\/\/github.com\/mihaelamj\/CubeIn3DWithCoreAnimation","titleInlineContent":[{"type":"text","text":"Sample code"}],"identifier":"https:\/\/github.com\/mihaelamj\/CubeIn3DWithCoreAnimation","title":"Sample code"},"zntfdr.jpeg":{"alt":null,"variants":[{"url":"\/images\/WWDCNotes\/zntfdr.jpeg","traits":["1x","light"]}],"identifier":"zntfdr.jpeg","type":"image"},"WWDC11-421-CAEmitterLayerImg":{"variants":[{"url":"\/images\/WWDCNotes\/WWDC11-421-CAEmitterLayerImg.png","traits":["1x","light"]}],"identifier":"WWDC11-421-CAEmitterLayerImg","type":"image","alt":null},"doc://WWDCNotes/documentation/WWDCNotes":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","title":"WWDC Notes","role":"collection","abstract":[{"text":"Session notes shared by the community for the community.","type":"text"}],"type":"topic","url":"\/documentation\/wwdcnotes","kind":"symbol","images":[{"identifier":"WWDCNotes.png","type":"icon"}]},"WWDC11.jpeg":{"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/WWDC11.jpeg"}],"alt":null,"identifier":"WWDC11.jpeg"}}}