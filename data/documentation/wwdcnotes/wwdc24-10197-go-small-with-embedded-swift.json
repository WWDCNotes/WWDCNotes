{"kind":"article","hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC24"]]},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC24-10197-Go-small-with-Embedded-Swift"},"abstract":[{"text":"Embedded Swift brings the safety and expressivity of Swift to constrained environments. Explore how Embedded Swift runs on a variety of microcontrollers through a demonstration using an off-the-shelf Matter device. Learn how the Embedded Swift subset packs the benefits of Swift into a tiny footprint with no runtime, and discover plenty of resources to start your own Embedded Swift adventure.","type":"text"}],"schemaVersion":{"major":0,"patch":0,"minor":3},"sampleCodeDownload":{"kind":"sampleDownload","action":{"overridingTitle":"Watch Video","type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/wwdc24\/10197"}},"sections":[],"metadata":{"role":"sampleCode","title":"Go small with Embedded Swift","modules":[{"name":"WWDC Notes"}],"roleHeading":"WWDC24"},"variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc24-10197-go-small-with-embedded-swift"],"traits":[{"interfaceLanguage":"swift"}]}],"primaryContentSections":[{"content":[{"text":"Embedded Swift","anchor":"Embedded-Swift","level":1,"type":"heading"},{"type":"paragraph","inlineContent":[{"type":"emphasis","inlineContent":[{"type":"text","text":"Presenter: Kuba Mracek"}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Producing small, simple and "},{"type":"emphasis","inlineContent":[{"type":"text","text":"freestanding"}]},{"type":"text","text":" binaries with no (or trivial) dependencies"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"A new compilation mode specifically suited for constrained embedded devices"},{"type":"text","text":" "},{"type":"text","text":"(Memory, CPU, Storage constrained)"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Is a ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"full-featured subset"}]},{"text":" of Swift. Most Swift features are available in Embedded Swift.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"All code written for Embedded Swift will work for regular Swift."}]}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"text":"Historically C\/C++ are used for embedded devices (little to no memory safety).","type":"text"},{"text":" ","type":"text"},{"text":"Swift encourages clean and intuitive design and implementation of your code,","type":"text"},{"text":" ","type":"text"},{"text":"and it improves readability and safety over C and C++.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"Apple devices already use Embedded Swift on the Secure Enclave Processor.","type":"text"}]},{"text":"Limitations","anchor":"Limitations","level":2,"type":"heading"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Is still an experimental feature"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Not source stable "},{"inlineContent":[{"type":"text","text":"yet"}],"type":"emphasis"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Still under active development","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"text":"Not all Swift features are available, eg.","type":"text"}]},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Mirror reflection"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Metatypes","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"‘any’ types"}]}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"text":"The compiler will flag these features as errors during compilation.","type":"text"}]},{"text":"Build environment","anchor":"Build-environment","level":2,"type":"heading"},{"type":"paragraph","inlineContent":[{"text":"The ","type":"text"},{"isActive":true,"identifier":"https:\/\/github.com\/apple\/swift-embedded-examples","type":"reference"},{"text":" has examples for different","type":"text"},{"text":" ","type":"text"},{"text":"processors for build environments for different embedded processors.","type":"text"}]},{"text":"Development","anchor":"Development","level":2,"type":"heading"},{"items":[{"content":[{"inlineContent":[{"isActive":true,"type":"reference","identifier":"https:\/\/github.com\/apple\/swift\/blob\/main\/docs\/EmbeddedSwift\/UserManual.md"},{"text":" outlines how","type":"text"},{"text":" ","type":"text"},{"text":"to get started, which compile flags required, required dependencies etc.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Use bridging headers to bring C\/C++ SDKs into Swift."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Good practice is to wrap C\/C++ SDKs in a Swift wrapper to increase the readability and reusability of your code.","type":"text"}]}]}],"type":"unorderedList"},{"text":"Accessing low-level hardware registers","anchor":"Accessing-low-level-hardware-registers","level":3,"type":"heading"},{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"https:\/\/github.com\/apple\/swift-mmio","isActive":true},{"type":"text","text":" is a library that provides APIs for safe, structured, and ergonomic"},{"type":"text","text":" "},{"type":"text","text":"operations on memory mapped registers."}]},{"text":"HomeKit\/Matter integration","anchor":"HomeKitMatter-integration","level":2,"type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can set your embedded device as Matter capable (integration with HomeKit)"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Can integrate directly with the Matter SDK without having to re-write","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Matter is provided as a C++ Api, which plays nicely with Swift interop."}]}]}],"type":"unorderedList"},{"text":"References","anchor":"References","level":2,"type":"heading"},{"text":"Online documentation","anchor":"Online-documentation","level":3,"type":"heading"},{"type":"paragraph","inlineContent":[{"overridingTitle":"Embedded Swift User Manual","identifier":"https:\/\/github.com\/apple\/swift\/blob\/main\/docs\/EmbeddedSwift\/UserManual.md","isActive":true,"type":"reference","overridingTitleInlineContent":[{"type":"text","text":"Embedded Swift User Manual"}]}]},{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"https:\/\/forums.swift.org\/c\/development\/embedded\/107"}]},{"text":"Sample Projects","anchor":"Sample-Projects","level":3,"type":"heading"},{"type":"paragraph","inlineContent":[{"identifier":"https:\/\/github.com\/apple\/swift-embedded-examples","isActive":true,"overridingTitleInlineContent":[{"type":"text","text":"Sample projects"}],"type":"reference","overridingTitle":"Sample projects"}]},{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"https:\/\/github.com\/apple\/swift-matter-examples"}]},{"text":"Libraries","anchor":"Libraries","level":3,"type":"heading"},{"type":"paragraph","inlineContent":[{"identifier":"https:\/\/github.com\/apple\/swift-mmio","overridingTitleInlineContent":[{"text":"Swift MMIO","type":"text"}],"overridingTitle":"Swift MMIO","isActive":true,"type":"reference"}]},{"text":"Written By","anchor":"Written-By","level":2,"type":"heading"},{"type":"row","columns":[{"content":[{"type":"paragraph","inlineContent":[{"identifier":"dagronf","type":"image"}]}],"size":1},{"content":[{"text":"Darren Ford","anchor":"Darren-Ford","type":"heading","level":3},{"inlineContent":[{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/dagronf","isActive":true,"overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}],"type":"reference","overridingTitle":"Contributed Notes"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/github.com\/dagronf","isActive":true,"type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/www.linkedin.com\/in\/darren-ford-dev","isActive":true,"type":"reference"}],"type":"paragraph"}],"size":4}],"numberOfColumns":5},{"type":"thematicBreak"},{"type":"paragraph","inlineContent":[{"text":"Missing anything? Corrections? ","type":"text"},{"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","isActive":true,"type":"reference"}]},{"text":"Related Sessions","anchor":"Related-Sessions","level":2,"type":"heading"},{"items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10298-Add-support-for-Matter-in-your-smart-home-app"],"type":"links","style":"list"},{"type":"small","inlineContent":[{"type":"strong","inlineContent":[{"text":"Legal Notice","type":"text"}]}]},{"type":"small","inlineContent":[{"text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved.","type":"text"},{"text":" ","type":"text"},{"text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries.","type":"text"},{"text":" ","type":"text"},{"text":"This website is not made by, affiliated with, nor endorsed by Apple.","type":"text"}]}],"kind":"content"}],"references":{"doc://WWDCNotes/documentation/WWDCNotes/WWDC24":{"kind":"article","type":"topic","abstract":[{"text":"Xcode 16, Swift 6, iOS 18, macOS 15 (Sequoia), tvOS 18, visionOS 2, watchOS 11.","type":"text"},{"text":" ","type":"text"},{"text":"New APIs: Swift Testing, ","type":"text"},{"type":"codeVoice","code":"FinanceKit"},{"text":", ","type":"text"},{"type":"codeVoice","code":"TabletopKit"},{"type":"text","text":", and more."}],"role":"collectionGroup","title":"WWDC24","url":"\/documentation\/wwdcnotes\/wwdc24","images":[{"identifier":"WWDC24-Icon.png","type":"icon"},{"identifier":"WWDC24.jpeg","type":"card"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC24"},"doc://WWDCNotes/documentation/WWDCNotes":{"abstract":[{"text":"Session notes shared by the community for the community.","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","url":"\/documentation\/wwdcnotes","kind":"symbol","role":"collection","images":[{"type":"icon","identifier":"WWDCNotes.png"}],"type":"topic","title":"WWDC Notes"},"https://github.com/apple/swift-mmio":{"type":"link","identifier":"https:\/\/github.com\/apple\/swift-mmio","title":"Swift MMIO","titleInlineContent":[{"text":"Swift MMIO","type":"text"}],"url":"https:\/\/github.com\/apple\/swift-mmio"},"https://github.com/apple/swift-embedded-examples":{"titleInlineContent":[{"text":"Swift Embedded Examples","type":"text"}],"title":"Swift Embedded Examples","type":"link","identifier":"https:\/\/github.com\/apple\/swift-embedded-examples","url":"https:\/\/github.com\/apple\/swift-embedded-examples"},"https://github.com/apple/swift/blob/main/docs/EmbeddedSwift/UserManual.md":{"titleInlineContent":[{"text":"Embedded Swift User Manual","type":"text"}],"title":"Embedded Swift User Manual","url":"https:\/\/github.com\/apple\/swift\/blob\/main\/docs\/EmbeddedSwift\/UserManual.md","identifier":"https:\/\/github.com\/apple\/swift\/blob\/main\/docs\/EmbeddedSwift\/UserManual.md","type":"link"},"WWDC24.jpeg":{"type":"image","alt":null,"identifier":"WWDC24.jpeg","variants":[{"url":"\/images\/WWDCNotes\/WWDC24.jpeg","traits":["1x","light"]}]},"WWDC24-Icon.png":{"alt":null,"type":"image","identifier":"WWDC24-Icon.png","variants":[{"url":"\/images\/WWDCNotes\/WWDC24-Icon.png","traits":["1x","light"]}]},"doc://WWDCNotes/documentation/WWDCNotes/dagronf":{"type":"topic","abstract":[{"text":"No Bio on GitHub","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/dagronf","kind":"article","url":"\/documentation\/wwdcnotes\/dagronf","title":"Darren Ford (6 notes)","role":"sampleCode","images":[{"identifier":"dagronf.jpeg","type":"card"},{"identifier":"dagronf.jpeg","type":"icon"}]},"WWDCNotes.png":{"variants":[{"url":"\/images\/WWDCNotes\/WWDCNotes.png","traits":["1x","light"]}],"alt":null,"identifier":"WWDCNotes.png","type":"image"},"https://developer.apple.com/wwdc24/10197":{"type":"download","identifier":"https:\/\/developer.apple.com\/wwdc24\/10197","checksum":null,"url":"https:\/\/developer.apple.com\/wwdc24\/10197"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"titleInlineContent":[{"text":"Contributions are welcome!","type":"text"}],"title":"Contributions are welcome!","type":"link","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"},"https://github.com/apple/swift-matter-examples":{"type":"link","identifier":"https:\/\/github.com\/apple\/swift-matter-examples","title":"Swift Matter Examples","titleInlineContent":[{"text":"Swift Matter Examples","type":"text"}],"url":"https:\/\/github.com\/apple\/swift-matter-examples"},"dagronf":{"variants":[{"url":"\/images\/WWDCNotes\/dagronf.jpeg","traits":["1x","light"]}],"alt":"Profile image of Darren Ford","identifier":"dagronf","type":"image"},"https://forums.swift.org/c/development/embedded/107":{"titleInlineContent":[{"text":"Embedded Swift Forums","type":"text"}],"title":"Embedded Swift Forums","type":"link","identifier":"https:\/\/forums.swift.org\/c\/development\/embedded\/107","url":"https:\/\/forums.swift.org\/c\/development\/embedded\/107"},"dagronf.jpeg":{"type":"image","alt":null,"identifier":"dagronf.jpeg","variants":[{"url":"\/images\/WWDCNotes\/dagronf.jpeg","traits":["1x","light"]}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10298-Add-support-for-Matter-in-your-smart-home-app":{"kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10298-Add-support-for-Matter-in-your-smart-home-app","abstract":[{"text":"The enhanced and new APIs in HomeKit enable smart home developers to integrate with the new Matter protocol in the most convenient way. Tour the Matter protocol, and discover how to set up and manage Matter accessories on our platforms and within your smart home apps.","type":"text"}],"role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc21-10298-add-support-for-matter-in-your-smart-home-app","title":"Add support for Matter in your smart home app","type":"topic"},"https://www.linkedin.com/in/darren-ford-dev":{"type":"link","identifier":"https:\/\/www.linkedin.com\/in\/darren-ford-dev","title":"Blog","titleInlineContent":[{"text":"Blog","type":"text"}],"url":"https:\/\/www.linkedin.com\/in\/darren-ford-dev"},"https://github.com/dagronf":{"titleInlineContent":[{"text":"GitHub","type":"text"}],"title":"GitHub","url":"https:\/\/github.com\/dagronf","identifier":"https:\/\/github.com\/dagronf","type":"link"}}}