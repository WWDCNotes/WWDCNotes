{"kind":"article","identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10097-Advances-in-UICollectionView","interfaceLanguage":"swift"},"schemaVersion":{"major":0,"minor":3,"patch":0},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20"]]},"abstract":[{"text":"Learn about new features of UICollectionView that make it easier to use and unlock powerful new functionality. We’ll show you how to use section snapshots with your diffable data source to create outlines that can expand and collapse, and introduce you to building lists with compositional layout to create UITableView-like interfaces with a collection view. And discover modern techniques for dequeuing cells and configuring their content and styling.","type":"text"}],"sampleCodeDownload":{"action":{"isActive":true,"overridingTitle":"Watch Video (9 min)","type":"reference","identifier":"https:\/\/developer.apple.com\/wwdc20\/10097"},"kind":"sampleDownload"},"metadata":{"title":"Advances in UICollectionView","modules":[{"name":"WWDC Notes"}],"role":"sampleCode","roleHeading":"WWDC20"},"sections":[],"primaryContentSections":[{"content":[{"text":"Sample Code","anchor":"Sample-Code","level":2,"type":"heading"},{"inlineContent":[{"text":"Download the ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/views_and_controls\/collection_views\/implementing_modern_collection_views","isActive":true,"type":"reference"},{"text":" to learn more about Modern Collection Views.","type":"text"}],"type":"paragraph"},{"text":"Modern Collection View APIs Overview","anchor":"Modern-Collection-View-APIs-Overview","level":2,"type":"heading"},{"inlineContent":[{"identifier":"WWDC20-10097-modern_collection_view_apis","type":"image"}],"type":"paragraph"},{"text":"Diffable Data Source","anchor":"Diffable-Data-Source","level":2,"type":"heading"},{"text":"Recap","anchor":"Recap","level":3,"type":"heading"},{"items":[{"content":[{"inlineContent":[{"text":"Introduced in iOS 13.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Simplifies UI State.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Automatic animations.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"More to watch session ","type":"text"},{"isActive":true,"identifier":"https:\/\/developer.apple.com\/videos\/play\/wwdc2019\/220","type":"reference"},{"text":" from WWDC 19: Advances in UI Data Sources.","type":"text"}]}]}],"type":"unorderedList"},{"text":"New in iOS 14","anchor":"New-in-iOS-14","level":3,"type":"heading"},{"text":"Section Snapshots","anchor":"Section-Snapshots","level":4,"type":"heading"},{"items":[{"content":[{"inlineContent":[{"text":"Encapsulates the data for a single section in a UICollectionView.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Allow data sources to be more composable into section-sized chunks of data."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Can present the same data with different layout in different sections.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Allow modeling of hierarchical data, which is needed to support rendering outline-style UIs.","type":"text"}]}]}],"type":"unorderedList"},{"text":"Examples","anchor":"Examples","level":4,"type":"heading"},{"inlineContent":[{"type":"image","identifier":"WWDC20-10097-section_snapshots"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Top: Horizontally scrolling section."}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Middle: Outline style section."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Bottom: List section.","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"inlineContent":[{"text":"For more refer to the ","type":"text"},{"identifier":"..\/10045","isActive":true,"type":"reference"},{"text":" session.","type":"text"}],"type":"paragraph"},{"text":"Compositional Layout","anchor":"Compositional-Layout","level":2,"type":"heading"},{"text":"Recap","anchor":"Recap","level":3,"type":"heading"},{"items":[{"content":[{"inlineContent":[{"text":"Introduced in iOS 13.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Allows us to build rich, complex layouts by composing smaller, easy-to-reason bits of layout together.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Describes what we want the layout to look like instead of how the layout ought to work.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Provides section-specific layouts."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"For more refer to the ","type":"text"},{"isActive":true,"type":"reference","identifier":"..\/..\/wwdc19\/215"},{"text":" session.","type":"text"}]}]}],"type":"unorderedList"},{"text":"New in iOS 14","anchor":"New-in-iOS-14","level":3,"type":"heading"},{"text":"Lists","anchor":"Lists","level":4,"type":"heading"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"UITableView"},{"type":"text","text":"-like appearance."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Rich with features like swipe actions and many common cell layouts.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Built on top of Compositional Layout."}]}]},{"content":[{"inlineContent":[{"text":"New concrete UICollectionViewListCell.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Header and footer support.","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Sidebar appearance.","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"text":"Examples","anchor":"Examples","level":4,"type":"heading"},{"inlineContent":[{"type":"text","text":"Creating a "},{"code":"UICollectionViewLayout","type":"codeVoice"},{"type":"text","text":" where every section in the collection view is a list with an inset grouped appearance."}],"type":"paragraph"},{"code":["let configuration = UICollectionLayoutListConfiguration(appearance: .insetGrouped)","let layout = UICollectionViewCompositionalLayout.list(using: configuration)"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"type":"text","text":"More to watch session "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/wwdc20\/10026"},{"type":"text","text":": Lists in UICollectionView."}],"type":"paragraph"},{"text":"Modern Cells","anchor":"Modern-Cells","level":2,"type":"heading"},{"text":"Cell Registrations","anchor":"Cell-Registrations","level":3,"type":"heading"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Brand new way to configure cells."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Simple, re-usable way to set up a cell from a view model."}]}]},{"content":[{"inlineContent":[{"text":"Eliminates the extra step of registering a cell class or nib to associate it with a re-use identifier.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Uses a generic registration type, which incorporates a configuration closure for setting up a new cell from a view model.","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"code":["let reg = UICollectionView.CellRegistration<MyCell, ViewModel> { cell, indexPath, model in","   \/\/ configure cell content ","}","","let dataSource = UICollectionViewDiffableDataSource<S,I>(collectionView: collectionView) {","   collectionView, indexPath, item -> UICollectionViewCell in","   return collectionView.dequeueConfiguredReusableCell(using: reg, for: indexPath, item: item)","}"],"type":"codeListing","syntax":"swift"},{"text":"Cell Content Configurations","anchor":"Cell-Content-Configurations","level":3,"type":"heading"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Similar to "},{"code":"UITableViewCell","type":"codeVoice"},{"type":"text","text":"."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"To be used as any cell or even a generic UI view.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Flexible."}]}]},{"content":[{"inlineContent":[{"text":"Lightweight.","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"code":["var contentConfiguration = UIListContentConfiguration.cell()","contentConfiguration.image = UIImage(systemNamed:\"hammer\")","contentConfiguration.text = \"Ready. Set. Code\"","cell.contentConfiguration = contentConfiguration"],"type":"codeListing","syntax":"swift"},{"text":"Background Configurations","anchor":"Background-Configurations","level":3,"type":"heading"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Similar to content configurations, but applied to any cell’s background with the ability to adjust properties such as color, border styles, and more."}]}]}],"type":"unorderedList"},{"code":["cell.backgroundConfiguration = UIBackgroundConfiguration.clear()"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"More to watch session ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/wwdc20\/10027"},{"text":": Modern cell configuration.","type":"text"}],"type":"paragraph"},{"text":"Written By","anchor":"Written-By","level":2,"type":"heading"},{"columns":[{"content":[{"inlineContent":[{"identifier":"dasautoooo","type":"image"}],"type":"paragraph"}],"size":1},{"content":[{"anchor":"DasAuto","type":"heading","text":"DasAuto","level":3},{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"overridingTitleInlineContent":[{"text":"Contributed Notes","type":"text"}],"overridingTitle":"Contributed Notes","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/dasautoooo"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/dasautoooo"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/wut.im"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/x.com\/DasAutoooo"}]}],"size":4}],"type":"row","numberOfColumns":5},{"inlineContent":[{"text":"Missing anything? Corrections? ","type":"text"},{"type":"reference","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","isActive":true}],"type":"paragraph"},{"text":"Related Sessions","anchor":"Related-Sessions","level":2,"type":"heading"},{"style":"list","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10252-Make-blazing-fast-lists-and-collection-views","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10026-Lists-in-UICollectionView","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10027-Modern-cell-configuration","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10105-Build-for-iPad","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-215-Advances-in-Collection-View-Layout","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-220-Advances-in-UI-Data-Sources"],"type":"links"},{"inlineContent":[{"inlineContent":[{"text":"Legal Notice","type":"text"}],"type":"strong"}],"type":"small"},{"inlineContent":[{"text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved.","type":"text"},{"text":" ","type":"text"},{"text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries.","type":"text"},{"text":" ","type":"text"},{"text":"This website is not made by, affiliated with, nor endorsed by Apple.","type":"text"}],"type":"small"}],"kind":"content"}],"variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc20-10097-advances-in-uicollectionview"],"traits":[{"interfaceLanguage":"swift"}]}],"references":{"WWDCNotes.png":{"type":"image","identifier":"WWDCNotes.png","variants":[{"url":"\/images\/WWDCNotes.png","traits":["1x","light"]}],"alt":null},"../10045":{"type":"link","title":"Advances in diffable data sources","identifier":"..\/10045","url":"..\/10045","titleInlineContent":[{"type":"codeVoice","code":"Advances in diffable data sources"}]},"doc://WWDCNotes/documentation/WWDCNotes":{"abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","kind":"symbol","title":"WWDC Notes","images":[{"type":"icon","identifier":"WWDCNotes.png"}],"url":"\/documentation\/wwdcnotes","type":"topic","role":"collection"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10026-Lists-in-UICollectionView":{"role":"sampleCode","type":"topic","abstract":[{"type":"text","text":"Learn how to build lists and sidebars in your app with UICollectionView. Replace table view appearance while taking advantage of the full flexibility of compositional layout. Explore modular layout options and find out how they can unlock more design options for your apps than ever before. Find out how to combine table view-like lists with custom compositional layouts inside of a single UICollectionView. Discover how to work with lists, create richer cells, and customize your layout to create a well-designed presentation of information within your app."}],"title":"Lists in UICollectionView","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10026-Lists-in-UICollectionView","kind":"article","url":"\/documentation\/wwdcnotes\/wwdc20-10026-lists-in-uicollectionview"},"WWDC20.jpeg":{"type":"image","identifier":"WWDC20.jpeg","variants":[{"url":"\/images\/WWDC20.jpeg","traits":["1x","light"]}],"alt":null},"dasautoooo":{"type":"image","identifier":"dasautoooo","variants":[{"url":"\/images\/dasautoooo.jpeg","traits":["1x","light"]}],"alt":"Profile image of DasAuto"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10105-Build-for-iPad":{"title":"Build for iPad","url":"\/documentation\/wwdcnotes\/wwdc20-10105-build-for-ipad","abstract":[{"type":"text","text":"Learn how to improve iPad apps to leverage the increased screen size and additional features of iPadOS, and help people accomplish more with their devices. Discover how you can build detailed multi-column layouts and integrate lists into your app with little adjustment to your existing code. We’ll also explore reducing modality within your views to make it easier to navigate your interface with fewer taps and touches."}],"kind":"article","type":"topic","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10105-Build-for-iPad"},"https://developer.apple.com/wwdc20/10097":{"type":"download","identifier":"https:\/\/developer.apple.com\/wwdc20\/10097","url":"https:\/\/developer.apple.com\/wwdc20\/10097","checksum":null},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10027-Modern-cell-configuration":{"role":"sampleCode","type":"topic","abstract":[{"type":"text","text":"Discover new techniques for configuring collection view and table view cells to quickly build dynamic interfaces in your app. Explore configuration types you can use to easily populate cells with content and apply common styles. Take advantage of powerful APIs to customize the appearance of cells for different states. Find out about patterns and best practices that simplify your code, eliminate bugs, and improve performance."}],"title":"Modern cell configuration","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10027-Modern-cell-configuration","kind":"article","url":"\/documentation\/wwdcnotes\/wwdc20-10027-modern-cell-configuration"},"https://developer.apple.com/wwdc20/10027":{"type":"link","title":"10027","identifier":"https:\/\/developer.apple.com\/wwdc20\/10027","url":"https:\/\/developer.apple.com\/wwdc20\/10027","titleInlineContent":[{"type":"text","text":"10027"}]},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"type":"link","title":"Contributions are welcome!","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","titleInlineContent":[{"type":"text","text":"Contributions are welcome!"}]},"https://developer.apple.com/documentation/uikit/views_and_controls/collection_views/implementing_modern_collection_views":{"type":"link","title":"sample code","identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/views_and_controls\/collection_views\/implementing_modern_collection_views","url":"https:\/\/developer.apple.com\/documentation\/uikit\/views_and_controls\/collection_views\/implementing_modern_collection_views","titleInlineContent":[{"type":"text","text":"sample code"}]},"WWDC20-10097-section_snapshots":{"type":"image","identifier":"WWDC20-10097-section_snapshots","variants":[{"url":"\/images\/WWDC20-10097-section_snapshots.png","traits":["1x","light"]}],"alt":null},"dasautoooo.jpeg":{"type":"image","identifier":"dasautoooo.jpeg","variants":[{"url":"\/images\/dasautoooo.jpeg","traits":["1x","light"]}],"alt":null},"https://wut.im":{"type":"link","title":"Blog","identifier":"https:\/\/wut.im","url":"https:\/\/wut.im","titleInlineContent":[{"type":"text","text":"Blog"}]},"https://developer.apple.com/videos/play/wwdc2019/220":{"type":"link","title":"220","identifier":"https:\/\/developer.apple.com\/videos\/play\/wwdc2019\/220","url":"https:\/\/developer.apple.com\/videos\/play\/wwdc2019\/220","titleInlineContent":[{"type":"text","text":"220"}]},"https://github.com/dasautoooo":{"type":"link","title":"GitHub","identifier":"https:\/\/github.com\/dasautoooo","url":"https:\/\/github.com\/dasautoooo","titleInlineContent":[{"type":"text","text":"GitHub"}]},"https://developer.apple.com/wwdc20/10026":{"type":"link","title":"10026","identifier":"https:\/\/developer.apple.com\/wwdc20\/10026","url":"https:\/\/developer.apple.com\/wwdc20\/10026","titleInlineContent":[{"type":"text","text":"10026"}]},"../../wwdc19/215":{"type":"link","title":"Advances in Collection View Layout","identifier":"..\/..\/wwdc19\/215","url":"..\/..\/wwdc19\/215","titleInlineContent":[{"type":"codeVoice","code":"Advances in Collection View Layout"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10252-Make-blazing-fast-lists-and-collection-views":{"role":"sampleCode","type":"topic","abstract":[{"type":"text","text":"Build consistently smooth scrolling list and collection views: Explore the lifecycle of a cell and learn how to apply that knowledge to eliminate rough scrolling and missed frames. We’ll also show you how to improve your overall scrolling experience and avoid costly hitches, with optimized image loading and automatic cell prefetching."}],"title":"Make blazing fast lists and collection views","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10252-Make-blazing-fast-lists-and-collection-views","kind":"article","url":"\/documentation\/wwdcnotes\/wwdc21-10252-make-blazing-fast-lists-and-collection-views"},"doc://WWDCNotes/documentation/WWDCNotes/dasautoooo":{"abstract":[{"text":"💻 Programmer | 🕹 Lifetime Gamer","type":"text"}],"type":"topic","url":"\/documentation\/wwdcnotes\/dasautoooo","images":[{"type":"card","identifier":"dasautoooo.jpeg"},{"type":"icon","identifier":"dasautoooo.jpeg"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/dasautoooo","role":"sampleCode","title":"DasAuto (6 notes)","kind":"article"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-215-Advances-in-Collection-View-Layout":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-215-Advances-in-Collection-View-Layout","type":"topic","role":"sampleCode","abstract":[{"text":"Collection View Layouts make it easy to build rich interactive collections. Learn how to make dynamic and responsive layouts that range in complexity from basic lists to an advanced, multi-dimensional browsing experience.","type":"text"}],"kind":"article","title":"Advances in Collection View Layout","url":"\/documentation\/wwdcnotes\/wwdc19-215-advances-in-collection-view-layout"},"WWDC20-10097-modern_collection_view_apis":{"type":"image","identifier":"WWDC20-10097-modern_collection_view_apis","variants":[{"url":"\/images\/WWDC20-10097-modern_collection_view_apis.png","traits":["1x","light"]}],"alt":null},"https://x.com/DasAutoooo":{"type":"link","title":"X\/Twitter","identifier":"https:\/\/x.com\/DasAutoooo","url":"https:\/\/x.com\/DasAutoooo","titleInlineContent":[{"type":"text","text":"X\/Twitter"}]},"WWDC20-Icon.png":{"type":"image","identifier":"WWDC20-Icon.png","variants":[{"url":"\/images\/WWDC20-Icon.png","traits":["1x","light"]}],"alt":null},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-220-Advances-in-UI-Data-Sources":{"role":"sampleCode","type":"topic","abstract":[{"type":"text","text":"Use UI Data Sources to simplify updating your table view and collection view items using automatic diffing. High fidelity, quality animations of set changes are automatic and require no extra code! This improved data source mechanism completely avoids synchronization bugs, exceptions, and crashes! Learn about this simplified data model that uses on identifiers and snapshots so that you can focus on your app’s dynamic data and content instead of the minutia of UI data synchronization."}],"title":"Advances in UI Data Sources","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-220-Advances-in-UI-Data-Sources","kind":"article","url":"\/documentation\/wwdcnotes\/wwdc19-220-advances-in-ui-data-sources"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20":{"kind":"article","type":"topic","title":"WWDC20","role":"collectionGroup","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20","url":"\/documentation\/wwdcnotes\/wwdc20","images":[{"type":"icon","identifier":"WWDC20-Icon.png"},{"type":"card","identifier":"WWDC20.jpeg"}],"abstract":[{"type":"text","text":"Xcode 12, Swift 5.3, iOS 14, macOS 11 (Big Sur), tvOS 14, watchOS 7."},{"type":"text","text":" "},{"type":"text","text":"New APIs: "},{"type":"codeVoice","code":"WidgetKit"},{"type":"text","text":", "},{"type":"codeVoice","code":"StoreKit Testing"},{"type":"text","text":", and more."}]}}}