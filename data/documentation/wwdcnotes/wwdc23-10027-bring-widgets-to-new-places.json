{"schemaVersion":{"minor":3,"major":0,"patch":0},"kind":"article","metadata":{"roleHeading":"WWDC23","role":"sampleCode","title":"Bring widgets to new places","modules":[{"name":"WWDC Notes"}]},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23"]]},"sampleCodeDownload":{"kind":"sampleDownload","action":{"isActive":true,"identifier":"https:\/\/developer.apple.com\/wwdc23\/10027","overridingTitle":"Watch Video (7 min)","type":"reference"}},"variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc23-10027-bring-widgets-to-new-places"],"traits":[{"interfaceLanguage":"swift"}]}],"abstract":[{"text":"The widget ecosystem is expanding: Discover how you can use the latest WidgetKit APIs to make your widget look great everywhere. We’ll show you how to identify your widget’s background, adjust layout dynamically, and prepare colors for vibrant rendering so that your widget can sit seamlessly in any environment.","type":"text"}],"primaryContentSections":[{"content":[{"anchor":"Widgets-in-4-new-locations","text":"Widgets in 4 new locations","type":"heading","level":2},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Desktop on Mac, Lock screen on iPad, StandBy mode on iPhone, Smart Stack on Apple Watch","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Widgets can appear in all these places automatically","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"iOS Widgets can be used on Mac without Mac App"}],"type":"paragraph"}]}],"type":"unorderedList"},{"anchor":"New-content-margins","text":"New content margins","type":"heading","level":2},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Automatically added padding to prevent the content to go to close to the edge of the widget container"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Replaces safe areas used on watchOS 9 and below","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"To allow content to go to the edge of the widget container, add the "},{"type":"codeVoice","code":".contentMarginsDisabled()"},{"type":"text","text":" modifier to the widget configuration"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"For content that should stay in the default content margins, use the ","type":"text"},{"code":"widgetContentMargins","type":"codeVoice"},{"text":" environment and add ","type":"text"},{"code":".padding(margins)","type":"codeVoice"},{"text":" back in","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"}]}],"type":"unorderedList"},{"syntax":"swift","code":["struct SafeAreasWidgetView: View {","    @Environment(\\.widgetContentMargins) var margins","","    var body: some View {","        ZStack {","            Color.blue","            Group {","                Color.lightBlue","                Text(\"Hello, world!\")","            }","            .padding(margins) ","        }","    }","}","","struct SafeAreasWidget: Widget {","    var body: some WidgetConfiguration {","        StaticConfiguration(...) {_ in","            SafeAreasWidgetView()","        }","        .contentMarginsDisabled()","    }","}"],"type":"codeListing"},{"anchor":"Removable-background","text":"Removable background","type":"heading","level":2},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Use ","type":"text"},{"code":".containerBackground","type":"codeVoice"},{"text":" modifier","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"System automatically takes out the widget’s background depending on where it’s being shown (e.g. iPad Lock screen)","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Smart Stack on Apple Watch also uses the "},{"type":"codeVoice","code":"containerBackground"},{"type":"text","text":" instead of the default a dark material background"}],"type":"paragraph"}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add "},{"type":"codeVoice","code":".containerBackgroundRemovable(false)"},{"type":"text","text":"  to widget configuration to prevent background removal"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"This makes the widget ineligible in various contexts that require a removable background (e.g. StandBy on iPhone or iPad Lock screen)"}]}]}],"type":"unorderedList"}]}],"type":"unorderedList"},{"anchor":"Dynamically-adjust-layout","text":"Dynamically adjust layout","type":"heading","level":2},{"items":[{"content":[{"inlineContent":[{"text":"Layout should adopt for when the background is removed by pushing the content to the edges (happens automatically with content margins) and enlarging important elements (like current temperature in the weather widget)","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Make it dependent on environment variable  "},{"type":"codeVoice","code":"showsWidgetContainerBackground"}],"type":"paragraph"}]}],"type":"unorderedList"},{"anchor":"Vibrant-rendering-mode","text":"Vibrant rendering mode","type":"heading","level":2},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Vibrant rendering mode automatically applied on iPad Lock screen and StandBy Night mode"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Widgets will be desaturated and colored appropriately for the Lock screen background"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"This could remove contrast and impact the widget’s legibility"}],"type":"paragraph"}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Detect with "},{"type":"codeVoice","code":"widgetRenderingMode"},{"type":"text","text":" environment variable"}]}]}],"type":"unorderedList"},{"anchor":"Written-By","text":"Written By","type":"heading","level":2},{"columns":[{"size":1,"content":[{"inlineContent":[{"identifier":"arnoappenzeller","type":"image"}],"type":"paragraph"}]},{"size":4,"content":[{"level":3,"text":"Arno Appenzeller","anchor":"Arno-Appenzeller","type":"heading"},{"inlineContent":[{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/arnoappenzeller","type":"reference","isActive":true,"overridingTitle":"Contributed Notes","overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}]},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/github.com\/arnoappenzeller","type":"reference","isActive":true},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/www.arno.app","type":"reference","isActive":true}],"type":"paragraph"}]}],"type":"row","numberOfColumns":5},{"columns":[{"size":1,"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"mikakruschel"}]}]},{"size":4,"content":[{"level":3,"anchor":"Mik%C3%A1-Kruschel","type":"heading","text":"Miká Kruschel"},{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/mikakruschel","isActive":true,"overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}],"overridingTitle":"Contributed Notes"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","identifier":"https:\/\/github.com\/mikakruschel","isActive":true},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","identifier":"https:\/\/kruschel.dev","isActive":true}]}]}],"type":"row","numberOfColumns":5},{"type":"thematicBreak"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Missing anything? Corrections? "},{"type":"reference","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","isActive":true}]},{"anchor":"Related-Sessions","text":"Related Sessions","type":"heading","level":2},{"items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10028-Bring-widgets-to-life","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10050-Complications-and-widgets-Reloaded"],"type":"links","style":"list"},{"type":"small","inlineContent":[{"type":"strong","inlineContent":[{"text":"Legal Notice","type":"text"}]}]},{"type":"small","inlineContent":[{"type":"text","text":"All content copyright © 2012 – 2025 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}]}],"kind":"content"}],"sections":[],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10027-Bring-widgets-to-new-places"},"references":{"doc://WWDCNotes/documentation/WWDCNotes/arnoappenzeller":{"images":[{"identifier":"arnoappenzeller.jpeg","type":"card"},{"identifier":"arnoappenzeller.jpeg","type":"icon"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/arnoappenzeller","title":"Arno Appenzeller (3 notes)","role":"sampleCode","type":"topic","abstract":[{"type":"text","text":"I’m on Mastodon: @arno_app@mastodon.online"}],"url":"\/documentation\/wwdcnotes\/arnoappenzeller","kind":"article"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10028-Bring-widgets-to-life":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10028-Bring-widgets-to-life","title":"Bring widgets to life","role":"sampleCode","type":"topic","abstract":[{"type":"text","text":"Learn how to make animated and interactive widgets for your apps and games. We’ll show you how to tweak animations for entry transitions and add interactivity using SwiftUI Button and Toggle so that you can create powerful moments right from the Home Screen and Lock Screen."}],"url":"\/documentation\/wwdcnotes\/wwdc23-10028-bring-widgets-to-life","kind":"article"},"https://developer.apple.com/wwdc23/10027":{"checksum":null,"identifier":"https:\/\/developer.apple.com\/wwdc23\/10027","type":"download","url":"https:\/\/developer.apple.com\/wwdc23\/10027"},"WWDC23.jpeg":{"identifier":"WWDC23.jpeg","alt":null,"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/WWDC23.jpeg"}]},"WWDCNotes.png":{"identifier":"WWDCNotes.png","alt":null,"type":"image","variants":[{"url":"\/images\/WWDCNotes\/WWDCNotes.png","traits":["1x","light"]}]},"arnoappenzeller.jpeg":{"type":"image","identifier":"arnoappenzeller.jpeg","variants":[{"url":"\/images\/WWDCNotes\/arnoappenzeller.jpeg","traits":["1x","light"]}],"alt":null},"https://www.arno.app":{"identifier":"https:\/\/www.arno.app","title":"Blog","type":"link","url":"https:\/\/www.arno.app","titleInlineContent":[{"text":"Blog","type":"text"}]},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"title":"Contributions are welcome!","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","titleInlineContent":[{"type":"text","text":"Contributions are welcome!"}],"type":"link","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"},"mikakruschel.jpeg":{"type":"image","identifier":"mikakruschel.jpeg","variants":[{"url":"\/images\/WWDCNotes\/mikakruschel.jpeg","traits":["1x","light"]}],"alt":null},"doc://WWDCNotes/documentation/WWDCNotes":{"images":[{"type":"icon","identifier":"WWDCNotes.png"}],"role":"collection","kind":"symbol","type":"topic","abstract":[{"text":"Session notes shared by the community for the community.","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","title":"WWDC Notes","url":"\/documentation\/wwdcnotes"},"https://github.com/mikakruschel":{"identifier":"https:\/\/github.com\/mikakruschel","title":"GitHub","type":"link","url":"https:\/\/github.com\/mikakruschel","titleInlineContent":[{"text":"GitHub","type":"text"}]},"https://kruschel.dev":{"title":"Blog","identifier":"https:\/\/kruschel.dev","titleInlineContent":[{"type":"text","text":"Blog"}],"type":"link","url":"https:\/\/kruschel.dev"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10050-Complications-and-widgets-Reloaded":{"title":"Complications and widgets: Reloaded","type":"topic","abstract":[{"text":"Our widgets code-along returns as we adventure onto the watchOS and iOS Lock Screen. Learn about the latest improvements to WidgetKit that help power complex complications on watchOS and can help you create Lock Screen widgets for iPhone. We’ll show you how to incorporate the latest SwiftUI views to provide great glanceable data, explore how each platform renders content, and learn how you can customize the design and feel of your content within a widget or complication.","type":"text"}],"role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10050-Complications-and-widgets-Reloaded","url":"\/documentation\/wwdcnotes\/wwdc22-10050-complications-and-widgets-reloaded","kind":"article"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23","kind":"article","role":"collectionGroup","title":"WWDC23","images":[{"identifier":"WWDC23-Icon.png","type":"icon"},{"identifier":"WWDC23.jpeg","type":"card"}],"abstract":[{"type":"text","text":"Xcode 15, Swift 5.9, iOS 17, macOS 14 (Sonoma), tvOS 17, visionOS 1, watchOS 10."},{"type":"text","text":" "},{"type":"text","text":"New APIs: "},{"type":"codeVoice","code":"SwiftData"},{"type":"text","text":", "},{"code":"Observation","type":"codeVoice"},{"text":", ","type":"text"},{"code":"StoreKit","type":"codeVoice"},{"text":" views, and more.","type":"text"}],"type":"topic","url":"\/documentation\/wwdcnotes\/wwdc23"},"arnoappenzeller":{"type":"image","identifier":"arnoappenzeller","variants":[{"url":"\/images\/WWDCNotes\/arnoappenzeller.jpeg","traits":["1x","light"]}],"alt":"Profile image of Arno Appenzeller"},"doc://WWDCNotes/documentation/WWDCNotes/mikakruschel":{"title":"Miká Kruschel (2 notes)","abstract":[{"text":"No Bio on GitHub","type":"text"}],"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/mikakruschel","images":[{"identifier":"mikakruschel.jpeg","type":"card"},{"identifier":"mikakruschel.jpeg","type":"icon"}],"role":"sampleCode","kind":"article","url":"\/documentation\/wwdcnotes\/mikakruschel"},"mikakruschel":{"alt":"Profile image of Miká Kruschel","type":"image","identifier":"mikakruschel","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/mikakruschel.jpeg"}]},"WWDC23-Icon.png":{"identifier":"WWDC23-Icon.png","alt":null,"type":"image","variants":[{"url":"\/images\/WWDCNotes\/WWDC23-Icon.png","traits":["1x","light"]}]},"https://github.com/arnoappenzeller":{"type":"link","identifier":"https:\/\/github.com\/arnoappenzeller","title":"GitHub","titleInlineContent":[{"type":"text","text":"GitHub"}],"url":"https:\/\/github.com\/arnoappenzeller"}}}