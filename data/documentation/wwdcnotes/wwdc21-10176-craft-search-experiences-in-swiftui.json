{"kind":"article","sampleCodeDownload":{"kind":"sampleDownload","action":{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/wwdc21\/10176","overridingTitle":"Watch Video (11 min)"}},"metadata":{"role":"sampleCode","modules":[{"name":"WWDC Notes"}],"title":"Craft search experiences in SwiftUI","roleHeading":"WWDC21"},"schemaVersion":{"patch":0,"major":0,"minor":3},"abstract":[{"type":"text","text":"Discover how you can help people quickly find specific content within your apps. Learn how to use SwiftUI’s .searchable modifier in conjunction with other views to best incorporate search for your app. And we’ll show you how to elevate your implementation by providing search suggestions to help people understand the types of searches they can perform."}],"sections":[],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10176-Craft-search-experiences-in-SwiftUI"},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21"]]},"primaryContentSections":[{"kind":"content","content":[{"level":2,"text":"Overview","type":"heading","anchor":"overview"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"New ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/documentation\/SwiftUI\/View\/searchable(_:text:placement:)-1r1py","type":"reference","isActive":true},{"text":" view modifier","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"available on all platforms","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"places the search field following each platform convention (you don’t need to worry about, mostly)","type":"text"}]}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Example:"}]},{"syntax":"swift","code":["NavigationView {","  WeatherList(text: $text) {","    ForEach(data) { item in","      WeatherCell(item)","    }","  }","}",".searchable(text: $text)"],"type":"codeListing"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"code":"searchable(...)","type":"codeVoice"},{"type":"text","text":" takes the configured search field and passes that down, through the environment, for other views to use in the best way for each platform"}]}]},{"content":[{"inlineContent":[{"text":"if no (sub)views use the configured search field, the ","type":"text"},{"code":"searchable(...)","type":"codeVoice"},{"text":" provides a default implementation of rendering the search field in the toolbar","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"searchable(...)"},{"text":" sets up a new ","type":"text"},{"type":"codeVoice","code":"isSearching"},{"text":" environment property, that you can use to dynamically change the view being displayed, based on whether a user is actively searching for example:","type":"text"}]}]}],"type":"unorderedList"},{"syntax":"swift","code":["struct WeatherList: View {","  @Binding var text: String","  ","  @Environment(\\.isSearching) private var isSearching: Bool","  ","  var body: some View {","    WeatherCitiesList()","      .overlay {","        if isSearching && !text.isEmpty {","          WeatherSearchResults()","        }","      }","  }","}"],"type":"codeListing"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"some "},{"type":"codeVoice","code":"searchable(...)"},{"type":"text","text":" overloads also accept a "},{"type":"codeVoice","code":"suggestions"},{"type":"text","text":" parameter, which is a view builder that produces content that populates a list of suggestions"}]}]},{"content":[{"inlineContent":[{"text":"SwiftUI looks at this ","type":"text"},{"code":"suggestions","type":"codeVoice"},{"text":" view builder and will present it based on whether there are any suggestions to display","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"syntax":"swift","code":["struct ColorsContentView: View {","  @State var text = \"\"","  ","  var body: some View {","    NavigationView {","      Sidebar()","      DetailView()","    }","    .searchable(text: $text) {","       ForEach(suggestions) { suggestion in","        ColorsSuggestionLabel(suggestion)","          .searchCompletion(suggestion.text)","      }","    }","  }","}"],"type":"codeListing"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/searchcompletion(_:)"},{"type":"text","text":" replaced the need for you to wrap each suggestion with a button that replaces your "},{"code":"$text","type":"codeVoice"},{"type":"text","text":" binding"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"use "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/onsubmit(of:_:)"},{"type":"text","text":" to get notified when the user hits return from the search field"}]}]}],"type":"unorderedList"},{"syntax":"swift","code":["ContentView()","  .searchable(text: $text) {","    MySearchSuggestions()","  }","  .onSubmit(of: .search) {","    fetchResults()","  }"],"type":"codeListing"},{"level":2,"text":"Written By","type":"heading","anchor":"Written-By"},{"columns":[{"size":1,"content":[{"type":"paragraph","inlineContent":[{"identifier":"zntfdr","type":"image"}]}]},{"size":4,"content":[{"text":"Federico Zanetello","type":"heading","anchor":"Federico-Zanetello","level":3},{"inlineContent":[{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","isActive":true,"overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}],"type":"reference","overridingTitle":"Contributed Notes"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"identifier":"https:\/\/github.com\/zntfdr","isActive":true,"type":"reference"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"identifier":"https:\/\/zntfdr.dev","isActive":true,"type":"reference"}],"type":"paragraph"}]}],"numberOfColumns":5,"type":"row"},{"type":"thematicBreak"},{"type":"paragraph","inlineContent":[{"text":"Missing anything? Corrections? ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"}]},{"level":2,"text":"Related Sessions","type":"heading","anchor":"Related-Sessions"},{"style":"list","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10002-Whats-new-in-watchOS-8","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10018-Whats-new-in-SwiftUI"],"type":"links"},{"type":"small","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Legal Notice"}]}]},{"type":"small","inlineContent":[{"type":"text","text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}]}]}],"variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc21-10176-craft-search-experiences-in-swiftui"],"traits":[{"interfaceLanguage":"swift"}]}],"references":{"doc://WWDCNotes/documentation/WWDCNotes/WWDC21":{"url":"\/documentation\/wwdcnotes\/wwdc21","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21","images":[{"type":"icon","identifier":"WWDC21-Icon.png"},{"type":"card","identifier":"WWDC21.jpeg"}],"kind":"article","role":"collectionGroup","title":"WWDC21","abstract":[{"text":"Xcode 13, Swift 5.5, iOS 15, macOS 12 (Monterey), tvOS 15, watchOS 8.","type":"text"},{"text":" ","type":"text"},{"text":"New APIs: ","type":"text"},{"code":"MusicKit","type":"codeVoice"},{"text":", ","type":"text"},{"code":"DocC","type":"codeVoice"},{"text":", ","type":"text"},{"code":"StoreKit 2","type":"codeVoice"},{"text":", and more.","type":"text"}]},"doc://WWDCNotes/documentation/WWDCNotes":{"abstract":[{"text":"Session notes shared by the community for the community.","type":"text"}],"title":"WWDC Notes","type":"topic","kind":"symbol","role":"collection","images":[{"type":"icon","identifier":"WWDCNotes.png"}],"url":"\/documentation\/wwdcnotes","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes"},"WWDC21-Icon.png":{"type":"image","variants":[{"url":"\/images\/WWDCNotes\/WWDC21-Icon.png","traits":["1x","light"]}],"identifier":"WWDC21-Icon.png","alt":null},"doc://WWDCNotes/documentation/WWDCNotes/zntfdr":{"abstract":[{"text":"Software engineer with a strong passion for well-written code, thought-out composable architectures, automation, tests, and more.","type":"text"}],"title":"Federico Zanetello (332 notes)","type":"topic","kind":"article","role":"sampleCode","images":[{"identifier":"zntfdr.jpeg","type":"card"},{"identifier":"zntfdr.jpeg","type":"icon"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","url":"\/documentation\/wwdcnotes\/zntfdr"},"WWDCNotes.png":{"alt":null,"type":"image","identifier":"WWDCNotes.png","variants":[{"url":"\/images\/WWDCNotes\/WWDCNotes.png","traits":["1x","light"]}]},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"type":"link","title":"Contributions are welcome!","titleInlineContent":[{"text":"Contributions are welcome!","type":"text"}],"url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"},"https://zntfdr.dev":{"type":"link","titleInlineContent":[{"type":"text","text":"Blog"}],"url":"https:\/\/zntfdr.dev","title":"Blog","identifier":"https:\/\/zntfdr.dev"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10002-Whats-new-in-watchOS-8":{"url":"\/documentation\/wwdcnotes\/wwdc21-10002-whats-new-in-watchos-8","kind":"article","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10002-Whats-new-in-watchOS-8","abstract":[{"type":"text","text":"watchOS 8 brings all-new opportunities to keep people up to date on their watch face. With new APIs for the Always-On Retina display and updating complications from Bluetooth devices and background delivery of HealthKit data, it’s never been easier to keep your app up to date. Learn about region-based user notifications to leverage location in your app. Explore all the new enhancements to SwiftUI and watchOS that will get you excited to build your next Watch app."}],"type":"topic","title":"What’s new in watchOS 8"},"zntfdr.jpeg":{"alt":null,"type":"image","identifier":"zntfdr.jpeg","variants":[{"url":"\/images\/WWDCNotes\/zntfdr.jpeg","traits":["1x","light"]}]},"https://developer.apple.com/documentation/SwiftUI/View/searchable(_:text:placement:)-1r1py":{"type":"link","title":"searchable(...)","titleInlineContent":[{"code":"searchable(...)","type":"codeVoice"}],"url":"https:\/\/developer.apple.com\/documentation\/SwiftUI\/View\/searchable(_:text:placement:)-1r1py","identifier":"https:\/\/developer.apple.com\/documentation\/SwiftUI\/View\/searchable(_:text:placement:)-1r1py"},"https://github.com/zntfdr":{"type":"link","titleInlineContent":[{"type":"text","text":"GitHub"}],"url":"https:\/\/github.com\/zntfdr","title":"GitHub","identifier":"https:\/\/github.com\/zntfdr"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10018-Whats-new-in-SwiftUI":{"abstract":[{"text":"There’s never been a better time to develop your apps with SwiftUI. Discover the latest updates to the UI framework — including lists, buttons, and text fields — and learn how these features can help you more fully adopt SwiftUI in your app. Find out how to create beautiful, visually-rich graphics using the canvas view, materials, and enhancements to symbols. Explore multi-column tables on macOS, refinements to focus and keyboard interaction, and the multi-platform search API. And we’ll show you how to take advantage of features like Swift concurrency, a brand new AttributedString, format styles, localization, and so much more.","type":"text"}],"title":"What’s new in SwiftUI","type":"topic","kind":"article","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10018-Whats-new-in-SwiftUI","url":"\/documentation\/wwdcnotes\/wwdc21-10018-whats-new-in-swiftui"},"https://developer.apple.com/documentation/swiftui/view/searchcompletion(_:)":{"title":"searchCompletion(_:)","url":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/searchcompletion(_:)","type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/searchcompletion(_:)","titleInlineContent":[{"type":"codeVoice","code":"searchCompletion(_:)"}]},"WWDC21.jpeg":{"type":"image","alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/WWDC21.jpeg"}],"identifier":"WWDC21.jpeg"},"zntfdr":{"type":"image","variants":[{"url":"\/images\/WWDCNotes\/zntfdr.jpeg","traits":["1x","light"]}],"identifier":"zntfdr","alt":"Profile image of Federico Zanetello"},"https://developer.apple.com/documentation/swiftui/view/onsubmit(of:_:)":{"title":"onSubmit(of:_:)","url":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/onsubmit(of:_:)","type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/onsubmit(of:_:)","titleInlineContent":[{"type":"codeVoice","code":"onSubmit(of:_:)"}]},"https://developer.apple.com/wwdc21/10176":{"type":"download","url":"https:\/\/developer.apple.com\/wwdc21\/10176","checksum":null,"identifier":"https:\/\/developer.apple.com\/wwdc21\/10176"}}}