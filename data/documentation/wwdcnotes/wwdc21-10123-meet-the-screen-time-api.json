{"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10123-Meet-the-Screen-Time-API"},"kind":"article","hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21"]]},"abstract":[{"text":"Explore the Screen Time API and learn how you can build apps that support customized parental controls — all while putting privacy first. Learn how you can use key features like core restrictions and device activity monitoring to create safe, secure experiences in your app while providing measurable control for parents and guardians.","type":"text"}],"sampleCodeDownload":{"action":{"identifier":"https:\/\/developer.apple.com\/wwdc21\/10123","isActive":true,"overridingTitle":"Watch Video (19 min)","type":"reference"},"kind":"sampleDownload"},"variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc21-10123-meet-the-screen-time-api"],"traits":[{"interfaceLanguage":"swift"}]}],"schemaVersion":{"minor":3,"major":0,"patch":0},"metadata":{"role":"sampleCode","title":"Meet the Screen Time API","roleHeading":"WWDC21","modules":[{"name":"WWDC Notes"}]},"sections":[],"primaryContentSections":[{"content":[{"anchor":"overview","level":2,"text":"Overview","type":"heading"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Screen Time allows: monitor time, set limits, share usage with family, limit communication","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"API available on iOS & iPadOS (not on Mac this year)","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Guiding Principles of API:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Provide modern API for existing restrictions"}]}]},{"content":[{"inlineContent":[{"text":"Protect user privacy (e.g. no way to access websites \/ apps for Apple \/ 3rd parties)","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Enable new parental control experiences by 3rd parties"}],"type":"paragraph"}]}],"type":"unorderedList"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Manage Settings (Restrictions): Direct access to same restrictions available in Screen Time","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"locking accounts, prevent password change, filter web traffic, shield apps and websites"}],"type":"paragraph"}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Family Controls (Authorization): Drives family policy","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Device Activity (Usage): Giving abilities to run code without launching app"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Manage settings restrictions:"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Family Controls prevents removal & circumvention, privacy preserving tokens for apps & websites"}]}]},{"content":[{"inlineContent":[{"text":"Device activity “schedules”: time windows that call an extension in your app at start & end","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Events: usage monitors that call extension when usage threshold is passed by user"}]}]},{"content":[{"inlineContent":[{"text":"Terminology: “Guardian” and “Child”, see “Homework” demo app code","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"New “Family Controls” capability to be added in Xcode","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"AuthorizationCenter.shared.requestAuthorization","type":"codeVoice"},{"text":" to ask for permission","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Guardian will need to authenticate on the child’s phone, only works on child phones","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Once user authorized, no sign out of iCloud possible by child"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Subclass of "},{"code":"DeviceActivityMonitor","type":"codeVoice"},{"type":"text","text":" with overriding "},{"code":"intervalDidStart","type":"codeVoice"},{"type":"text","text":" and "},{"code":"DidEnd","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Schedule via ","type":"text"},{"type":"codeVoice","code":"DeviceActivitySchedule(intervalStart:intervalEnd:repeats:)"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"DeviceActivityCenter().startMonitoring(.daily, during: schedule)","type":"codeVoice"},{"text":" to monitor","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Use ","type":"text"},{"code":"Button.familyActivityPicker","type":"codeVoice"},{"text":" to show app picker (provided by system)","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"A lot of more restrictions available, such as media rating"}]}]},{"content":[{"inlineContent":[{"text":"Use ","type":"text"},{"code":"DeviceActivityEvent","type":"codeVoice"},{"text":" API on the center to react on app time limit events","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Shields (screen that shows restriction reached) can be customized by:","type":"text"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Material, Title, Icon, Body, Button 1 & Button 2","type":"text"}]}]}],"type":"unorderedList"}]},{"content":[{"inlineContent":[{"text":"Subclass ","type":"text"},{"code":"ShieldConfigurationProvider","type":"codeVoice"},{"text":" and override ","type":"text"},{"code":"configuration(for:)","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Returns an object that has exactly all the above mentioned customization possibilities","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Use ","type":"text"},{"code":"ShieldActionHandler","type":"codeVoice"},{"text":" for the primary & secondary buttons to decide  what to do","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"codeVoice","code":".close"},{"type":"text","text":" or "},{"type":"codeVoice","code":".defer"},{"type":"text","text":", use "},{"type":"codeVoice","code":"defer"},{"type":"text","text":" e.g. when waiting for Guardian action to disable"}],"type":"paragraph"}]}]}]}],"type":"unorderedList"},{"anchor":"Written-By","level":2,"text":"Written By","type":"heading"},{"columns":[{"size":1,"content":[{"inlineContent":[{"identifier":"Jeehut","type":"image"}],"type":"paragraph"}]},{"size":4,"content":[{"level":3,"anchor":"Cihat-Gündüz","text":"Cihat Gündüz","type":"heading"},{"type":"paragraph","inlineContent":[{"overridingTitleInlineContent":[{"text":"Contributed Notes","type":"text"}],"overridingTitle":"Contributed Notes","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/Jeehut","isActive":true,"type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/github.com\/Jeehut","isActive":true,"type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/fline.dev","isActive":true,"type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/x.com\/Jeehut","isActive":true,"type":"reference"}]}]}],"type":"row","numberOfColumns":5},{"type":"paragraph","inlineContent":[{"text":"Missing anything? Corrections? ","type":"text"},{"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","isActive":true,"type":"reference"}]},{"anchor":"Related-Sessions","level":2,"text":"Related Sessions","type":"heading"},{"items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10096-Get-ready-for-iCloud-Private-Relay"],"type":"links","style":"list"},{"type":"small","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Legal Notice"}]}]},{"type":"small","inlineContent":[{"type":"text","text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}]}],"kind":"content"}],"references":{"WWDC21-Icon.png":{"identifier":"WWDC21-Icon.png","alt":null,"variants":[{"url":"\/images\/WWDC21-Icon.png","traits":["1x","light"]}],"type":"image"},"Jeehut.jpeg":{"identifier":"Jeehut.jpeg","alt":null,"variants":[{"url":"\/images\/Jeehut.jpeg","traits":["1x","light"]}],"type":"image"},"doc://WWDCNotes/documentation/WWDCNotes":{"title":"WWDC Notes","url":"\/documentation\/wwdcnotes","images":[{"identifier":"WWDCNotes.png","type":"icon"}],"kind":"symbol","abstract":[{"text":"Session notes shared by the community for the community.","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","role":"collection","type":"topic"},"https://github.com/Jeehut":{"identifier":"https:\/\/github.com\/Jeehut","title":"GitHub","url":"https:\/\/github.com\/Jeehut","type":"link","titleInlineContent":[{"text":"GitHub","type":"text"}]},"WWDCNotes.png":{"identifier":"WWDCNotes.png","alt":null,"variants":[{"url":"\/images\/WWDCNotes.png","traits":["1x","light"]}],"type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/Jeehut":{"title":"Cihat Gündüz (61 notes)","images":[{"type":"card","identifier":"Jeehut.jpeg"},{"type":"icon","identifier":"Jeehut.jpeg"}],"role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/Jeehut","type":"topic","kind":"article","abstract":[{"type":"text","text":"Spatial-first Indie Developer for  Platforms. Actively contributing to Open Source since 2011!"}],"url":"\/documentation\/wwdcnotes\/jeehut"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","title":"Contributions are welcome!","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"link","titleInlineContent":[{"text":"Contributions are welcome!","type":"text"}]},"https://developer.apple.com/wwdc21/10123":{"identifier":"https:\/\/developer.apple.com\/wwdc21\/10123","url":"https:\/\/developer.apple.com\/wwdc21\/10123","checksum":null,"type":"download"},"https://x.com/Jeehut":{"identifier":"https:\/\/x.com\/Jeehut","title":"X\/Twitter","url":"https:\/\/x.com\/Jeehut","type":"link","titleInlineContent":[{"text":"X\/Twitter","type":"text"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21":{"role":"collectionGroup","url":"\/documentation\/wwdcnotes\/wwdc21","title":"WWDC21","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21","abstract":[{"text":"Xcode 13, Swift 5.5, iOS 15, macOS 12 (Monterey), tvOS 15, watchOS 8.","type":"text"},{"text":" ","type":"text"},{"text":"New APIs: ","type":"text"},{"code":"MusicKit","type":"codeVoice"},{"text":", ","type":"text"},{"code":"DocC","type":"codeVoice"},{"text":", ","type":"text"},{"code":"StoreKit 2","type":"codeVoice"},{"text":", and more.","type":"text"}],"images":[{"identifier":"WWDC21-Icon.png","type":"icon"},{"identifier":"WWDC21.jpeg","type":"card"}],"kind":"article"},"Jeehut":{"identifier":"Jeehut","alt":"Profile image of Cihat Gündüz","variants":[{"url":"\/images\/Jeehut.jpeg","traits":["1x","light"]}],"type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10096-Get-ready-for-iCloud-Private-Relay":{"abstract":[{"type":"text","text":"iCloud Private Relay is an iCloud+ service that prevents networks and servers from monitoring a person’s activity across the internet. Discover how your app can participate in this transition to a more secure and private internet: We’ll show you how to prepare your apps, servers, and networks to work with iCloud Private Relay."}],"url":"\/documentation\/wwdcnotes\/wwdc21-10096-get-ready-for-icloud-private-relay","type":"topic","kind":"article","title":"Get ready for iCloud Private Relay","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10096-Get-ready-for-iCloud-Private-Relay","role":"sampleCode"},"WWDC21.jpeg":{"identifier":"WWDC21.jpeg","alt":null,"variants":[{"url":"\/images\/WWDC21.jpeg","traits":["1x","light"]}],"type":"image"},"https://fline.dev":{"identifier":"https:\/\/fline.dev","title":"Blog","url":"https:\/\/fline.dev","type":"link","titleInlineContent":[{"text":"Blog","type":"text"}]}}}