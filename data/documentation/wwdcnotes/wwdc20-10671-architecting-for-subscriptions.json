{"abstract":[{"type":"text","text":"Learn how you can build simple entitlement logic to enhance the customer experience. We‚Äôll dive deep into key concepts and provide guidance for architecting your systems to accurately entitle service. You‚Äôll learn best practices for subscription features and how to craft the best customer experience throughout the subscription lifecycle."}],"schemaVersion":{"patch":0,"minor":3,"major":0},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20"]]},"kind":"article","sections":[],"metadata":{"title":"Architecting for subscriptions","roleHeading":"WWDC20","modules":[{"name":"WWDC Notes"}],"role":"sampleCode"},"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10671-Architecting-for-subscriptions","interfaceLanguage":"swift"},"primaryContentSections":[{"kind":"content","content":[{"text":"Overview","anchor":"overview","level":2,"type":"heading"},{"inlineContent":[{"type":"text","text":"The subscriber states has changed from:"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Inactive"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Active","type":"text"}]}]}]},{"inlineContent":[{"type":"text","text":"to:"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Inactive","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Billing Retry","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Billing Grace Period"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Active","type":"text"}]}]}]},{"inlineContent":[{"type":"text","text":"which makes the subscriber journey more complex."}],"type":"paragraph"},{"inlineContent":[{"text":"And we have some additional considerations to make such as:","type":"text"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Upgrade, downgrade, or cross grade events","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Subscription Offer opportunities"}]}]},{"content":[{"inlineContent":[{"text":"Billing retry and grace period messaging","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Refunds","type":"text"}],"type":"paragraph"}]}]},{"text":"Written By","anchor":"Written-By","level":2,"type":"heading"},{"columns":[{"content":[{"inlineContent":[{"type":"image","identifier":"davidleee"}],"type":"paragraph"}],"size":1},{"content":[{"text":"David Lee","anchor":"David-Lee","level":3,"type":"heading"},{"inlineContent":[{"type":"reference","overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}],"isActive":true,"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/davidleee","overridingTitle":"Contributed Notes"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/davidleee"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/davidleee.com"}],"type":"paragraph"}],"size":4}],"numberOfColumns":5,"type":"row"},{"type":"thematicBreak"},{"inlineContent":[{"type":"text","text":"Missing anything? Corrections? "},{"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","isActive":true,"type":"reference"}],"type":"paragraph"},{"text":"Related Sessions","anchor":"Related-Sessions","level":2,"type":"heading"},{"style":"list","type":"links","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110404-Implement-proactive-inapp-purchase-restore","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10661-Whats-new-with-inapp-purchase","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-302-InApp-Purchases-and-Using-ServertoServer-Notifications","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-705-Engineering-Subscriptions"]},{"inlineContent":[{"inlineContent":[{"type":"text","text":"Legal Notice"}],"type":"strong"}],"type":"small"},{"inlineContent":[{"type":"text","text":"All content copyright ¬© 2012 ‚Äì 2025 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}],"type":"small"}]}],"sampleCodeDownload":{"kind":"sampleDownload","action":{"isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/wwdc20\/10671","overridingTitle":"Watch Video (23 min)"}},"variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc20-10671-architecting-for-subscriptions"],"traits":[{"interfaceLanguage":"swift"}]}],"references":{"WWDC20-Icon.png":{"alt":null,"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/WWDC20-Icon.png"}],"identifier":"WWDC20-Icon.png"},"davidleee":{"alt":"Profile image of David Lee","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/davidleee.jpeg"}],"type":"image","identifier":"davidleee"},"davidleee.jpeg":{"identifier":"davidleee.jpeg","type":"image","alt":null,"variants":[{"url":"\/images\/WWDCNotes\/davidleee.jpeg","traits":["1x","light"]}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC18-705-Engineering-Subscriptions":{"url":"\/documentation\/wwdcnotes\/wwdc18-705-engineering-subscriptions","title":"Engineering Subscriptions","abstract":[{"text":"Learn the best practices for architecting your subscription infrastructure using StoreKit and server-side logic. Find out about simple engineering techniques to keep your subscribers longer, and how to utilize new tools and APIs to give your subscribers the best experience.","type":"text"}],"kind":"article","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-705-Engineering-Subscriptions","type":"topic"},"WWDC20.jpeg":{"alt":null,"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/WWDC20.jpeg"}],"identifier":"WWDC20.jpeg"},"https://developer.apple.com/wwdc20/10671":{"url":"https:\/\/developer.apple.com\/wwdc20\/10671","type":"download","identifier":"https:\/\/developer.apple.com\/wwdc20\/10671","checksum":null},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-110404-Implement-proactive-inapp-purchase-restore":{"abstract":[{"text":"Learn how you can restore someone‚Äôs in-app purchases access proactively when they first open your app. We‚Äôll show you how you can deliver instant access to existing subscriptions using StoreKit or StoreKit 2 and cover best practices for both your client and server implementations. Find out more about how you can determine customer purchase state and create a personalized onboarding experience for your app.","type":"text"}],"title":"Implement proactive in-app purchase restore","role":"sampleCode","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110404-Implement-proactive-inapp-purchase-restore","url":"\/documentation\/wwdcnotes\/wwdc22-110404-implement-proactive-inapp-purchase-restore","kind":"article"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"link","title":"Contributions are welcome!","titleInlineContent":[{"text":"Contributions are welcome!","type":"text"}]},"https://davidleee.com":{"title":"Blog","titleInlineContent":[{"text":"Blog","type":"text"}],"type":"link","identifier":"https:\/\/davidleee.com","url":"https:\/\/davidleee.com"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-302-InApp-Purchases-and-Using-ServertoServer-Notifications":{"abstract":[{"text":"Learn about the latest updates in StoreKit and dive deep into best practices for using server-to-server notifications to manage your subscribers.","type":"text"}],"type":"topic","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-302-InApp-Purchases-and-Using-ServertoServer-Notifications","title":"In-App Purchases and Using Server-to-Server Notifications","role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc19-302-inapp-purchases-and-using-servertoserver-notifications"},"WWDCNotes.png":{"alt":null,"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/WWDCNotes.png"}],"identifier":"WWDCNotes.png"},"doc://WWDCNotes/documentation/WWDCNotes":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","title":"WWDC Notes","role":"collection","abstract":[{"text":"Session notes shared by the community for the community.","type":"text"}],"type":"topic","url":"\/documentation\/wwdcnotes","kind":"symbol","images":[{"identifier":"WWDCNotes.png","type":"icon"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20":{"title":"WWDC20","images":[{"identifier":"WWDC20-Icon.png","type":"icon"},{"identifier":"WWDC20.jpeg","type":"card"}],"role":"collectionGroup","abstract":[{"type":"text","text":"Xcode 12, Swift 5.3, iOS 14, macOS 11 (Big Sur), tvOS 14, watchOS 7."},{"type":"text","text":" "},{"type":"text","text":"New APIs: "},{"type":"codeVoice","code":"WidgetKit"},{"type":"text","text":", "},{"type":"codeVoice","code":"StoreKit Testing"},{"type":"text","text":", and more."}],"kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc20"},"doc://WWDCNotes/documentation/WWDCNotes/davidleee":{"abstract":[{"text":"Indie iOS developerüßëüèª‚Äçüíª","type":"text"}],"title":"David Lee (5 notes)","kind":"article","role":"sampleCode","type":"topic","images":[{"identifier":"davidleee.jpeg","type":"card"},{"identifier":"davidleee.jpeg","type":"icon"}],"url":"\/documentation\/wwdcnotes\/davidleee","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/davidleee"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10661-Whats-new-with-inapp-purchase":{"abstract":[{"type":"text","text":"Create a great in-app purchase experience for your iPhone, iPad, Mac, and Apple Watch apps. Discover how to handle refunds, integrate new App Store server notifications, and find out how to use receipts and server notifications to manage subscriber status. We‚Äôll also walk you through the latest updates in StoreKit, including in-app purchases on Apple Watch, Family Sharing, SKOverlay, SKAdNetwork, and more."}],"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10661-Whats-new-with-inapp-purchase","kind":"article","title":"What‚Äôs new with in-app purchase","role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc20-10661-whats-new-with-inapp-purchase"},"https://github.com/davidleee":{"url":"https:\/\/github.com\/davidleee","identifier":"https:\/\/github.com\/davidleee","type":"link","title":"GitHub","titleInlineContent":[{"text":"GitHub","type":"text"}]}}}