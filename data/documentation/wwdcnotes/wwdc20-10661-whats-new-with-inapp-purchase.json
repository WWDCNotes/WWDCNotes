{"sections":[],"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20"]]},"primaryContentSections":[{"kind":"content","content":[{"level":2,"anchor":"Introduction","type":"heading","text":"Introduction"},{"inlineContent":[{"type":"text","text":"Apps running locally from Xcode and distributed it through TestFligt use the Sandbox environment. Once the app is in the App Store it will use the production environment. Testing app purchases can become cumbersome but Xcode introduces StoreKit testing to ease these steps."}],"type":"paragraph"},{"level":2,"anchor":"StoreKit-Testing","type":"heading","text":"StoreKit Testing"},{"inlineContent":[{"type":"text","text":"With StoreKit testing you will be able to test your app’s in-app purchases entirely locally. This is done via a new framework, "},{"identifier":"https:\/\/developer.apple.com\/documentation\/storekittest#","isActive":true,"type":"reference"},{"type":"text","text":"."}],"type":"paragraph"},{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"By default, StoreKit uses Sandbox environment"}]},{"type":"text","text":", any testing in-app purchase you create will not appear until you either enable local testing within Xcode or create those in-app purchases inside App Store Connect."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"To enable local testing you need to define those in-app products inside your project. To do so, create a new file of type "},{"type":"strong","inlineContent":[{"type":"text","text":"StoreKit Configuration File"}]},{"type":"text","text":" template. This new file allows you to define all the necessary metadata for your in-app products. There are three types of in-app purchases you can create from the bottom left side of the screen:"}],"type":"paragraph"},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"Consumable","type":"text"}]},{"text":" In-App Purchase: You can buy it over and over again (lives or gems within a game).","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Non-Consumable"}],"type":"strong"},{"text":" In-App Purchase: Purchased once and never expire.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Auto-Renewable Subscription"}],"type":"strong"},{"type":"text","text":": Users are charged periodically for access to services or content."}]}]}]},{"inlineContent":[{"type":"text","text":"Once your StoreKit Configuration is ready it’s time to tell Xcode to use this configuration instead of the Sandbox environment when launching your app. This is done under “Edit Scheme” inside the “Scheme Editor” and under “Run Options” select the StoreKit Configuration you would like to use. Now when you relaunch your app it will use that environment."}],"type":"paragraph"},{"inlineContent":[{"text":"Every change you do to your ","type":"text"},{"code":".storekit","type":"codeVoice"},{"text":" file is rendered automatically on your device. No need to recompile your app to see these changes.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Whenever you want to test the flow and actions of purchasing an item there’s no need to log into a Sandbox account, it will use your local testing environment if selected. It will update your app’s payment transaction observer just like it did on your sandbox or production environment. "},{"type":"strong","inlineContent":[{"text":"You will also receive a receipt that your app can verify when using local StoreKit testing","type":"text"}]},{"type":"text","text":". To modify or remove StoreKit transactions you can use the new StoreKit Transaction Manager, you can also simulate a refund that will update the receipt to contain a cancellation date for when the refund occurred. This new framework also supports Ask to Buy to test kid’s permissions. This is enabled under the “Editor” menu and selecting “Enable Ask to Buy” on any "},{"type":"codeVoice","code":"*.storekit"},{"type":"text","text":" file this will be reflected on the StoreKit Transaction Manager and the StoreKit Transaction Observer will mark it to be in the "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/storekit\/skpaymenttransactionstate\/deferred#"},{"type":"text","text":" state until it’s approved."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Auto Renewable Subscriptions is also supported and allows to test promotional offers and introductory offers. To reduce waiting times until these offers expire you can modify how much they’re going to last. Under the “Editor” menu, select “Time Rate” to modify the time scale to test your app’s renewal statuses."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"A new API "},{"isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/storekit\/skpaymenttransactionobserver\/3564804-paymentqueue#"},{"type":"text","text":", launched in iOS 14, allows your app to tell a user it is no longer entitled to one or more in-app purchases."}]},{"type":"heading","text":"Receipt Validation with local Xcode testing environment","anchor":"Receipt-Validation-with-local-Xcode-testing-environment","level":2},{"type":"paragraph","inlineContent":[{"text":"Every app transaction is reflected on the ","type":"text"},{"type":"strong","inlineContent":[{"text":"app’s receipt","type":"text"}]},{"text":". This is a ","type":"text"},{"type":"strong","inlineContent":[{"text":"signed proof from the App Store of every record of purchases made by the user in your app","type":"text"}]},{"text":". It’s ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"stored on the device and it’s updated automatically by the system"}]},{"text":". It is signed so you know it came from the App Store and was meant for your app on that device.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"There are some key differences when working with the local Xcode StoreKit testing environment and the Sandbox environment for the app’s receipt.","type":"text"}]},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"They are signed with a different private key than what is used for the receipts generated in the Sandbox or production environments. Hence the need to use a different certificate when validating. Said certificate is exportable from the StoreKit configuration editor menu."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"The StoreKit Test Certificate is not part of a certificate chain","type":"text"}],"type":"strong"},{"type":"text","text":". Apple recommends defining a debug macro to differentiate both environments within your client side verification code."}]}]}],"type":"orderedList"},{"syntax":"swift","code":["#if DEBUG","let certificateName = \"StoreKitTestCertificate","#else","let certificateName = \"AppleIncRootCertificate\"","#endif","","\/\/ Verify Receipt using OpenSSL","","#if DEBUG","let result = PKCS7_verify(receipt, nil, store, nil, nil, PKCS7_NOCHAIN)","#else","let result = PKCS7_verify(receipt, nil, store, nil, nil, nil)","#endif"],"type":"codeListing"},{"type":"heading","text":"StoreKit Test Framework","anchor":"StoreKit-Test-Framework","level":3},{"type":"paragraph","inlineContent":[{"type":"text","text":"Introduces the ability to continuously test StoreKit automation and transactions with the following additions:"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Enables you in code full control of the local StoreKit test environment. All the controls that you had manually are now exposed inside your tests."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Works alongside XCTest for extending unit and UI test coverage to your in-app purchases."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Additionally, you have the ability to "},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/storekittest\/sktestsession\/3579480-disabledialogs#","isActive":true},{"type":"text","text":" all the sheets and dialogs that would normally appear. Making your tests run to completion without waiting for user interaction. One example of this is the addition of "},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/storekittest\/sktestsession\/3579476-cleartransactions#","isActive":true},{"type":"text","text":"."}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Ability to trigger renewal of a subscription right away. so your tests can validate if your app’s subscription features continue to work across renewals."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Test the app’s handling of both successful and failed purchases, interrupted and deferred purchases, transactions that initiate outside the running of your app as well as all sort of cases related to subscriptions.","type":"text"}],"type":"paragraph"}]}],"type":"orderedList"},{"type":"paragraph","inlineContent":[{"text":"When testing StoreKit flows it’s important to ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/documentation\/storekittest\/sktestsession","isActive":true,"type":"reference"},{"text":" the StoreKit configuration file so that’s referenceable by SKTestSession.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"After testing everything it’s essential to sign into App Store connect and set up the in-app purchases so you can test everything using the sandbox environment.","type":"text"}]},{"type":"heading","text":"Enhancements to the Sandbox environment","anchor":"Enhancements-to-the-Sandbox-environment","level":2},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Sandbox environment uses the same information from App Store Connect as when the app it’s available in the App Store."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Sandbox environment also requires an Apple ID for your test device."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"In Sandbox app receipts are signed by the App Store.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Sandbox supports server-side receipt validation."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Sandbox supports App Store server notifications."}]}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"text":"You can manage and test your subscriptions inside the Sandbox configuration from Settings.app of your device where you configure your Sandbox account. Also, you can reset eligibility for introductory offers, so now there’s ","type":"text"},{"inlineContent":[{"text":"no need to set up a new Sandbox ID each time you want to retest an introductory offer","type":"text"}],"type":"strong"},{"text":".","type":"text"}]},{"type":"heading","text":"App Store server notifications in the Sandbox Environment","anchor":"App-Store-server-notifications-in-the-Sandbox-Environment","level":3},{"type":"paragraph","inlineContent":[{"identifier":"WWDC20-10661-app_store_server_notifications","type":"image"}]},{"content":[{"inlineContent":[{"text":"App Store server notifications in Sandbox Environment","type":"text"}],"type":"paragraph"}],"name":"Note","style":"note","type":"aside"},{"type":"paragraph","inlineContent":[{"text":"This session introduces two new notification types available in the Sandbox environment: ","type":"text"},{"code":"DID_CHANGE_RENEWAL_STATUS","type":"codeVoice"},{"text":" & ","type":"text"},{"code":"DID_RENEW","type":"codeVoice"}]},{"type":"heading","text":"Written By","anchor":"Written-By","level":2},{"type":"row","columns":[{"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"javierdemartin"}]}],"size":1},{"content":[{"text":"Javier de Martín","type":"heading","anchor":"Javier-de-Martín","level":3},{"inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/javierdemartin","overridingTitle":"Contributed Notes","overridingTitleInlineContent":[{"text":"Contributed Notes","type":"text"}]},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/javierdemartin"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/javierdemart.in"}],"type":"paragraph"}],"size":4}],"numberOfColumns":5},{"type":"paragraph","inlineContent":[{"text":"Missing anything? Corrections? ","type":"text"},{"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","isActive":true,"type":"reference"}]},{"type":"heading","text":"Related Sessions","anchor":"Related-Sessions","level":2},{"items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10114-Meet-StoreKit-2","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10174-Manage-inapp-purchases-on-your-server","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10175-Support-customers-and-handle-refunds","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10120-Streamline-your-App-Clip","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10659-Introducing-StoreKit-Testing-in-Xcode","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10671-Architecting-for-subscriptions","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10676-Build-trust-through-better-privacy","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-302-InApp-Purchases-and-Using-ServertoServer-Notifications"],"style":"list","type":"links"},{"type":"small","inlineContent":[{"inlineContent":[{"text":"Legal Notice","type":"text"}],"type":"strong"}]},{"type":"small","inlineContent":[{"text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved.","type":"text"},{"text":" ","type":"text"},{"text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries.","type":"text"},{"text":" ","type":"text"},{"text":"This website is not made by, affiliated with, nor endorsed by Apple.","type":"text"}]}]}],"kind":"article","abstract":[{"type":"text","text":"Create a great in-app purchase experience for your iPhone, iPad, Mac, and Apple Watch apps. Discover how to handle refunds, integrate new App Store server notifications, and find out how to use receipts and server notifications to manage subscriber status. We’ll also walk you through the latest updates in StoreKit, including in-app purchases on Apple Watch, Family Sharing, SKOverlay, SKAdNetwork, and more."}],"variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc20-10661-whats-new-with-inapp-purchase"],"traits":[{"interfaceLanguage":"swift"}]}],"schemaVersion":{"patch":0,"major":0,"minor":3},"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10661-Whats-new-with-inapp-purchase","interfaceLanguage":"swift"},"metadata":{"modules":[{"name":"WWDC Notes"}],"roleHeading":"WWDC20","title":"What’s new with in-app purchase","role":"sampleCode"},"sampleCodeDownload":{"action":{"type":"reference","isActive":true,"overridingTitle":"Watch Video (45 min)","identifier":"https:\/\/developer.apple.com\/wwdc20\/10661"},"kind":"sampleDownload"},"references":{"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10175-Support-customers-and-handle-refunds":{"kind":"article","role":"sampleCode","title":"Support customers and handle refunds","abstract":[{"type":"text","text":"Great customer support is critical to running a successful business on the App Store. Discover how you can provide a frictionless support experience to customers who make in-app purchases, including APIs that make it easy for customers to manage or cancel their auto-renewable subscription, or request refunds from directly within your app. We’ll cover best practices for handling refunds, as well as additional APIs that can help you better support your customers."}],"url":"\/documentation\/wwdcnotes\/wwdc21-10175-support-customers-and-handle-refunds","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10175-Support-customers-and-handle-refunds","type":"topic"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10659-Introducing-StoreKit-Testing-in-Xcode":{"abstract":[{"text":"Discover StoreKit Testing in Xcode — a local environment for testing your in-app purchases without needing to connect to App Store servers. We’ll show you how to set up a test environment, create a StoreKit configuration file, and prepare to validate receipts locally. We’ll also explain how to test a variety of in-app purchase scenarios and automate those tests with the StoreKitTest framework, and cover the latest improvements to testing in the sandbox environment.","type":"text"}],"role":"sampleCode","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10659-Introducing-StoreKit-Testing-in-Xcode","url":"\/documentation\/wwdcnotes\/wwdc20-10659-introducing-storekit-testing-in-xcode","kind":"article","title":"Introducing StoreKit Testing in Xcode"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10676-Build-trust-through-better-privacy":{"url":"\/documentation\/wwdcnotes\/wwdc20-10676-build-trust-through-better-privacy","kind":"article","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10676-Build-trust-through-better-privacy","title":"Build trust through better privacy","role":"sampleCode","abstract":[{"text":"Privacy is a more important issue than ever. Learn about Apple’s privacy pillars, our approach to privacy, and how to adopt the latest features on our platforms that can help you earn customer trust, create more personal experiences, and improve engagement. Explore the transparency iOS provides when your app is recording using the microphone or camera, control over location with approximate location, tracking transparency and permissions, and much more.","type":"text"}]},"doc://WWDCNotes/documentation/WWDCNotes":{"url":"\/documentation\/wwdcnotes","role":"collection","type":"topic","images":[{"identifier":"WWDCNotes.png","type":"icon"}],"abstract":[{"text":"Session notes shared by the community for the community.","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","kind":"symbol","title":"WWDC Notes"},"https://developer.apple.com/documentation/storekittest#":{"type":"link","url":"https:\/\/developer.apple.com\/documentation\/storekittest#","identifier":"https:\/\/developer.apple.com\/documentation\/storekittest#","titleInlineContent":[{"text":"StoreKit Test","type":"text"}],"title":"StoreKit Test"},"doc://WWDCNotes/documentation/WWDCNotes/javierdemartin":{"images":[{"type":"card","identifier":"javierdemartin.jpeg"},{"type":"icon","identifier":"javierdemartin.jpeg"}],"role":"sampleCode","type":"topic","abstract":[{"text":"I do things with iOS","type":"text"}],"kind":"article","url":"\/documentation\/wwdcnotes\/javierdemartin","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/javierdemartin","title":"Javier de Martín (2 notes)"},"javierdemartin.jpeg":{"alt":null,"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/javierdemartin.jpeg"}],"identifier":"javierdemartin.jpeg"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10174-Manage-inapp-purchases-on-your-server":{"type":"topic","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10174-Manage-inapp-purchases-on-your-server","title":"Manage in-app purchases on your server","abstract":[{"text":"Discover the latest updates to managing in-app purchases on your server. Explore how you can use servers to track status changes, handle refunds, and manage subscriber status. Learn about App Store server APIs around status and in-app purchase transactions, and find out how App Store server notifications can help you track more customer lifecycle events. We’ll also take you through managing Family Sharing for in-app purchases, and the latest improvements to testing in-app purchases in the sandbox environment.","type":"text"}],"kind":"article","url":"\/documentation\/wwdcnotes\/wwdc21-10174-manage-inapp-purchases-on-your-server"},"WWDC20-Icon.png":{"alt":null,"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC20-Icon.png"}],"identifier":"WWDC20-Icon.png"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10120-Streamline-your-App-Clip":{"url":"\/documentation\/wwdcnotes\/wwdc20-10120-streamline-your-app-clip","abstract":[{"text":"App Clips are best when they provide an “in the moment” experience for people using them, like ordering your favorite refreshing beverage or paying for parking. We’ll share guidelines and best practices for building focused and consistent App Clips, show you how to streamline transaction experiences by taking advantage of technologies like App Clip notifications and location confirmation, and explore how you can help people move from your App Clip over to your full app.","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10120-Streamline-your-App-Clip","kind":"article","title":"Streamline your App Clip","type":"topic","role":"sampleCode"},"https://developer.apple.com/documentation/storekittest/sktestsession":{"type":"link","url":"https:\/\/developer.apple.com\/documentation\/storekittest\/sktestsession","identifier":"https:\/\/developer.apple.com\/documentation\/storekittest\/sktestsession","titleInlineContent":[{"text":"include","type":"text"}],"title":"include"},"https://developer.apple.com/documentation/storekittest/sktestsession/3579476-cleartransactions#":{"type":"link","url":"https:\/\/developer.apple.com\/documentation\/storekittest\/sktestsession\/3579476-cleartransactions#","identifier":"https:\/\/developer.apple.com\/documentation\/storekittest\/sktestsession\/3579476-cleartransactions#","titleInlineContent":[{"code":"clearTransactions()","type":"codeVoice"}],"title":"clearTransactions()"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-302-InApp-Purchases-and-Using-ServertoServer-Notifications":{"role":"sampleCode","type":"topic","abstract":[{"text":"Learn about the latest updates in StoreKit and dive deep into best practices for using server-to-server notifications to manage your subscribers.","type":"text"}],"kind":"article","url":"\/documentation\/wwdcnotes\/wwdc19-302-inapp-purchases-and-using-servertoserver-notifications","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-302-InApp-Purchases-and-Using-ServertoServer-Notifications","title":"In-App Purchases and Using Server-to-Server Notifications"},"https://developer.apple.com/wwdc20/10661":{"type":"download","url":"https:\/\/developer.apple.com\/wwdc20\/10661","identifier":"https:\/\/developer.apple.com\/wwdc20\/10661","checksum":null},"WWDC20.jpeg":{"alt":null,"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC20.jpeg"}],"identifier":"WWDC20.jpeg"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10114-Meet-StoreKit-2":{"abstract":[{"text":"StoreKit 2 delivers powerful, Swift-native APIs for in-app purchases and auto-renewable subscriptions. Learn how you can easily implement in-app purchases and subscriptions, and discover APIs for retrieving product information, handling transactions, determining product entitlements and customer status, as well as comprehensive testing support in Xcode.","type":"text"}],"role":"sampleCode","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10114-Meet-StoreKit-2","url":"\/documentation\/wwdcnotes\/wwdc21-10114-meet-storekit-2","kind":"article","title":"Meet StoreKit 2"},"https://developer.apple.com/documentation/storekit/skpaymenttransactionstate/deferred#":{"type":"link","url":"https:\/\/developer.apple.com\/documentation\/storekit\/skpaymenttransactionstate\/deferred#","identifier":"https:\/\/developer.apple.com\/documentation\/storekit\/skpaymenttransactionstate\/deferred#","titleInlineContent":[{"text":"deferred","type":"text"}],"title":"deferred"},"https://javierdemart.in":{"type":"link","url":"https:\/\/javierdemart.in","identifier":"https:\/\/javierdemart.in","titleInlineContent":[{"text":"Blog","type":"text"}],"title":"Blog"},"WWDC20-10661-app_store_server_notifications":{"alt":null,"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC20-10661-app_store_server_notifications.png"}],"identifier":"WWDC20-10661-app_store_server_notifications"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10671-Architecting-for-subscriptions":{"role":"sampleCode","type":"topic","abstract":[{"text":"Learn how you can build simple entitlement logic to enhance the customer experience. We’ll dive deep into key concepts and provide guidance for architecting your systems to accurately entitle service. You’ll learn best practices for subscription features and how to craft the best customer experience throughout the subscription lifecycle.","type":"text"}],"kind":"article","url":"\/documentation\/wwdcnotes\/wwdc20-10671-architecting-for-subscriptions","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10671-Architecting-for-subscriptions","title":"Architecting for subscriptions"},"WWDCNotes.png":{"alt":null,"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes.png"}],"identifier":"WWDCNotes.png"},"https://github.com/javierdemartin":{"type":"link","url":"https:\/\/github.com\/javierdemartin","identifier":"https:\/\/github.com\/javierdemartin","titleInlineContent":[{"text":"GitHub","type":"text"}],"title":"GitHub"},"https://developer.apple.com/documentation/storekit/skpaymenttransactionobserver/3564804-paymentqueue#":{"type":"link","url":"https:\/\/developer.apple.com\/documentation\/storekit\/skpaymenttransactionobserver\/3564804-paymentqueue#","identifier":"https:\/\/developer.apple.com\/documentation\/storekit\/skpaymenttransactionobserver\/3564804-paymentqueue#","titleInlineContent":[{"code":"didRevokeEntitlementsForProductIdentifiers","type":"codeVoice"}],"title":"didRevokeEntitlementsForProductIdentifiers"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20":{"abstract":[{"text":"Xcode 12, Swift 5.3, iOS 14, macOS 11 (Big Sur), tvOS 14, watchOS 7.","type":"text"},{"text":" ","type":"text"},{"text":"New APIs: ","type":"text"},{"code":"WidgetKit","type":"codeVoice"},{"text":", ","type":"text"},{"code":"StoreKit Testing","type":"codeVoice"},{"text":", and more.","type":"text"}],"role":"collectionGroup","type":"topic","images":[{"type":"icon","identifier":"WWDC20-Icon.png"},{"type":"card","identifier":"WWDC20.jpeg"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20","url":"\/documentation\/wwdcnotes\/wwdc20","kind":"article","title":"WWDC20"},"javierdemartin":{"alt":"Profile image of Javier de Martín","type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/javierdemartin.jpeg"}],"identifier":"javierdemartin"},"https://developer.apple.com/documentation/storekittest/sktestsession/3579480-disabledialogs#":{"type":"link","url":"https:\/\/developer.apple.com\/documentation\/storekittest\/sktestsession\/3579480-disabledialogs#","identifier":"https:\/\/developer.apple.com\/documentation\/storekittest\/sktestsession\/3579480-disabledialogs#","titleInlineContent":[{"text":"disable","type":"text"}],"title":"disable"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"type":"link","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","titleInlineContent":[{"text":"Contributions are welcome!","type":"text"}],"title":"Contributions are welcome!"}}}