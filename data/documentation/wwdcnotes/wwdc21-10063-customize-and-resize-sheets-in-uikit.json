{"metadata":{"role":"sampleCode","title":"Customize and resize sheets in UIKit","roleHeading":"WWDC21","modules":[{"name":"WWDC Notes"}]},"kind":"article","sampleCodeDownload":{"action":{"identifier":"https:\/\/developer.apple.com\/wwdc21\/10063","isActive":true,"type":"reference","overridingTitle":"Watch Video (12 min)"},"kind":"sampleDownload"},"variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc21-10063-customize-and-resize-sheets-in-uikit"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10063-Customize-and-resize-sheets-in-UIKit","interfaceLanguage":"swift"},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21"]]},"schemaVersion":{"patch":0,"minor":3,"major":0},"abstract":[{"type":"text","text":"Discover how you can create a layered and customized sheet experience in UIKit. We‚Äôll explore how you can build a non-modal experience in your app to allow interaction with content both in a sheet and behind the sheet at the same time. We‚Äôll also take you through sheet size customization, revealing or hiding grabber controls, and adapting between popovers and customized sheets in your app."}],"sections":[],"primaryContentSections":[{"content":[{"type":"heading","text":"Overview","level":2,"anchor":"overview"},{"type":"aside","style":"note","name":"Note","content":[{"type":"paragraph","inlineContent":[{"identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/uiviewcontroller\/customize_and_resize_sheets_in_uikit","isActive":true,"type":"reference"}]}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"(From iOS 15) new customization options for sheets"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"New support for a medium detent (and more)","type":"text"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"allows to create a vertically resizable sheet that only covers half the screen"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"the dimming view can be removed, allowing to build a non-modal UI where the user can interact with content behind the sheet while the sheet is presented","type":"text"}],"type":"paragraph"}]}]}]}]},{"type":"heading","text":"`UISheetPresentationController`","level":2,"anchor":"UISheetPresentationController"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"A sheet is an instance of a new "},{"type":"codeVoice","code":"UIPresentationController"},{"type":"text","text":" subclass called "},{"type":"codeVoice","code":"UISheetPresentationController"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"all customization options are exposed as properties on this class"}]}]},{"content":[{"inlineContent":[{"text":"you get an instance of ","type":"text"},{"code":"UISheetPresentationController","type":"codeVoice"},{"text":" by reading the ","type":"text"},{"code":"sheetPresentationController","type":"codeVoice"},{"text":" property on a view controller before you present it","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"This property will be non-nil as long the view controller‚Äôs "},{"type":"codeVoice","code":"modalPresentationStyle"},{"type":"text","text":" is form sheet or page sheet (default)"}]}]}]},{"type":"codeListing","code":["if let sheet = viewController.sheetPresentationController {","  \/\/ Customize the sheet","}","present(viewController, animated: true)"],"syntax":"swift"},{"type":"heading","text":"Detents","level":2,"anchor":"Detents"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"A detent is a height where a sheet naturally rests"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"defined as a fraction of the fully expanded sheet frame","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"this is the fully expanded frame on an iPhone and iPad:","type":"text"}]}]}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC21-10063-fullSheet"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"two system-defined detents:","type":"text"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"code":".medium()","type":"codeVoice"},{"text":", which is about half of a sheet‚Äôs full height","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"code":".large()","type":"codeVoice"},{"text":", which is the height of a fully expanded sheet","type":"text"}]}]}],"type":"unorderedList"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"specify which detents you want a sheet to support via the ","type":"text"},{"code":"UISheetPresentationController","type":"codeVoice"},{"text":"‚Äôs ","type":"text"},{"code":"detents","type":"codeVoice"},{"text":" property:","type":"text"}]}]}]},{"type":"codeListing","code":["if let sheet = viewController.sheetPresentationController {","  sheet.detents = [.large()] \/\/ This is the default value","}","present(viewController, animated: true)"],"syntax":"swift"},{"type":"heading","text":"Scroll behavior","level":2,"anchor":"Scroll-behavior"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"If we have a scroll view within the sheet, scrolling on that view  will also expand the sheet"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"we can opt out of this behavior, meaning that the user can only explicitly resize the sheet by dragging from the bar, by setting an extra property:"}],"type":"paragraph"}]}]},{"type":"codeListing","code":["if let sheet = viewController.sheetPresentationController {","  \/\/ ...","  sheet.prefersScrollingExpandsWhenScrolledToEdge = false \/\/ üëàüèª","}","present(viewController, animated: true)"],"syntax":"swift"},{"type":"heading","text":"Programmatically selecting a detent","level":2,"anchor":"Programmatically-selecting-a-detent"},{"type":"paragraph","inlineContent":[{"text":"We can change the current selected detent by setting the ","type":"text"},{"code":"selectedDetentIdentifier","type":"codeVoice"},{"text":" property:","type":"text"}]},{"type":"codeListing","code":["if let sheet = viewController.sheetPresentationController {","  sheet.selectedDetentIdentifier = .medium","}"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"By default it has no animation, to add one, wrap it around a ","type":"text"},{"code":"sheet.animateChanges","type":"codeVoice"},{"text":" block:","type":"text"}]},{"type":"codeListing","code":["if let sheet = viewController.sheetPresentationController {","  sheet.animateChanges {","    sheet.selectedDetentIdentifier = .medium","  }","}"],"syntax":"swift"},{"type":"heading","text":"Dimming View","level":2,"anchor":"Dimming-View"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"by default all detents are dimmed","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"we can change that by setting from which detent the sheet will show the dimming view","type":"text"}],"type":"paragraph"}]}]},{"type":"codeListing","code":["if let sheet = viewController.sheetPresentationController {","  \/\/ ...","  sheet.smallestUndimmedDetentIdentifier = .medium","}"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"This property also allows the user to interact with both the content in the sheet and with the content outside of the sheet."}]},{"type":"heading","text":"Keyboard avoidance","level":2,"anchor":"Keyboard-avoidance"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"medium height sheets support automatic keyboard avoidance:"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"the sheet grows automatically to account for the keyboard"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"when the keyboard dismisses, the sheet automatically collapses back down"}],"type":"paragraph"}]}],"type":"unorderedList"}]}]},{"type":"heading","text":"Landscape","level":2,"anchor":"Landscape"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"new alternate landscape appearance where sheets are only attached to the screen at their bottom edge (no longer full screen on landscape)"}],"type":"paragraph"}]}]},{"type":"paragraph","inlineContent":[{"identifier":"WWDC21-10063-landscape-1","type":"image"}]},{"type":"codeListing","code":["if let sheet = viewController.sheetPresentationController {","  \/\/ ...","  sheet.prefersEdgeAttachedInCompactHeight = true","}"],"syntax":"swift"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"this will always give you a sheet that is as wide as the safe area"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"if you‚Äôd like a sheet whose width follows the presented view controller "},{"type":"codeVoice","code":"preferredContentSize"},{"type":"text","text":":"}]}]}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC21-10063-landscape"}]},{"type":"codeListing","code":["if let sheet = viewController.sheetPresentationController {","  \/\/ ...","  sheet.prefersEdgeAttachedInCompactHeight = true","  sheet.widthFollowsPreferredContentSizeWhenEdgeAttached = true","}"],"syntax":"swift"},{"type":"heading","text":"More Appearance customization","level":2,"anchor":"More-Appearance-customization"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"We can display a default grabber:"}]}]}]},{"type":"codeListing","code":["if let sheet = viewController.sheetPresentationController {","  \/\/ ...","  sheet.prefersGrabberVisible = true","}"],"syntax":"swift"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"We can customize the corner radius of the sheet:"}],"type":"paragraph"}]}]},{"type":"codeListing","code":["if let sheet = viewController.sheetPresentationController {","  \/\/ ...","  sheet.preferredCornerRadius = 24.0","}"],"syntax":"swift"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Note that the system will keep stacked corners looking consistent: if the sheet with different radius expands to full height, the root sheet (and other stacked ones) will have a corner radius to match","type":"text"}]}]}]},{"type":"heading","text":"Adaption from popover","level":2,"anchor":"Adaption-from-popover"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"on regular sizes Apple suggests to show a popover instead of a sheet, this popover adapts to a sheet in compact sizes:"}]}]}]},{"type":"codeListing","code":["viewController.modalPresentationStyle = .popover \/\/ popover by default","if let popover = picker.popoverPresentationController { \/\/ reach for popoverPresentationController instead of sheetPresentationController","  popover.barButtonItem = sender \/\/ the source of the popover","","  let sheet = popover.adaptiveSheetPresentationController \/\/ sheet adoption","  \/\/ üëáüèª normal sheet configuration","  sheet.detents = [.medium(), .large()]","  sheet.prefersScrollingExpandsWhenScrolledToEdge = false","  sheet.smallestUndimmedDetentIdentifier = .medium","}","present(viewController, animated: true)"],"syntax":"swift"},{"type":"heading","text":"Written By","level":2,"anchor":"Written-By"},{"type":"row","columns":[{"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"zntfdr"}]}],"size":1},{"content":[{"level":3,"text":"Federico Zanetello","anchor":"Federico-Zanetello","type":"heading"},{"inlineContent":[{"overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}],"isActive":true,"type":"reference","overridingTitle":"Contributed Notes","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/github.com\/zntfdr"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/zntfdr.dev"}],"type":"paragraph"}],"size":4}],"numberOfColumns":5},{"type":"thematicBreak"},{"type":"paragraph","inlineContent":[{"text":"Missing anything? Corrections? ","type":"text"},{"isActive":true,"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"reference"}]},{"type":"heading","text":"Related Sessions","level":2,"anchor":"Related-Sessions"},{"type":"links","style":"list","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10068-Whats-new-in-UIKit","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10046-Improve-access-to-Photos-in-your-app","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-224-Modernizing-Your-UI-for-iOS-13"]},{"type":"small","inlineContent":[{"inlineContent":[{"type":"text","text":"Legal Notice"}],"type":"strong"}]},{"type":"small","inlineContent":[{"type":"text","text":"All content copyright ¬© 2012 ‚Äì 2024 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}]}],"kind":"content"}],"references":{"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"type":"link","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","title":"Contributions are welcome!","titleInlineContent":[{"type":"text","text":"Contributions are welcome!"}],"url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"},"WWDC21-10063-fullSheet":{"identifier":"WWDC21-10063-fullSheet","alt":null,"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/WWDC21-10063-fullSheet.png"}]},"https://developer.apple.com/wwdc21/10063":{"checksum":null,"identifier":"https:\/\/developer.apple.com\/wwdc21\/10063","type":"download","url":"https:\/\/developer.apple.com\/wwdc21\/10063"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-224-Modernizing-Your-UI-for-iOS-13":{"url":"\/documentation\/wwdcnotes\/wwdc19-224-modernizing-your-ui-for-ios-13","abstract":[{"type":"text","text":"iOS 13 combines powerful new multitasking and productivity technologies with a refreshed look and feel for all applications. Familiarize yourself with new requirements to keep your app ready for upcoming versions of iOS. Discover improvements to search fields and a totally new way to present UI. Learn how to adopt new gestures around selection, access peek and pop on all hardware, and how to renew your app‚Äôs look for iOS 13."}],"role":"sampleCode","type":"topic","title":"Modernizing Your UI for iOS 13","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-224-Modernizing-Your-UI-for-iOS-13"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21":{"type":"topic","title":"WWDC21","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21","images":[{"type":"icon","identifier":"WWDC21-Icon.png"},{"type":"card","identifier":"WWDC21.jpeg"}],"url":"\/documentation\/wwdcnotes\/wwdc21","kind":"article","abstract":[{"type":"text","text":"Xcode 13, Swift 5.5, iOS 15, macOS 12 (Monterey), tvOS 15, watchOS 8."},{"type":"text","text":" "},{"type":"text","text":"New APIs: "},{"type":"codeVoice","code":"MusicKit"},{"type":"text","text":", "},{"type":"codeVoice","code":"DocC"},{"type":"text","text":", "},{"type":"codeVoice","code":"StoreKit 2"},{"type":"text","text":", and more."}],"role":"collectionGroup"},"zntfdr.jpeg":{"type":"image","identifier":"zntfdr.jpeg","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/zntfdr.jpeg"}],"alt":null},"doc://WWDCNotes/documentation/WWDCNotes/zntfdr":{"title":"Federico Zanetello (332 notes)","kind":"article","url":"\/documentation\/wwdcnotes\/zntfdr","role":"sampleCode","images":[{"type":"card","identifier":"zntfdr.jpeg"},{"type":"icon","identifier":"zntfdr.jpeg"}],"abstract":[{"type":"text","text":"Software engineer with a strong passion for well-written code, thought-out composable architectures, automation, tests, and more."}],"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr"},"WWDC21-10063-landscape":{"identifier":"WWDC21-10063-landscape","variants":[{"url":"\/images\/WWDCNotes\/WWDC21-10063-landscape.png","traits":["1x","light"]}],"type":"image","alt":null},"WWDC21.jpeg":{"identifier":"WWDC21.jpeg","alt":null,"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/WWDC21.jpeg"}]},"WWDC21-Icon.png":{"type":"image","identifier":"WWDC21-Icon.png","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/WWDC21-Icon.png"}],"alt":null},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10068-Whats-new-in-UIKit":{"title":"What‚Äôs new in UIKit","kind":"article","url":"\/documentation\/wwdcnotes\/wwdc22-10068-whats-new-in-uikit","role":"sampleCode","abstract":[{"type":"text","text":"Discover the latest updates and improvements to UIKit and learn how to build better iPadOS, iOS, and Mac Catalyst apps. We‚Äôll take you through UI refinements, productivity updates, API enhancements, and more. We‚Äôll also help you explore improvements to performance, security, and privacy."}],"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10068-Whats-new-in-UIKit"},"https://developer.apple.com/documentation/uikit/uiviewcontroller/customize_and_resize_sheets_in_uikit":{"title":"Session sample code","identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/uiviewcontroller\/customize_and_resize_sheets_in_uikit","titleInlineContent":[{"type":"text","text":"Session sample code"}],"type":"link","url":"https:\/\/developer.apple.com\/documentation\/uikit\/uiviewcontroller\/customize_and_resize_sheets_in_uikit"},"doc://WWDCNotes/documentation/WWDCNotes":{"kind":"symbol","abstract":[{"text":"Session notes shared by the community for the community.","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","role":"collection","url":"\/documentation\/wwdcnotes","type":"topic","title":"WWDC Notes","images":[{"type":"icon","identifier":"WWDCNotes.png"}]},"WWDCNotes.png":{"identifier":"WWDCNotes.png","alt":null,"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/WWDCNotes.png"}]},"https://github.com/zntfdr":{"type":"link","identifier":"https:\/\/github.com\/zntfdr","title":"GitHub","titleInlineContent":[{"text":"GitHub","type":"text"}],"url":"https:\/\/github.com\/zntfdr"},"zntfdr":{"identifier":"zntfdr","variants":[{"url":"\/images\/WWDCNotes\/zntfdr.jpeg","traits":["1x","light"]}],"type":"image","alt":"Profile image of Federico Zanetello"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10046-Improve-access-to-Photos-in-your-app":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10046-Improve-access-to-Photos-in-your-app","url":"\/documentation\/wwdcnotes\/wwdc21-10046-improve-access-to-photos-in-your-app","role":"sampleCode","abstract":[{"type":"text","text":"PHPicker is the simplest and most secure way to integrate the Photos library into your app ‚Äî and it‚Äôs getting even better. Learn how to handle ordered selection of images in your app, as well as pre-selecting assets any time the picker is shown. And for apps that need to integrate more deeply with PhotoKit, discover how you can use PHCloudIdentifier to sync photo project content across devices, helping people easily transition their image work between iPhone, iPad, and Mac."}],"title":"Improve access to Photos in your app","type":"topic","kind":"article"},"WWDC21-10063-landscape-1":{"identifier":"WWDC21-10063-landscape-1","alt":null,"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/WWDC21-10063-landscape-1.png"}]},"https://zntfdr.dev":{"type":"link","identifier":"https:\/\/zntfdr.dev","title":"Blog","titleInlineContent":[{"text":"Blog","type":"text"}],"url":"https:\/\/zntfdr.dev"}}}