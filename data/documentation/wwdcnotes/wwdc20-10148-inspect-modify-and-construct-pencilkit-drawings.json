{"abstract":[{"text":"Make Apple Pencil an even more useful tool for drawing and writing within your app. With PencilKit, you can delve into the strokes, inks, paths, and points that comprise a drawing, use these to build features that use recognition, and modify drawings in response to input. Discover how you can dynamically generate shapes and drawings and learn more about APIs like PKDrawings and PKStrokes.","type":"text"}],"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10148-Inspect-modify-and-construct-PencilKit-drawings","interfaceLanguage":"swift"},"schemaVersion":{"minor":3,"patch":0,"major":0},"kind":"article","metadata":{"role":"sampleCode","modules":[{"name":"WWDC Notes"}],"title":"Inspect, modify, and construct PencilKit drawings","roleHeading":"WWDC20"},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20"]]},"primaryContentSections":[{"kind":"content","content":[{"level":2,"type":"heading","anchor":"overview","text":"Overview"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"In iOS 14, we have access to PencilKit’s data model, this enable us to:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Inspect the contents of what the users drew","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"React to what was drawn","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Manipulate existing drawings","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Dynamically create new drawings from scratch","type":"text"}]}]}],"type":"unorderedList"}]}]},{"level":2,"type":"heading","anchor":"PKStroke","text":"PKStroke"},{"type":"paragraph","inlineContent":[]},{"type":"paragraph","inlineContent":[{"text":"A ","type":"text"},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/pencilkit\/pkstroke","isActive":true},{"text":" is composed by:","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"A path, which provides the shape of the stroke","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"An ink, which describes the appearance of the stroke, its color and type"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"A transform, giving us the orientation and position of the stroke"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"A mask, created when the pixel eraser is used to erase only a portion of a stroke"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"The renderBounds, a.k.a. the bounding box that encompasses the entirety of the stroke when it is rendered, the renderBounds accounts for the effect of all the stroke properties including the path, ink, transform, and mask."}],"type":"paragraph"}]}]},{"level":2,"type":"heading","anchor":"PKStrokePath","text":"PKStrokePath"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Describes the shape of the stroke, and the appearance of that shape as it changes along the path."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Gives you the width of the stroke at any point","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"The stroke path is a uniform cubic, B-spline of PencilKit stroke points"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"The contents of a path the control points for the B-Spline","type":"text"},{"text":" ","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"}]},{"content":[{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"To get points on the actual path, we need to interpolate the spline using ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/documentation\/pencilkit\/pkstrokepath\/3595222-interpolatedpoints","type":"reference","isActive":true},{"text":".","type":"text"},{"text":" ","type":"text"}]}]}]}]}]},{"type":"codeListing","syntax":"swift","code":["for point in path.interpolatedPoints(strideBy: .distance(50)) {","  draw(point)","}"]},{"level":2,"type":"heading","anchor":"PKStrokePoint","text":"PKStrokePoint"},{"type":"paragraph","inlineContent":[]},{"type":"paragraph","inlineContent":[{"type":"text","text":"A "},{"type":"codeVoice","code":"PKStrokePoint"},{"type":"text","text":" describe how a stroke appears at a certain location. It is composed by:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"A location"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"A size, for marker strokes won’t be square"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"A rotation angle, or azimuth","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"An opacity"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"A force (same value from "},{"type":"codeVoice","code":"UITouch"},{"type":"text","text":" when the stroke was drawn)"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"A altitude (same value from "},{"type":"codeVoice","code":"UITouch"},{"type":"text","text":" when the stroke was drawn)"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"A time offset from path creation date","type":"text"}],"type":"paragraph"}]}]},{"level":2,"type":"heading","anchor":"Written-By","text":"Written By"},{"numberOfColumns":5,"columns":[{"size":1,"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"zntfdr"}]}]},{"size":4,"content":[{"anchor":"Federico-Zanetello","type":"heading","level":3,"text":"Federico Zanetello"},{"type":"paragraph","inlineContent":[{"type":"reference","overridingTitle":"Contributed Notes","isActive":true,"overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/zntfdr"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/zntfdr.dev"}]}]}],"type":"row"},{"type":"thematicBreak"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Missing anything? Corrections? "},{"isActive":true,"type":"reference","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"}]},{"level":2,"type":"heading","anchor":"Related-Sessions","text":"Related Sessions"},{"type":"links","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10107-Whats-new-in-PencilKit","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-221-Introducing-PencilKit"],"style":"list"},{"type":"small","inlineContent":[{"type":"strong","inlineContent":[{"text":"Legal Notice","type":"text"}]}]},{"type":"small","inlineContent":[{"type":"text","text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}]}]}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc20-10148-inspect-modify-and-construct-pencilkit-drawings"]}],"sections":[],"sampleCodeDownload":{"kind":"sampleDownload","action":{"overridingTitle":"Watch Video (16 min)","isActive":true,"identifier":"https:\/\/developer.apple.com\/wwdc20\/10148","type":"reference"}},"references":{"zntfdr":{"alt":"Profile image of Federico Zanetello","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/zntfdr.jpeg"}],"type":"image","identifier":"zntfdr"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10107-Whats-new-in-PencilKit":{"kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10107-Whats-new-in-PencilKit","role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc20-10107-whats-new-in-pencilkit","type":"topic","abstract":[{"text":"PencilKit helps power creativity, writing, drawing, and animation in your iPad apps. Explore the latest improvements to our drawing and annotation framework, and discover how you can take advantage of APIs like PKToolPicker, PKCanvasView, and PKStroke to support new features in illustration and writing apps.","type":"text"}],"title":"What’s new in PencilKit"},"WWDC20.jpeg":{"identifier":"WWDC20.jpeg","alt":null,"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/WWDC20.jpeg"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-221-Introducing-PencilKit":{"role":"sampleCode","type":"topic","abstract":[{"text":"Meet PencilKit, Apple’s feature-rich drawing and annotation framework. With just a few lines of code, you can add a full drawing experience to your app — with access to a canvas, responsive inks, rich tool palette and drawing model. Hear the technical details that make a great Apple Pencil experience. Learn about the new screenshot editor and how you can adopt just a few small APIs to enable your full content to be captured beyond the size of the screen, with or without your app’s user interface.","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-221-Introducing-PencilKit","title":"Introducing PencilKit","kind":"article","url":"\/documentation\/wwdcnotes\/wwdc19-221-introducing-pencilkit"},"zntfdr.jpeg":{"identifier":"zntfdr.jpeg","type":"image","alt":null,"variants":[{"url":"\/images\/WWDCNotes\/zntfdr.jpeg","traits":["1x","light"]}]},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"titleInlineContent":[{"text":"Contributions are welcome!","type":"text"}],"url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"link","title":"Contributions are welcome!","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"},"https://developer.apple.com/documentation/pencilkit/pkstroke":{"title":"PKStroke","url":"https:\/\/developer.apple.com\/documentation\/pencilkit\/pkstroke","identifier":"https:\/\/developer.apple.com\/documentation\/pencilkit\/pkstroke","type":"link","titleInlineContent":[{"code":"PKStroke","type":"codeVoice"}]},"https://zntfdr.dev":{"identifier":"https:\/\/zntfdr.dev","type":"link","title":"Blog","titleInlineContent":[{"type":"text","text":"Blog"}],"url":"https:\/\/zntfdr.dev"},"https://developer.apple.com/wwdc20/10148":{"url":"https:\/\/developer.apple.com\/wwdc20\/10148","type":"download","checksum":null,"identifier":"https:\/\/developer.apple.com\/wwdc20\/10148"},"doc://WWDCNotes/documentation/WWDCNotes/zntfdr":{"kind":"article","type":"topic","abstract":[{"type":"text","text":"Software engineer with a strong passion for well-written code, thought-out composable architectures, automation, tests, and more."}],"role":"sampleCode","title":"Federico Zanetello (332 notes)","url":"\/documentation\/wwdcnotes\/zntfdr","images":[{"type":"card","identifier":"zntfdr.jpeg"},{"type":"icon","identifier":"zntfdr.jpeg"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr"},"https://developer.apple.com/documentation/pencilkit/pkstrokepath/3595222-interpolatedpoints":{"title":"interpolatedPoints(strideBy:)","url":"https:\/\/developer.apple.com\/documentation\/pencilkit\/pkstrokepath\/3595222-interpolatedpoints","identifier":"https:\/\/developer.apple.com\/documentation\/pencilkit\/pkstrokepath\/3595222-interpolatedpoints","type":"link","titleInlineContent":[{"code":"interpolatedPoints(strideBy:)","type":"codeVoice"}]},"WWDC20-Icon.png":{"alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/WWDC20-Icon.png"}],"type":"image","identifier":"WWDC20-Icon.png"},"WWDCNotes.png":{"identifier":"WWDCNotes.png","type":"image","alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/WWDCNotes.png"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20":{"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20","url":"\/documentation\/wwdcnotes\/wwdc20","kind":"article","role":"collectionGroup","images":[{"type":"icon","identifier":"WWDC20-Icon.png"},{"type":"card","identifier":"WWDC20.jpeg"}],"title":"WWDC20","abstract":[{"text":"Xcode 12, Swift 5.3, iOS 14, macOS 11 (Big Sur), tvOS 14, watchOS 7.","type":"text"},{"text":" ","type":"text"},{"text":"New APIs: ","type":"text"},{"code":"WidgetKit","type":"codeVoice"},{"text":", ","type":"text"},{"code":"StoreKit Testing","type":"codeVoice"},{"type":"text","text":", and more."}]},"doc://WWDCNotes/documentation/WWDCNotes":{"abstract":[{"text":"Session notes shared by the community for the community.","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","url":"\/documentation\/wwdcnotes","kind":"symbol","role":"collection","images":[{"type":"icon","identifier":"WWDCNotes.png"}],"type":"topic","title":"WWDC Notes"},"https://github.com/zntfdr":{"title":"GitHub","url":"https:\/\/github.com\/zntfdr","identifier":"https:\/\/github.com\/zntfdr","type":"link","titleInlineContent":[{"type":"text","text":"GitHub"}]}}}