{"metadata":{"title":"Debug with structured logging","roleHeading":"WWDC23","role":"sampleCode","modules":[{"name":"WWDC Notes"}]},"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10226-Debug-with-structured-logging","interfaceLanguage":"swift"},"kind":"article","sampleCodeDownload":{"kind":"sampleDownload","action":{"overridingTitle":"Watch Video (13 min)","isActive":true,"identifier":"https:\/\/developer.apple.com\/wwdc23\/10226","type":"reference"}},"abstract":[{"text":"Discover the debug console in Xcode 15 and learn how you can improve your diagnostic experience through logging. Explore how you can navigate your logs easily and efficiently using advanced filtering and improved visualization. Weâ€™ll also show you how to use the dwim-print command to evaluate expressions in your code while debugging.","type":"text"}],"primaryContentSections":[{"content":[{"text":"Whatâ€™s new in the debug console","anchor":"Whats-new-in-the-debug-console","level":2,"type":"heading"},{"inlineContent":[{"text":"Now you can toggle metadata associated with the console output, making it a lot easier to visualize things urgency, category, and origin of the log message:","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"image","identifier":"WWDC23-10226-console-metadata"}],"type":"paragraph"},{"inlineContent":[{"text":"If you donâ€™t want to enable the metadata for all logs, you can quickly view the metadata of a single log line by pressing space on it:","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"image","identifier":"WWDC23-10226-quick-look"}],"type":"paragraph"},{"inlineContent":[{"text":"Filtering received great improvements as well, so your text-based searches can filter through the multiple types of metadata that Xcode collects, as well as toggle the visibility of different log types:","type":"text"}],"type":"paragraph"},{"inlineContent":[{"identifier":"WWDC23-10226-filtering","type":"image"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"And you can also quickly show or hide similar items by right-clicking on a log:"}],"type":"paragraph"},{"inlineContent":[{"type":"image","identifier":"WWDC23-10226-toggle-similar-items"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"By hovering the mouse over a log, you can also see the full path of the file that generated the log, and clicking on it will open the file in the editor."}],"type":"paragraph"},{"text":"LLDB improvements","anchor":"LLDB-improvements","level":2,"type":"heading"},{"inlineContent":[{"text":"Most of us simply use ","type":"text"},{"code":"po","type":"codeVoice"},{"text":" whenever we want to debug anything in the console. This is often not the right command to use, as it can be a lot slower to perform than other simpler commands, and might not give what you want, e.g. by simply printing the memory address of the object, whichâ€™s not helpful at all. There are other alternatives:","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"image","identifier":"WWDC23-10226-lldb-commands"}],"type":"paragraph"},{"inlineContent":[{"text":"However, Apple has added a new command that can be used at all times and will generally do what you want, printing the best description possible of what youâ€™re trying to print. Itâ€™s called Do What I Mean Print â€” ","type":"text"},{"type":"codeVoice","code":"dwim-print"},{"text":".","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"Since ","type":"text"},{"code":"dwim-print","type":"codeVoice"},{"text":" is quite long and we donâ€™t want to be typing it all the time, they replaced the ","type":"text"},{"code":"p","type":"codeVoice"},{"text":" and ","type":"text"},{"code":"po","type":"codeVoice"},{"text":" aliases with this new smarter print command, so you can generally simply always just use ","type":"text"},{"code":"p","type":"codeVoice"},{"text":" from now on ðŸŽ‰","type":"text"}],"type":"paragraph"},{"text":"Tips for logging","anchor":"Tips-for-logging","level":2,"type":"heading"},{"inlineContent":[{"text":"Best practices reminder:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"code":"stdio","type":"codeVoice"},{"text":" is for command-line UI","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"OSLog"},{"type":"text","text":" is for debugging"}]}]}],"type":"unorderedList"},{"inlineContent":[{"text":"Therefore, ","type":"text"},{"code":"print(â€¦)","type":"codeVoice"},{"text":" should rarely be used to log events in your programâ€™s execution. Thus, move away from this:","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"image","identifier":"WWDC23-10226-logging-bad-practice"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"To this:"}],"type":"paragraph"},{"inlineContent":[{"type":"image","identifier":"WWDC23-10226-logging-best-practice"}],"type":"paragraph"},{"inlineContent":[{"text":"Finally, to get most out of your logging:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"Create multiple log handles, specific to each area of your application, to help you find the logs youâ€™re looking for.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Take advantage of "},{"type":"codeVoice","code":"OSLogStore"},{"type":"text","text":" to collect valuable diagnostics when issues occur with your application in production."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"OSLog"},{"text":" is a tracing facility. This means it is capable of providing you with complex performance analysis of your application using tools like Instruments.","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"text":"Written By","anchor":"Written-By","level":2,"type":"heading"},{"columns":[{"size":1,"content":[{"type":"paragraph","inlineContent":[{"identifier":"rogerluan","type":"image"}]}]},{"size":4,"content":[{"type":"heading","level":3,"anchor":"Roger-Oba","text":"Roger Oba"},{"type":"paragraph","inlineContent":[{"overridingTitle":"Contributed Notes","overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}],"type":"reference","isActive":true,"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/rogerluan"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/rogerluan"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/www.roger.ml"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/x.com\/rogerluan_"}]}]}],"numberOfColumns":5,"type":"row"},{"inlineContent":[{"text":"Missing anything? Corrections? ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"}],"type":"paragraph"},{"text":"Related Sessions","anchor":"Related-Sessions","level":2,"type":"heading"},{"style":"list","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10165-Whats-new-in-Xcode-15","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10168-Explore-logging-in-Swift","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-405-Measuring-Performance-Using-Logging","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC16-721-Unified-Logging-and-Activity-Tracing"],"type":"links"},{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Legal Notice"}]}],"type":"small"},{"inlineContent":[{"type":"text","text":"All content copyright Â© 2012 â€“ 2024 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"text":"This website is not made by, affiliated with, nor endorsed by Apple.","type":"text"}],"type":"small"}],"kind":"content"}],"sections":[],"variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc23-10226-debug-with-structured-logging"],"traits":[{"interfaceLanguage":"swift"}]}],"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23"]]},"schemaVersion":{"major":0,"minor":3,"patch":0},"references":{"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10165-Whats-new-in-Xcode-15":{"type":"topic","kind":"article","title":"Whatâ€™s new in Xcode 15","url":"\/documentation\/wwdcnotes\/wwdc23-10165-whats-new-in-xcode-15","role":"sampleCode","abstract":[{"type":"text","text":"Discover the latest productivity and performance improvements in Xcode 15. Explore enhancements to code completion and Xcode Previews, learn about the test navigator and test report, and find out more about the streamlined distribution process. Weâ€™ll also highlight improved navigation, source control management, and debugging."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10165-Whats-new-in-Xcode-15"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23":{"abstract":[{"type":"text","text":"Xcode 15, Swift 5.9, iOS 17, macOS 14 (Sonoma), tvOS 17, visionOS 1, watchOS 10."},{"type":"text","text":" "},{"type":"text","text":"New APIs: "},{"type":"codeVoice","code":"SwiftData"},{"type":"text","text":", "},{"type":"codeVoice","code":"Observation"},{"type":"text","text":", "},{"type":"codeVoice","code":"StoreKit"},{"type":"text","text":" views, and more."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23","url":"\/documentation\/wwdcnotes\/wwdc23","title":"WWDC23","role":"collectionGroup","type":"topic","kind":"article","images":[{"type":"icon","identifier":"WWDC23-Icon.png"},{"type":"card","identifier":"WWDC23.jpeg"}]},"https://x.com/rogerluan_":{"url":"https:\/\/x.com\/rogerluan_","type":"link","title":"X\/Twitter","titleInlineContent":[{"type":"text","text":"X\/Twitter"}],"identifier":"https:\/\/x.com\/rogerluan_"},"rogerluan":{"type":"image","identifier":"rogerluan","variants":[{"url":"\/images\/rogerluan.jpeg","traits":["1x","light"]}],"alt":"Profile image of Roger Oba"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"link","title":"Contributions are welcome!","titleInlineContent":[{"type":"text","text":"Contributions are welcome!"}],"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10168-Explore-logging-in-Swift":{"abstract":[{"text":"Meet the latest generation of Swift unified logging APIs. Learn how to log events and errors in your app while preserving privacy. Take advantage of powerful yet readable options for formatting data â€” all without sacrificing performance. And weâ€™ll show you how you can gather and process log messages to help you understand and debug unexpected behavior in your apps.","type":"text"}],"kind":"article","type":"topic","title":"Explore logging in Swift","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10168-Explore-logging-in-Swift","role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc20-10168-explore-logging-in-swift"},"WWDC23-10226-logging-best-practice":{"type":"image","identifier":"WWDC23-10226-logging-best-practice","variants":[{"url":"\/images\/WWDC23-10226-logging-best-practice.png","traits":["1x","light"]}],"alt":"Logging best practice"},"doc://WWDCNotes/documentation/WWDCNotes":{"role":"collection","title":"WWDC Notes","url":"\/documentation\/wwdcnotes","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","images":[{"identifier":"WWDCNotes.png","type":"icon"}],"abstract":[{"text":"Session notes shared by the community for the community.","type":"text"}],"kind":"symbol"},"https://github.com/rogerluan":{"url":"https:\/\/github.com\/rogerluan","type":"link","title":"GitHub","titleInlineContent":[{"type":"text","text":"GitHub"}],"identifier":"https:\/\/github.com\/rogerluan"},"doc://WWDCNotes/documentation/WWDCNotes/rogerluan":{"abstract":[{"text":"Core contributor @fastlane ðŸš€","type":"text"}],"title":"Roger Oba (7 notes)","role":"sampleCode","images":[{"type":"card","identifier":"rogerluan.jpeg"},{"type":"icon","identifier":"rogerluan.jpeg"}],"url":"\/documentation\/wwdcnotes\/rogerluan","kind":"article","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/rogerluan"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC16-721-Unified-Logging-and-Activity-Tracing":{"url":"\/documentation\/wwdcnotes\/wwdc16-721-unified-logging-and-activity-tracing","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC16-721-Unified-Logging-and-Activity-Tracing","type":"topic","title":"Unified Logging and Activity Tracing","abstract":[{"text":"The new Unified Logging and Tracing System for iOS and macOS uses Activity Tracing for performance, consolidates kernel and user-space logging, and has many other improvements. Learn how Logging and Tracing can help you debug and troubleshoot issues with your apps.","type":"text"}],"role":"sampleCode"},"WWDC23-10226-toggle-similar-items":{"type":"image","identifier":"WWDC23-10226-toggle-similar-items","variants":[{"url":"\/images\/WWDC23-10226-toggle-similar-items.png","traits":["1x","light"]}],"alt":"Toggle similar items"},"WWDC23-10226-console-metadata":{"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10226-console-metadata.png"}],"alt":"Console metadata","identifier":"WWDC23-10226-console-metadata"},"https://www.roger.ml":{"title":"Blog","type":"link","identifier":"https:\/\/www.roger.ml","titleInlineContent":[{"type":"text","text":"Blog"}],"url":"https:\/\/www.roger.ml"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC18-405-Measuring-Performance-Using-Logging":{"url":"\/documentation\/wwdcnotes\/wwdc18-405-measuring-performance-using-logging","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-405-Measuring-Performance-Using-Logging","abstract":[{"text":"Learn how to use signposts and logging to measure performance.  Understand how the Points of Interest instrument can be used to examine logged data. Get an introduction into creating and using custom instruments.","type":"text"}],"title":"Measuring Performance Using Logging","role":"sampleCode","kind":"article"},"WWDC23-10226-quick-look":{"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10226-quick-look.png"}],"alt":"Quick look","identifier":"WWDC23-10226-quick-look"},"WWDC23-10226-logging-bad-practice":{"type":"image","identifier":"WWDC23-10226-logging-bad-practice","variants":[{"url":"\/images\/WWDC23-10226-logging-bad-practice.png","traits":["1x","light"]}],"alt":"Logging bad practice"},"https://developer.apple.com/wwdc23/10226":{"url":"https:\/\/developer.apple.com\/wwdc23\/10226","type":"download","checksum":null,"identifier":"https:\/\/developer.apple.com\/wwdc23\/10226"},"WWDC23-10226-filtering":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10226-filtering.png"}],"type":"image","alt":"Filtering","identifier":"WWDC23-10226-filtering"},"WWDCNotes.png":{"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes.png"}],"identifier":"WWDCNotes.png","alt":null},"rogerluan.jpeg":{"variants":[{"traits":["1x","light"],"url":"\/images\/rogerluan.jpeg"}],"type":"image","alt":null,"identifier":"rogerluan.jpeg"},"WWDC23-Icon.png":{"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-Icon.png"}],"identifier":"WWDC23-Icon.png","alt":null},"WWDC23.jpeg":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23.jpeg"}],"type":"image","alt":null,"identifier":"WWDC23.jpeg"},"WWDC23-10226-lldb-commands":{"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10226-lldb-commands.png"}],"identifier":"WWDC23-10226-lldb-commands","alt":"LLDB commands"}}}