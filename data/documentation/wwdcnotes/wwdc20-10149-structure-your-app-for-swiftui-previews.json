{"sections":[],"kind":"article","identifier":{"interfaceLanguage":"swift","url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10149-Structure-your-app-for-SwiftUI-previews"},"abstract":[{"text":"When you use SwiftUI previews during development, you can quickly create apps that are more flexible and maintainable. Discover ways to improve the preview experience by making small tweaks to your project. Find out how to preview multiple files at once, how to manage data flow for previews, and how to use sample data while previewing. We’ll also give you strategies for defining view inputs to make them more previewable and testable.","type":"text"}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc20-10149-structure-your-app-for-swiftui-previews"]}],"sampleCodeDownload":{"kind":"sampleDownload","action":{"overridingTitle":"Watch Video (33 min)","type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/wwdc20\/10149"}},"metadata":{"title":"Structure your app for SwiftUI previews","roleHeading":"WWDC20","modules":[{"name":"WWDC Notes"}],"role":"sampleCode"},"schemaVersion":{"patch":0,"minor":3,"major":0},"primaryContentSections":[{"kind":"content","content":[{"text":"Overview","anchor":"overview","type":"heading","level":2},{"inlineContent":[{"type":"text","text":"Structure your app for SwiftUI previews"}],"type":"paragraph"},{"text":"Preview Multiple Files At Once","anchor":"Preview-Multiple-Files-At-Once","type":"heading","level":2},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Pin previews by tapping the pin symbol in the preview canvas bottom bar."}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Only one preview can be pinned."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"By pinning a preview we can browse our project, edit files etc, and those previews will still be displayed on the screen."}]}]}]},{"text":"App Life Cycle","anchor":"App-Life-Cycle","type":"heading","level":2},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"It’s important to define explicit dependencies for our data."}]}]},{"content":[{"inlineContent":[{"text":"Models that are created using ","type":"text"},{"type":"codeVoice","code":"@StateObject"},{"text":" are not initialized in previews.","type":"text"}],"type":"paragraph"}]}]},{"text":"Where to define sample data","anchor":"Where-to-define-sample-data","type":"heading","level":2},{"inlineContent":[{"type":"text","text":"In the "},{"type":"codeVoice","code":"General"},{"type":"text","text":" tab of our project editor we have a "},{"type":"codeVoice","code":"Development Assets"},{"type":"text","text":" section:"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"it contains paths to files and folders that Xcode include only in the "},{"type":"codeVoice","code":"development"},{"type":"text","text":" configuration of our app"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"we can add both assets and code (for preview sample data for example)","type":"text"}]}]}]},{"text":"Structure Views To Be Previewable","anchor":"Structure-Views-To-Be-Previewable","type":"heading","level":2},{"inlineContent":[{"text":"For different ideas on how to do so","type":"text"}],"type":"paragraph"},{"text":"1. Immutable Inputs","anchor":"1-Immutable-Inputs","type":"heading","level":3},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Pass only basic types such as ","type":"text"},{"type":"codeVoice","code":"Int"},{"text":" and ","type":"text"},{"type":"codeVoice","code":"String"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Pass down to the view only data that the "},{"type":"codeVoice","code":"View"},{"type":"text","text":" needs."}]}]},{"content":[{"inlineContent":[{"text":"For buttons actions and similar, pass a closure.","type":"text"}],"type":"paragraph"}]}]},{"text":"2. Mutable Inputs (`@Binding`)","anchor":"2-Mutable-Inputs-Binding","type":"heading","level":3},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Use "},{"type":"codeVoice","code":".constant()"},{"type":"text","text":" for fixed "},{"type":"codeVoice","code":"@Binding"},{"type":"text","text":" previews"}]}]},{"content":[{"inlineContent":[{"text":"For dynamic previews:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"create an interemediate ","type":"text"},{"code":"View","type":"codeVoice"},{"text":", that behaves as the ","type":"text"},{"code":"@State","type":"codeVoice"},{"text":" container","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"the "},{"code":"body","type":"codeVoice"},{"type":"text","text":" of this container will be the view that we would like to preview, injected with the container "},{"code":"@State","type":"codeVoice"}],"type":"paragraph"}]}],"type":"unorderedList"}]}]},{"text":"3. Generics Inputs","anchor":"3-Generics-Inputs","type":"heading","level":3},{"inlineContent":[{"text":"Instead of passing actual explict types instances to a ","type":"text"},{"code":"View","type":"codeVoice"},{"text":"s:","type":"text"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"we can make our ","type":"text"},{"type":"codeVoice","code":"View"},{"text":"s generic","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"we can pass instances of a protocol that conforms to ","type":"text"},{"code":"ObservableObject","type":"codeVoice"},{"text":", ","type":"text"},{"code":"Identifiable","type":"codeVoice"},{"text":" and that provides anything that our ","type":"text"},{"code":"View","type":"codeVoice"},{"text":" needs","type":"text"}]}]}]},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Use Environment"}],"type":"paragraph"}]}],"type":"orderedList","start":4},{"inlineContent":[{"type":"text","text":"We can pass environment objects directly in the preview"}],"type":"paragraph"},{"text":"Xcode Preview Toolbar","anchor":"Xcode-Preview-Toolbar","type":"heading","level":2},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"In Xcode 12 above each preview we have a new toolbar.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"This toolbar displays the current state of the preview and the title in the middle and two buttons on both sides:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"the leading button is used to either start the live preview or to attach the debugger to the preview.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"the next button is used to send the preview to a real connected device","type":"text"}]}]}],"type":"orderedList"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"previewing on device will also display a ","type":"text"},{"type":"codeVoice","code":"Previews"},{"text":" app on the homescreen, which will open the last preview used in that phone, even when the phone is disconnected from the Xcode","type":"text"}]}]}],"type":"unorderedList"}]},{"content":[{"type":"orderedList","start":3,"items":[{"content":[{"inlineContent":[{"type":"text","text":"the second trailing button lets set particular environment states and add padding to the preview"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"the last button creates a duplicate of the preview"}]}]}]}]}]},{"text":"Written By","anchor":"Written-By","type":"heading","level":2},{"numberOfColumns":5,"columns":[{"size":1,"content":[{"inlineContent":[{"type":"image","identifier":"zntfdr"}],"type":"paragraph"}]},{"size":4,"content":[{"level":3,"type":"heading","text":"Federico Zanetello","anchor":"Federico-Zanetello"},{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","overridingTitleInlineContent":[{"text":"Contributed Notes","type":"text"}],"type":"reference","overridingTitle":"Contributed Notes","isActive":true},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/github.com\/zntfdr","type":"reference","isActive":true},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/zntfdr.dev","type":"reference","isActive":true}]}]}],"type":"row"},{"type":"thematicBreak"},{"inlineContent":[{"type":"text","text":"Missing anything? Corrections? "},{"isActive":true,"type":"reference","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"}],"type":"paragraph"},{"text":"Related Sessions","anchor":"Related-Sessions","type":"heading","level":2},{"items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10037-App-essentials-in-SwiftUI","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10040-Data-Essentials-in-SwiftUI","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10185-Visually-edit-SwiftUI-views","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10649-Add-custom-views-and-modifiers-to-the-Xcode-Library"],"type":"links","style":"list"},{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Legal Notice"}]}],"type":"small"},{"inlineContent":[{"text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved.","type":"text"},{"text":" ","type":"text"},{"text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries.","type":"text"},{"text":" ","type":"text"},{"text":"This website is not made by, affiliated with, nor endorsed by Apple.","type":"text"}],"type":"small"}]}],"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20"]]},"references":{"WWDCNotes.png":{"alt":null,"variants":[{"url":"\/images\/WWDCNotes\/WWDCNotes.png","traits":["1x","light"]}],"type":"image","identifier":"WWDCNotes.png"},"https://developer.apple.com/wwdc20/10149":{"url":"https:\/\/developer.apple.com\/wwdc20\/10149","identifier":"https:\/\/developer.apple.com\/wwdc20\/10149","type":"download","checksum":null},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"titleInlineContent":[{"text":"Contributions are welcome!","type":"text"}],"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"link","title":"Contributions are welcome!","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10649-Add-custom-views-and-modifiers-to-the-Xcode-Library":{"kind":"article","role":"sampleCode","abstract":[{"type":"text","text":"The Xcode Library is an easy way for you to discover available SwiftUI views and drag and drop them to the Xcode Previews canvas, enabling rich visual editing of your app. We’ll show you how to extend the content of the Xcode Library with your own views and modifiers, optimizing for reusability and discoverability within your app or Swift packages."}],"type":"topic","url":"\/documentation\/wwdcnotes\/wwdc20-10649-add-custom-views-and-modifiers-to-the-xcode-library","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10649-Add-custom-views-and-modifiers-to-the-Xcode-Library","title":"Add custom views and modifiers to the Xcode Library"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20":{"type":"topic","role":"collectionGroup","abstract":[{"type":"text","text":"Xcode 12, Swift 5.3, iOS 14, macOS 11 (Big Sur), tvOS 14, watchOS 7."},{"type":"text","text":" "},{"type":"text","text":"New APIs: "},{"type":"codeVoice","code":"WidgetKit"},{"type":"text","text":", "},{"type":"codeVoice","code":"StoreKit Testing"},{"type":"text","text":", and more."}],"images":[{"type":"icon","identifier":"WWDC20-Icon.png"},{"type":"card","identifier":"WWDC20.jpeg"}],"url":"\/documentation\/wwdcnotes\/wwdc20","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20","title":"WWDC20","kind":"article"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10185-Visually-edit-SwiftUI-views":{"type":"topic","kind":"article","abstract":[{"type":"text","text":"Help your apps be the best versions of themselves: Discover how you can leverage Xcode Previews and SwiftUI to quickly iterate upon and improve your app. Find out how you can use the Previews canvas to build your app from the ground up, and view your interface in different environments like Light or Dark mode or with accessibility features like Dynamic Type enabled."}],"role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10185-Visually-edit-SwiftUI-views","title":"Visually edit SwiftUI views","url":"\/documentation\/wwdcnotes\/wwdc20-10185-visually-edit-swiftui-views"},"doc://WWDCNotes/documentation/WWDCNotes/zntfdr":{"title":"Federico Zanetello (332 notes)","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","url":"\/documentation\/wwdcnotes\/zntfdr","role":"sampleCode","type":"topic","abstract":[{"type":"text","text":"Software engineer with a strong passion for well-written code, thought-out composable architectures, automation, tests, and more."}],"images":[{"type":"card","identifier":"zntfdr.jpeg"},{"type":"icon","identifier":"zntfdr.jpeg"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10037-App-essentials-in-SwiftUI":{"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10037-App-essentials-in-SwiftUI","abstract":[{"text":"Thanks to the new App protocol, SwiftUI now supports building entire apps! See how Apps, Scenes, and Views fit together. Learn how easy it is to implement the features people expect from a best-in-class product while saving time and reducing complexity. Easily add expected functionality to your interface using the new commands modifier, and explore the ins and outs of the new WindowGroup API.","type":"text"}],"kind":"article","role":"sampleCode","title":"App essentials in SwiftUI","url":"\/documentation\/wwdcnotes\/wwdc20-10037-app-essentials-in-swiftui"},"zntfdr.jpeg":{"identifier":"zntfdr.jpeg","type":"image","alt":null,"variants":[{"url":"\/images\/WWDCNotes\/zntfdr.jpeg","traits":["1x","light"]}]},"WWDC20.jpeg":{"identifier":"WWDC20.jpeg","alt":null,"variants":[{"url":"\/images\/WWDCNotes\/WWDC20.jpeg","traits":["1x","light"]}],"type":"image"},"https://zntfdr.dev":{"type":"link","titleInlineContent":[{"text":"Blog","type":"text"}],"title":"Blog","url":"https:\/\/zntfdr.dev","identifier":"https:\/\/zntfdr.dev"},"https://github.com/zntfdr":{"titleInlineContent":[{"text":"GitHub","type":"text"}],"identifier":"https:\/\/github.com\/zntfdr","type":"link","title":"GitHub","url":"https:\/\/github.com\/zntfdr"},"WWDC20-Icon.png":{"identifier":"WWDC20-Icon.png","alt":null,"variants":[{"url":"\/images\/WWDCNotes\/WWDC20-Icon.png","traits":["1x","light"]}],"type":"image"},"zntfdr":{"alt":"Profile image of Federico Zanetello","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/zntfdr.jpeg"}],"type":"image","identifier":"zntfdr"},"doc://WWDCNotes/documentation/WWDCNotes":{"type":"topic","role":"collection","abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"images":[{"identifier":"WWDCNotes.png","type":"icon"}],"url":"\/documentation\/wwdcnotes","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","title":"WWDC Notes","kind":"symbol"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10040-Data-Essentials-in-SwiftUI":{"role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10040-Data-Essentials-in-SwiftUI","url":"\/documentation\/wwdcnotes\/wwdc20-10040-data-essentials-in-swiftui","title":"Data Essentials in SwiftUI","type":"topic","kind":"article","abstract":[{"type":"text","text":"Data is a complex part of any app, but SwiftUI makes it easy to ensure a smooth, data-driven experience from prototyping to production. Discover @State and @Binding, two powerful tools that can preserve and seamlessly update your Source of Truth. We’ll also show you how ObservableObject lets you connect your views to your data model. Learn about some tricky challenges and cool new ways to solve them — directly from the experts!"}]}}}