{"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC12-222-Introduction-to-Attributed-Strings-for-iOS"},"metadata":{"title":"Introduction to Attributed Strings for iOS","role":"sampleCode","modules":[{"name":"WWDC Notes"}],"roleHeading":"WWDC12"},"abstract":[{"text":"Text is an essential part of your application’s interface. Get an introduction to the concepts behind manipulating and drawing attributed strings on iOS. Learn how UIKit has adopted attributed strings to make creating text effects even easier.","type":"text"}],"schemaVersion":{"patch":0,"minor":3,"major":0},"sampleCodeDownload":{"kind":"sampleDownload","action":{"type":"reference","overridingTitle":"Watch Video","identifier":"http:\/\/developer.apple.com\/wwdc12\/222","isActive":true}},"primaryContentSections":[{"content":[{"text":"Overview","anchor":"overview","level":2,"type":"heading"},{"inlineContent":[{"text":"This is the year ","type":"text"},{"code":"NSAttributedString","type":"codeVoice"},{"type":"text","text":" was introduced:"},{"type":"text","text":"\n"},{"type":"text","text":"previously all our UI elements like buttons, textViews etc could only accept attributes for the whole string."}],"type":"paragraph"},{"inlineContent":[{"text":"No char no attributes.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"If we’re adding a string to an empty ","type":"text"},{"type":"codeVoice","code":"NSMutableAttributedString"},{"text":", this string will have no attributes attached.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"If we’re inserting a string to a non-empty "},{"code":"NSMutableAttributedString","type":"codeVoice"},{"text":", the string will inherit the attributes of the char which correspond to the left limit of the insertion range.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"The same is true if we’re substituting: each char ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"won’t"}]},{"text":" get the attributes of the char that they replace.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"You can replace the characters of an attributed string while preserving the attributes as in the example below:"}],"type":"paragraph"},{"code":["NSMutableAttributedString *attrString; ","NSLocale *locale = [NSLocale currentLocale]; ","","[attrString enumerateAttributesInRange:NSMakeRange(0, [attrString length]) ","  options:0 ","  usingBlock:^(NSDictionary *attrs, NSRange range, BOOL *stop) {","    NSString *string = [(attrString string] substringWithRange: range]; ","","    [attrString replaceCharactersInRange:range ","                withString: (string uppercaseStringWithLocale:locale]];","}]; "],"syntax":"objc","type":"codeListing"},{"inlineContent":[{"type":"text","text":"Note how we need to enumerate the attributes so we have a block call for each range where the attributes change."},{"type":"text","text":"\n"},{"type":"text","text":"If we just replace everything in one shot, as said above, all the characters of the new string will just inherit the attributes of the first char that we’re replacing."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"We have paragraph styles! See example below (the !!! symbol is not part of the label):"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"identifier":"WWDC12-222-reminders","type":"image"}]},{"type":"paragraph","inlineContent":[{"text":"To do this we need a ","type":"text"},{"code":"NSMutableParagraphStyle","type":"codeVoice"},{"type":"text","text":" with "},{"code":"setFirstLineHeadIndent","type":"codeVoice"},{"type":"text","text":" and then add the "},{"code":"NSMutableParagraphStyle","type":"codeVoice"},{"text":" to our attributed string as an attribute.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This is list of paragraph styles (as of WWDC 2012):"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Line break mode","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Alignment"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Spacings"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Indentation"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Line height control","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Hyphenation","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Base writing direction","type":"text"}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If we assign an attributedString to a "},{"type":"codeVoice","code":"UILabel"},{"type":"text","text":", then we can still use the "},{"type":"codeVoice","code":"UILabel"},{"type":"text","text":" "},{"type":"codeVoice","code":"textColor"},{"type":"text","text":", "},{"type":"codeVoice","code":"textAlignment"},{"type":"text","text":", "},{"type":"codeVoice","code":"lineBreakMode"},{"type":"text","text":" etc, but bare in mind that those change will change the whole string (the rest of the attributes will remain unchanged)."}]},{"type":"heading","anchor":"Written-By","level":2,"text":"Written By"},{"type":"row","numberOfColumns":5,"columns":[{"content":[{"type":"paragraph","inlineContent":[{"identifier":"zntfdr","type":"image"}]}],"size":1},{"content":[{"type":"heading","level":3,"text":"Federico Zanetello","anchor":"Federico-Zanetello"},{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}],"overridingTitle":"Contributed Notes","type":"reference","isActive":true},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/github.com\/zntfdr","type":"reference","isActive":true},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/zntfdr.dev","type":"reference","isActive":true}]}],"size":4}]},{"type":"paragraph","inlineContent":[{"text":"Missing anything? Corrections? ","type":"text"},{"isActive":true,"identifier":"https:\/\/wwdcnotes.github.io\/WWDCNotes\/documentation\/wwdcnotes\/contributing","type":"reference"}]},{"type":"small","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Legal Notice"}]}]},{"type":"small","inlineContent":[{"type":"text","text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}]}],"kind":"content"}],"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC12"]]},"sections":[],"kind":"article","variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc12-222-introduction-to-attributed-strings-for-ios"],"traits":[{"interfaceLanguage":"swift"}]}],"references":{"WWDC12-222-reminders":{"alt":null,"identifier":"WWDC12-222-reminders","type":"image","variants":[{"url":"\/images\/WWDC12-222-reminders.png","traits":["1x","light"]}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC12":{"images":[{"identifier":"WWDCNotes.png","type":"icon"}],"title":"WWDC12","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC12","url":"\/documentation\/wwdcnotes\/wwdc12","role":"collectionGroup","type":"topic","abstract":[{"text":"iOS 6, macOS 10.8 (Mountain Lion).","type":"text"}],"kind":"article"},"zntfdr":{"variants":[{"traits":["1x","light"],"url":"\/images\/zntfdr.jpeg"}],"identifier":"zntfdr","type":"image","alt":"Profile image of Federico Zanetello"},"https://zntfdr.dev":{"titleInlineContent":[{"text":"Blog","type":"text"}],"identifier":"https:\/\/zntfdr.dev","type":"link","url":"https:\/\/zntfdr.dev","title":"Blog"},"https://github.com/zntfdr":{"identifier":"https:\/\/github.com\/zntfdr","type":"link","url":"https:\/\/github.com\/zntfdr","title":"GitHub","titleInlineContent":[{"text":"GitHub","type":"text"}]},"http://developer.apple.com/wwdc12/222":{"checksum":null,"identifier":"http:\/\/developer.apple.com\/wwdc12\/222","type":"download","url":"http:\/\/developer.apple.com\/wwdc12\/222"},"doc://WWDCNotes/documentation/WWDCNotes":{"abstract":[{"text":"Session notes shared by the community for the community.","type":"text"}],"kind":"symbol","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","type":"topic","title":"WWDC Notes","url":"\/documentation\/wwdcnotes","images":[{"identifier":"WWDCNotes.png","type":"icon"}],"role":"collection"},"doc://WWDCNotes/documentation/WWDCNotes/zntfdr":{"kind":"article","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","images":[{"type":"card","identifier":"zntfdr.jpeg"},{"type":"icon","identifier":"zntfdr.jpeg"}],"title":"Federico Zanetello (332 notes)","url":"\/documentation\/wwdcnotes\/zntfdr","role":"sampleCode","abstract":[{"type":"text","text":"Software engineer with a strong passion for well-written code, thought-out composable architectures, automation, tests, and more."}]},"WWDCNotes.png":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes.png"}],"type":"image","identifier":"WWDCNotes.png","alt":null},"https://wwdcnotes.github.io/WWDCNotes/documentation/wwdcnotes/contributing":{"title":"Contributions are welcome!","identifier":"https:\/\/wwdcnotes.github.io\/WWDCNotes\/documentation\/wwdcnotes\/contributing","type":"link","titleInlineContent":[{"type":"text","text":"Contributions are welcome!"}],"url":"https:\/\/wwdcnotes.github.io\/WWDCNotes\/documentation\/wwdcnotes\/contributing"},"zntfdr.jpeg":{"variants":[{"traits":["1x","light"],"url":"\/images\/zntfdr.jpeg"}],"type":"image","identifier":"zntfdr.jpeg","alt":null}}}