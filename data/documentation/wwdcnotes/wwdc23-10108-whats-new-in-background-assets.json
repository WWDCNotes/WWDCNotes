{"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10108-Whats-new-in-Background-Assets","interfaceLanguage":"swift"},"metadata":{"role":"sampleCode","modules":[{"name":"WWDC Notes"}],"roleHeading":"WWDC23","title":"What’s new in Background Assets"},"sections":[],"sampleCodeDownload":{"kind":"sampleDownload","action":{"identifier":"https:\/\/developer.apple.com\/wwdc23\/10108","type":"reference","overridingTitle":"Watch Video (33 min)","isActive":true}},"kind":"article","variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc23-10108-whats-new-in-background-assets"],"traits":[{"interfaceLanguage":"swift"}]}],"schemaVersion":{"patch":0,"major":0,"minor":3},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23"]]},"abstract":[{"type":"text","text":"Waiting is no fun! Discover how Background Assets can help your app download content before it even launches. We’ll show you how to integrate Background Assets into an existing app, explore when to use essential or non-essential assets, and learn how to make debugging your extension a breeze."}],"primaryContentSections":[{"kind":"content","content":[{"text":"Background Assets","type":"heading","anchor":"Background-Assets","level":1},{"type":"paragraph","inlineContent":[{"type":"text","text":"With the "},{"identifier":"https:\/\/developer.apple.com\/documentation\/backgroundassets?language=objc","type":"reference","isActive":true},{"type":"text","text":", you can improve the experience of your app or game by reducing or eliminating the time people have to wait while your app downloads any required assets at first launch"}]},{"name":"Note","type":"aside","style":"note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add a Background Assets extension to your app’s target, and let the system notify that extension about an app installation or subsequent update. Then use the download manager to schedule background downloads of required content from your servers or content delivery network (CDN), and have those downloads finish even when the app isn’t running Check for updated content when the system periodically launches the extension (dependent on app usage) and, when content is available, schedule it for immediate download."}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"[!Important] Use the framework only to download additional assets for your app; don’t use it for any other purposes. For example, don’t collect or transmit data to identify a user or device or to perform advertising or advertising measurement."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The framework leverages "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/extensionkit"},{"type":"text","text":" and common types like URLRequest."}]},{"text":"What’s new in Background Assets","type":"heading","anchor":"Whats-new-in-Background-Assets","level":1},{"type":"paragraph","inlineContent":[{"type":"text","text":"In this New Background Assets approach, Users can be able to download assets while installing the app or updating unlike old version while launching the app. This means that downloads are completely integrated into the iOS Home Screen, macOS Launchpad, and the App Store. To the end user, the download of assets appear as if the app is currently still being downloaded from the App Store. This also means that while essential downloads are in-flight, app cannot be launched by the user. All the user can do is cancel or pause installation."}]},{"text":"Changes required","type":"heading","anchor":"Changes-required","level":3},{"type":"paragraph","inlineContent":[{"type":"text","text":"Below are the essential changes that required compared to background assets that were introduced back year."}]},{"code":["","\/\/\/ Old Changes in info.plist","","|Key|Type|Description|","|-|-|-|","|BAInitialDownloadRestrictions|Dictionary|The restrictions that apply to the set of assets that download prior to first app launch.","|BADownloadAllowance|Number|The combined size of the initial set of non-Essential asset downloads. Stored inside the BAInitialDownloadRestrictions dictionary.","|BADownloadDomainAllowList|Array|Array of domains that can assets can be downloaded from prior to first app launch. Stored inside the BAInitialDownloadRestrictions dictionary.","|BAMaxInstallSize|Number|The combined size (in bytes) on disk of the Non-Essential assets that download immediately after app installation.","|BAManifestURL|String|URL of the application's manifest.","","","\/\/\/ New Change in info.plist","","|Key|Type|Description|","|-|-|-|","|BAInitialDownloadRestrictions|Dictionary|The restrictions that apply to the set of assets that download prior to first app launch.","|BADownloadAllowance|Number|The combined size of the initial set of non-Essential asset downloads. Stored inside the BAInitialDownloadRestrictions dictionary.","|**BAEssentialDownloadAllowance**|Number|The combined size (in bytes) of the initial set of Essential asset downloads, including your manifest. Stored inside the BAInitialDownloadRestrictions dictionary.","|BADownloadDomainAllowList|Array|Array of domains that can assets can be downloaded from prior to first app launch. Stored inside the BAInitialDownloadRestrictions dictionary.","|BAMaxInstallSize|Number|The combined size (in bytes) on disk of the Non-Essential assets that download immediately after app installation.","|**BAEssentialMaxInstallSize**|Number|The combined size (in bytes) on disk of the Essential downloads that occur during app installation.","|BAManifestURL|String|URL of the application's manifest.",""],"syntax":"swift","type":"codeListing"},{"type":"paragraph","inlineContent":[{"text":"[!Important] The above keys are not only essential but are also necessary in order to submit the app to AppStore.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"There are two new keys that are required to support Assential Assets BAEssentialDownloadAllowance and BAEssentialMaxInstallSize. The essential download allowance is represented in bytes and defines an upper bound on how large the sum of all of your essential assets will take to download. It’s important to try to get this number as close as possible to the size of the essential assets you enqueue so that download progress is smooth for the user when they install your app. The other new key, BAEssentialMaxInstallSize, represents the maximum size of those assets extracted onto the user’s device.","type":"text"}]},{"text":"Written By","type":"heading","anchor":"Written-By","level":2},{"type":"row","columns":[{"size":1,"content":[{"inlineContent":[{"type":"image","identifier":"srujanc"}],"type":"paragraph"}]},{"size":4,"content":[{"type":"heading","level":3,"anchor":"Srujan-Chitla","text":"Srujan Chitla"},{"type":"paragraph","inlineContent":[{"overridingTitle":"Contributed Notes","type":"reference","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/srujanc","isActive":true,"overridingTitleInlineContent":[{"text":"Contributed Notes","type":"text"}]},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"type":"reference","identifier":"https:\/\/github.com\/srujanc","isActive":true},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"type":"reference","identifier":"https:\/\/","isActive":true}]}]}],"numberOfColumns":5},{"type":"thematicBreak"},{"type":"paragraph","inlineContent":[{"text":"Missing anything? Corrections? ","type":"text"},{"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","isActive":true,"type":"reference"}]},{"text":"Related Sessions","type":"heading","anchor":"Related-Sessions","level":2},{"items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110403-Meet-Background-Assets"],"type":"links","style":"list"},{"type":"small","inlineContent":[{"type":"strong","inlineContent":[{"text":"Legal Notice","type":"text"}]}]},{"type":"small","inlineContent":[{"text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved.","type":"text"},{"text":" ","type":"text"},{"text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries.","type":"text"},{"text":" ","type":"text"},{"text":"This website is not made by, affiliated with, nor endorsed by Apple.","type":"text"}]}]}],"references":{"https://developer.apple.com/wwdc23/10108":{"type":"download","url":"https:\/\/developer.apple.com\/wwdc23\/10108","identifier":"https:\/\/developer.apple.com\/wwdc23\/10108","checksum":null},"https://developer.apple.com/documentation/backgroundassets?language=objc":{"type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/backgroundassets?language=objc","titleInlineContent":[{"type":"text","text":"Background Assets framework"}],"title":"Background Assets framework","url":"https:\/\/developer.apple.com\/documentation\/backgroundassets?language=objc"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-110403-Meet-Background-Assets":{"url":"\/documentation\/wwdcnotes\/wwdc22-110403-meet-background-assets","type":"topic","abstract":[{"text":"Discover how you can use the Background Assets framework to download large files directly from your CDN and improve the initial launch experience of your apps and games. We’ll show you how to schedule background downloads during initial app install, app updates, and periodically as someone uses the app. We’ll also explore how you can manage scheduled downloads to make sure people have the content they want, when they want it.","type":"text"}],"title":"Meet Background Assets","role":"sampleCode","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110403-Meet-Background-Assets"},"WWDC23-Icon.png":{"type":"image","alt":null,"variants":[{"url":"\/images\/WWDCNotes\/WWDC23-Icon.png","traits":["1x","light"]}],"identifier":"WWDC23-Icon.png"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc23","kind":"article","role":"collectionGroup","images":[{"identifier":"WWDC23-Icon.png","type":"icon"},{"identifier":"WWDC23.jpeg","type":"card"}],"title":"WWDC23","abstract":[{"text":"Xcode 15, Swift 5.9, iOS 17, macOS 14 (Sonoma), tvOS 17, visionOS 1, watchOS 10.","type":"text"},{"text":" ","type":"text"},{"text":"New APIs: ","type":"text"},{"type":"codeVoice","code":"SwiftData"},{"text":", ","type":"text"},{"type":"codeVoice","code":"Observation"},{"text":", ","type":"text"},{"type":"codeVoice","code":"StoreKit"},{"text":" views, and more.","type":"text"}]},"srujanc":{"identifier":"srujanc","type":"image","alt":"Profile image of Srujan Chitla","variants":[{"url":"\/images\/WWDCNotes\/srujanc.jpeg","traits":["1x","light"]}]},"WWDCNotes.png":{"type":"image","identifier":"WWDCNotes.png","alt":null,"variants":[{"url":"\/images\/WWDCNotes\/WWDCNotes.png","traits":["1x","light"]}]},"doc://WWDCNotes/documentation/WWDCNotes":{"abstract":[{"text":"Session notes shared by the community for the community.","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","url":"\/documentation\/wwdcnotes","kind":"symbol","role":"collection","images":[{"type":"icon","identifier":"WWDCNotes.png"}],"type":"topic","title":"WWDC Notes"},"WWDC23.jpeg":{"type":"image","alt":null,"variants":[{"url":"\/images\/WWDCNotes\/WWDC23.jpeg","traits":["1x","light"]}],"identifier":"WWDC23.jpeg"},"https://github.com/srujanc":{"identifier":"https:\/\/github.com\/srujanc","type":"link","url":"https:\/\/github.com\/srujanc","title":"GitHub","titleInlineContent":[{"type":"text","text":"GitHub"}]},"srujanc.jpeg":{"type":"image","identifier":"srujanc.jpeg","alt":null,"variants":[{"url":"\/images\/WWDCNotes\/srujanc.jpeg","traits":["1x","light"]}]},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"titleInlineContent":[{"type":"text","text":"Contributions are welcome!"}],"type":"link","title":"Contributions are welcome!","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"},"https://developer.apple.com/documentation/extensionkit":{"identifier":"https:\/\/developer.apple.com\/documentation\/extensionkit","type":"link","url":"https:\/\/developer.apple.com\/documentation\/extensionkit","title":"ExtensionKit","titleInlineContent":[{"type":"text","text":"ExtensionKit"}]},"doc://WWDCNotes/documentation/WWDCNotes/srujanc":{"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/srujanc","images":[{"identifier":"srujanc.jpeg","type":"card"},{"identifier":"srujanc.jpeg","type":"icon"}],"abstract":[{"type":"text","text":"Sr Software Engineer at IQVIA"}],"role":"sampleCode","url":"\/documentation\/wwdcnotes\/srujanc","kind":"article","title":"Srujan Chitla (5 notes)"},"https://":{"type":"link","identifier":"https:\/\/","titleInlineContent":[{"type":"text","text":"Blog"}],"title":"Blog","url":"https:\/\/"}}}