{"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22"]]},"sections":[],"metadata":{"modules":[{"name":"WWDC Notes"}],"roleHeading":"WWDC22","role":"sampleCode","title":"Dive into App Intents"},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10032-Dive-into-App-Intents"},"abstract":[{"text":"Learn how you can make your app more discoverable and increase app engagement when you use the App Intents framework. We’ll take you through the powerful capabilities of this Swift framework, explore the differences between App Intents and SiriKit Intents, and show you how you can expose your app’s functionality to the system. We’ll also share how you can build entities and queries to create rich App Shortcuts experiences.","type":"text"}],"kind":"article","primaryContentSections":[{"content":[{"text":"Introduction","type":"heading","anchor":"Introduction","level":2},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/appintents","isActive":true}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"three key components: ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/app-intents","type":"reference","isActive":true},{"text":", ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/app-entities","type":"reference","isActive":true},{"text":", ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/app-shortcuts","type":"reference","isActive":true}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"With App Shortcuts, everyone can use them via voice from Siri, they also appear in Spotlight"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Intents allow to build focus filters","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"e.g., Calendar.app only shows work calendar when in work mode","type":"text"}],"type":"paragraph"}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Users can invent entirely new features and capabilities"}]}]}]},{"text":"Intents and parameters","type":"heading","anchor":"Intents-and-parameters","level":2},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/app-intents","type":"reference","overridingTitleInlineContent":[{"text":"Intent","type":"text"}],"isActive":true,"overridingTitle":"Intent"},{"text":" is a single piece of app functionality","type":"text"}]},{"items":[{"content":[{"inlineContent":[{"text":"e.g., “make a new calendar event”, “open a particular screen”","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Performed manually or automatically"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"either returns a "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/intentresult"},{"type":"text","text":" or throws an "},{"type":"codeVoice","code":"Error"},{"type":"text","text":" (possibly a "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/intenterror"},{"type":"text","text":"?)"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"three key pieces:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"the intent metadata - e.g., its title and description, shown to the user"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"the intent parameters - all values can be customized by the user"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"the intent "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/appintent\/perform()"},{"type":"text","text":" method - which is triggered when the user wants the intent to execute"}]}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Example:","type":"text"}]}]}]},{"type":"codeListing","code":["struct OpenCurrentlyReading: AppIntent {","  static var title: LocalizedStringResource = \"Open Currently Reading\"","","  @MainActor \/\/ 👈🏻 ensure it's executed in the main thread","  func perform() async throws -> some PerformResult { \/\/ 👈🏻","    Navigator.shared.openShelf(.currentlyReading)","    return .finished","  }","","  static var openAppWhenRun: Bool = true","}"],"syntax":"swift"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"This simple ","type":"text"},{"type":"codeVoice","code":"OpenCurrentlyReading"},{"text":" definition automatically makes our app intent available in the following places:","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Menu Bar"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Share Extensions"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Terminal"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"AppleScript"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Home Screen"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Suggestions"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Lock Screen"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Shortcuts Widgets"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Quick Actions","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Voice (Siri)","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Apple Watch"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"HomePod","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Automations"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Shortcuts App","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Keyboard"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Spotlight","type":"text"}]}]}]}]},{"content":[{"inlineContent":[{"type":"text","text":"make your custom types conform to "},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/appenum","isActive":true},{"type":"text","text":" to express that a custom type has a predefined, static set of valid values to display"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"can be used for types that have a known set of valid values","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"}]}]},{"type":"codeListing","code":["public enum Shelf: String, AppEnum {","  case currentlyReading","  case wantToRead","  case read","","  static var typeDisplayName: LocalizedStringResource = \"Shelf\"","","  static var caseDisplayRepresentations: [Shelf: DisplayRepresentation] = [","    .currentlyReading: \"Currently Reading\",","    .wantToRead: \"Want to Read\",","    .read: \"Read\",","  ]","}"],"syntax":"swift"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Use "},{"identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/intentparameter","type":"reference","isActive":true},{"type":"text","text":" to define your intent parameters"}],"type":"paragraph"}]}]},{"type":"codeListing","code":["struct OpenShelf: AppIntent {","  static var title: LocalizedStringResource = \"Open Shelf\"","","  @Parameter(title: \"Shelf\") \/\/ 👈🏻","  var shelf: Shelf","","  @MainActor","  func perform() async throws -> some PerformResult {","    Navigator.shared.openShelf(shelf)","    return .finished","  }","","  static var parameterSummary: some ParameterSummary {","    Summary(\"Open \\(\\.$shelf)\")","  }","","  static var openAppWhenRun: Bool = true","}"],"syntax":"swift"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Supported parameters types:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Decimal"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Person"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Location","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"URL"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Integer","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"File","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Payment Method","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Rich Text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Boolean","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Measurement"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Enumeration"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"String"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Date","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Duration","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"isActive":true,"overridingTitle":"App Entity","type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/app-entities","overridingTitleInlineContent":[{"type":"text","text":"App Entity"}]}]}]},{"content":[{"inlineContent":[{"text":"Currency","type":"text"}],"type":"paragraph"}]}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Always provide a parameter "},{"code":"summary","type":"codeVoice"},{"type":"text","text":" for every intent you create, supports "},{"code":"when","type":"codeVoice"},{"type":"text","text":", "},{"code":"otherwise","type":"codeVoice"},{"type":"text","text":", "},{"code":"switch","type":"codeVoice"},{"type":"text","text":" and "},{"code":"case","type":"codeVoice"},{"type":"text","text":" APIs"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"use static property "},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/appintent\/openappwhenrun-3u9y8","isActive":true},{"type":"text","text":" to open app on running"}]}]}]},{"text":"Entities, queries, and results","type":"heading","anchor":"Entities-queries-and-results","level":2},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Entity contains identifier, display of representation and type name"}]}]},{"content":[{"inlineContent":[{"text":"Any struct can conform to ","type":"text"},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/appentity","isActive":true},{"text":":","type":"text"}],"type":"paragraph"}]}]},{"type":"codeListing","code":["struct BookEntity: AppEntity, Identifiable {","  var id: UUID \/\/ 👈🏻 UUID is a good identifier type","  var title: String","  ","  var displayRepresentation: DisplayRepresentation {","    DisplayRepresentation(title: LocalizedStringResource(stringLiteral: title))","  }","","  static var typeDisplayName: LocalizedStringResource = \"Book\"","  ","  static var defaultQuery = BookQuery()","}"],"syntax":"swift"},{"text":"Entity queries","type":"heading","anchor":"Entity-queries","level":3},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"help the system find the entities your app defines and use them to resolve parameters.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"code":"StringQuery","type":"codeVoice"},{"text":" and ","type":"text"},{"code":"PropertyQuery","type":"codeVoice"},{"text":" to look up entities","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"all queries support suggestions"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"conform to "},{"type":"codeVoice","code":"EntityQuery"},{"type":"text","text":" on structs for queries"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"hook them up by adding ","type":"text"},{"code":"defaultQuery","type":"codeVoice"},{"text":" to entity","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"conform to "},{"type":"codeVoice","code":"EntityStringQuery"},{"type":"text","text":" for string search, e.g. books"}]}]},{"content":[{"inlineContent":[{"text":"conform error to ","type":"text"},{"code":"CustomLocalizedStringResourceConvertible","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"provide "},{"type":"codeVoice","code":"ReturnsValue"},{"type":"text","text":" if you want your shortcut return a result"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"adopt "},{"isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/openentityintent"},{"type":"text","text":" protocol in return type to show open button so users can select if app is opened or not"}],"type":"paragraph"}]}]},{"type":"codeListing","code":["struct BookQuery: EntityQuery {","  func entities(for identifiers: [UUID]) async throws -> [BookEntity] {","    identifiers.compactMap { identifier in","      Database.shared.book(for: identifier)","    }","  }","}"],"syntax":"swift"},{"text":"Properties, finding and filtering","type":"heading","anchor":"Properties-finding-and-filtering","level":3},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Property queries find entities on the properties within entity","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Three steps:"}]},{"items":[{"content":[{"inlineContent":[{"text":"Declare query properties","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Declare sorting options","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Implement "},{"type":"codeVoice","code":"entities(matching:)"},{"type":"text","text":" to run the search"}]}]}],"type":"orderedList"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/property-comparators"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"examples:"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"less than","type":"text"},{"text":" and ","type":"text"},{"text":"greater than","type":"text"},{"text":" for ","type":"text"},{"code":"Date","type":"codeVoice"},{"text":"s","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"contains","type":"text"},{"text":" and ","type":"text"},{"text":"equal to","type":"text"},{"text":" for ","type":"text"},{"code":"String","type":"codeVoice"},{"text":"s","type":"text"}],"type":"paragraph"}]}]}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Conform to ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/entitypropertyquery","isActive":true,"type":"reference"},{"text":" with your comparators:","type":"text"}]}]}]},{"type":"codeListing","code":["struct BookQuery: EntityPropertyQuery {","  static var sortingOptions = SortingOptions {","    SortableBy(\\BookEntity.$title)","    SortableBy(\\BookEntity.$dateRead)","    SortableBy(\\BookEntity.$datePublished)","  }","","  static var properties = EntityQueryProperties {","    Property(keyPath: \\BookEntity.title) {","      EqualToComparator { NSPredicate(format: \"title = %@\", $0) }","      ContainsComparator { NSPredicate(format: \"title CONTAINS %@\", $0) }","    }","    Property(keyPath: \\BookEntity.datePublished) {","      LessThanComparator { NSPredicate(format: \"datePublished < %@\", $0 as NSDate) }","      GreaterThanComparator { NSPredicate(format: \"datePublished > %@\", $0 as NSDate) }","    }","    Property(keyPath: \\BookEntity.dateRead) {","      LessThanComparator { NSPredicate(format: \"dateRead < %@\", $0 as NSDate) }","      GreaterThanComparator { NSPredicate(format: \"dateRead > %@\", $0 as NSDate) }","    }","  }","","  func entities(for identifiers: [UUID]) async throws -> [BookEntity] {","    identifiers.compactMap { identifier in","      Database.shared.book(for: identifier)","    }","  }","","  func suggestedEntities() async throws -> [BookEntity] {","    Model.shared.library.books.map { BookEntity(id: $0.id, title: $0.title) }","  }","","  func entities(matching string: String) async throws -> [BookEntity] {","    Database.shared.books.filter { book in","      book.title.lowercased().contains(string.lowercased())","    }","  }","","  func entities(","    matching comparators: [NSPredicate],","    mode: ComparatorMode,","    sortedBy: [Sort<BookEntity>],","    limit: Int?","  ) async throws -> [BookEntity] {","    Database.shared.findBooks(matching: comparators, matchAll: mode == .and, sorts: sortedBy.map { (keyPath: $0.by, ascending: $0.order == .ascending) })","  }","}"],"syntax":"swift"},{"text":"User interactions","type":"heading","anchor":"User-interactions","level":2},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/intentdialog","isActive":true}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"spoken or textual response for intent","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"code":"needsValueDialog","type":"codeVoice"},{"text":" on ","type":"text"},{"code":"@Parameter","type":"codeVoice"},{"text":" for example","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"Value"},{"type":"text","text":" (something) result"}],"type":"paragraph"}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/intentperformresult\/snippetviewtype","type":"reference"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"visual equivalent of dialog","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"lets you add a visual representation (a SwiftUI view) to the result of your intent"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"return "},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/intentperformresult\/finished(dialog:view:)-5aejs","isActive":true},{"type":"text","text":" as the "},{"type":"codeVoice","code":"IntentPerformResult"}]}]}]}]}]},{"type":"codeListing","code":["struct AddBook: AppIntent {","  static var title: LocalizedStringResource = \"Add Book\"","","  @Parameter(title: \"Title\")","  \/\/ ...","","  func perform() async throws -> some PerformResult {","    \/\/ ..","","    return .finished(value: book) {","      CoverView(book: book) \/\/ 👈🏻","    }","  }","","  enum Error: Swift.Error, CustomLocalizedStringResourceConvertible {","    ...","  }","}"],"syntax":"swift"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Request Value - ask user for value via ","type":"text"},{"type":"codeVoice","code":"requestValue(String)"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Disambiguation - let user choose via "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/intentparameter\/requestdisambiguation(among:dialog:)"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Confirmation"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"request confirmation via ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/intentparameter\/requestconfirmation(for:dialog:)"},{"text":" or ","type":"text"},{"code":"requestConfirmation(output: .result(value:dialog:))","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Last variant also supports showing a preview","type":"text"}]}]}]}]}]},{"type":"codeListing","code":["struct AddBook: AppIntent {","  static var title: LocalizedStringResource = \"Add Book\"","","  @Parameter(title: \"Title\")","  \/\/ ...","","  func perform() async throws -> some PerformResult {","    let books = \/\/ ... fetch books by reading @Parameter values","","    if books.count > 1 { \/\/ 👈🏻 too many matches! request disambiguation 👇🏻","      let chosenAuthor = try await $authorName.requestDisambiguation(among: books.map { $0.authorName }, dialog: \"Which author?\")","    }","    return .finished","  }","","  enum Error: Swift.Error, CustomLocalizedStringResourceConvertible {","    ...","  }","}"],"syntax":"swift"},{"text":"Architecture and lifecycle","type":"heading","anchor":"Architecture-and-lifecycle","level":2},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"In-app"}]},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"No need for a framework \/ duplicated code"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"No cross-process coordination","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Higher memory limits"}]}]},{"content":[{"inlineContent":[{"text":"Ability to play audio","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Run in foreground if you set "},{"isActive":true,"overridingTitle":"openAppWhenRun","overridingTitleInlineContent":[{"code":"openAppWhenRun","type":"codeVoice"}],"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/appintent\/openappwhenrun-3u9y8"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Implement multi-scene support for best performance"}],"type":"paragraph"}]}],"type":"unorderedList"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Extension target"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Light-weight"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Best performance","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Focus filter intents, run immediately when Focus changes"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Create by choosing "},{"type":"text","text":"app intents extension"},{"type":"text","text":" template in Xcode"}],"type":"paragraph"}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Your code is the only source of truth","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Xcode extracts App Intent at build-time"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Compile AppIntents code directly into app \/ extension (not through package)"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Upgrading to App Intents"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"keep using SiriKit intents for Widgets or Siri domains","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Others should upgrade"}]}]}],"type":"unorderedList"}]}]},{"text":"Written By","type":"heading","anchor":"Written-By","level":2},{"type":"row","columns":[{"size":1,"content":[{"inlineContent":[{"identifier":"Jeehut","type":"image"}],"type":"paragraph"}]},{"size":4,"content":[{"type":"heading","anchor":"Cihat-G%C3%BCnd%C3%BCz","level":3,"text":"Cihat Gündüz"},{"type":"paragraph","inlineContent":[{"isActive":true,"overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}],"overridingTitle":"Contributed Notes","type":"reference","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/Jeehut"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/github.com\/Jeehut"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/fline.dev"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/x.com\/Jeehut"}]}]}],"numberOfColumns":5},{"type":"thematicBreak"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Missing anything? Corrections? "},{"type":"reference","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","isActive":true}]},{"text":"Related Sessions","type":"heading","anchor":"Related-Sessions","level":2},{"type":"links","style":"list","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10028-Bring-widgets-to-life","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10121-Meet-Focus-filters","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10169-Design-App-Shortcuts","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10170-Implement-App-Shortcuts-with-App-Intents","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10283-Design-great-actions-for-Shortcuts-Siri-and-Suggestions"]},{"type":"small","inlineContent":[{"inlineContent":[{"text":"Legal Notice","type":"text"}],"type":"strong"}]},{"type":"small","inlineContent":[{"type":"text","text":"All content copyright © 2012 – 2025 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}]}],"kind":"content"}],"sampleCodeDownload":{"action":{"type":"reference","identifier":"https:\/\/developer.apple.com\/wwdc22\/10032","isActive":true,"overridingTitle":"Watch Video (30 min)"},"kind":"sampleDownload"},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc22-10032-dive-into-app-intents"]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"references":{"doc://WWDCNotes/documentation/WWDCNotes/Jeehut":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/Jeehut","abstract":[{"text":"Spatial-first Indie Developer for  Platforms. Actively contributing to Open Source since 2011!","type":"text"}],"url":"\/documentation\/wwdcnotes\/jeehut","kind":"article","role":"sampleCode","title":"Cihat Gündüz (65 notes)","type":"topic","images":[{"identifier":"Jeehut.jpeg","type":"card"},{"identifier":"Jeehut.jpeg","type":"icon"}]},"https://developer.apple.com/documentation/appintents/intentdialog":{"title":"Dialog","type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/intentdialog","titleInlineContent":[{"type":"text","text":"Dialog"}],"url":"https:\/\/developer.apple.com\/documentation\/appintents\/intentdialog"},"https://developer.apple.com/documentation/appintents/appintent/openappwhenrun-3u9y8":{"type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/appintent\/openappwhenrun-3u9y8","title":"openAppWhenRun","titleInlineContent":[{"type":"codeVoice","code":"openAppWhenRun"}],"url":"https:\/\/developer.apple.com\/documentation\/appintents\/appintent\/openappwhenrun-3u9y8"},"https://developer.apple.com/documentation/appintents/intentparameter":{"type":"link","url":"https:\/\/developer.apple.com\/documentation\/appintents\/intentparameter","titleInlineContent":[{"type":"codeVoice","code":"@Parameter(title:)"}],"identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/intentparameter","title":"@Parameter(title:)"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10169-Design-App-Shortcuts":{"title":"Design App Shortcuts","role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc22-10169-design-app-shortcuts","type":"topic","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10169-Design-App-Shortcuts","abstract":[{"text":"Learn how you can surface great features from your app directly in Siri, Spotlight, and the Shortcuts app. We’ll introduce you to App Shortcuts, provide best practices to help you evaluate features in your app that would work well as App Shortcuts, and take you through the process of creating one of your own. Learn how to create clear and memorable names, design custom visuals, collect required information, and create discoverable shortcuts","type":"text"}]},"Jeehut.jpeg":{"type":"image","identifier":"Jeehut.jpeg","alt":null,"variants":[{"url":"\/images\/WWDCNotes\/Jeehut.jpeg","traits":["1x","light"]}]},"WWDCNotes.png":{"type":"image","identifier":"WWDCNotes.png","alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/WWDCNotes.png"}]},"https://developer.apple.com/documentation/appintents/entitypropertyquery":{"type":"link","url":"https:\/\/developer.apple.com\/documentation\/appintents\/entitypropertyquery","titleInlineContent":[{"type":"codeVoice","code":"EntityPropertyQuery"}],"identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/entitypropertyquery","title":"EntityPropertyQuery"},"WWDC22.jpeg":{"type":"image","identifier":"WWDC22.jpeg","alt":null,"variants":[{"url":"\/images\/WWDCNotes\/WWDC22.jpeg","traits":["1x","light"]}]},"https://developer.apple.com/documentation/appintents/app-entities":{"type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/app-entities","title":"Entities","titleInlineContent":[{"type":"codeVoice","code":"Entities"}],"url":"https:\/\/developer.apple.com\/documentation\/appintents\/app-entities"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10283-Design-great-actions-for-Shortcuts-Siri-and-Suggestions":{"abstract":[{"type":"text","text":"Actions are the building blocks of shortcuts. They allow people to take advantage of your app’s functionality even when they’re not looking at your app’s interface. We’ll show you how to design actions that are useful, easy-to-use, and can be incorporated into powerful multi-step shortcuts. You’ll also explore enhancements around publishing and sharing shortcuts, ensuring that people can access your app in the way they want across all of Apple’s platforms."}],"kind":"article","title":"Design great actions for Shortcuts, Siri, and Suggestions","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc21-10283-design-great-actions-for-shortcuts-siri-and-suggestions","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10283-Design-great-actions-for-Shortcuts-Siri-and-Suggestions"},"https://developer.apple.com/documentation/appintents/intentperformresult/finished(dialog:view:)-5aejs":{"type":"link","url":"https:\/\/developer.apple.com\/documentation\/appintents\/intentperformresult\/finished(dialog:view:)-5aejs","titleInlineContent":[{"type":"codeVoice","code":".finished(dialog:view:)"}],"identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/intentperformresult\/finished(dialog:view:)-5aejs","title":".finished(dialog:view:)"},"https://developer.apple.com/documentation/appintents/app-shortcuts":{"title":"App Shortcuts","type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/app-shortcuts","titleInlineContent":[{"type":"codeVoice","code":"App Shortcuts"}],"url":"https:\/\/developer.apple.com\/documentation\/appintents\/app-shortcuts"},"https://developer.apple.com/documentation/appintents/appenum":{"type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/appenum","title":"AppEnum","titleInlineContent":[{"type":"codeVoice","code":"AppEnum"}],"url":"https:\/\/developer.apple.com\/documentation\/appintents\/appenum"},"https://developer.apple.com/documentation/appintents/appentity":{"type":"link","url":"https:\/\/developer.apple.com\/documentation\/appintents\/appentity","titleInlineContent":[{"type":"codeVoice","code":"AppEntity"}],"identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/appentity","title":"AppEntity"},"doc://WWDCNotes/documentation/WWDCNotes":{"url":"\/documentation\/wwdcnotes","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","role":"collection","title":"WWDC Notes","type":"topic","abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"images":[{"type":"icon","identifier":"WWDCNotes.png"}],"kind":"symbol"},"https://developer.apple.com/documentation/appintents":{"title":"new framework","type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/appintents","titleInlineContent":[{"type":"text","text":"new framework"}],"url":"https:\/\/developer.apple.com\/documentation\/appintents"},"https://developer.apple.com/documentation/appintents/intentresult":{"type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/intentresult","title":"IntentResult","titleInlineContent":[{"type":"codeVoice","code":"IntentResult"}],"url":"https:\/\/developer.apple.com\/documentation\/appintents\/intentresult"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"type":"link","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","titleInlineContent":[{"type":"text","text":"Contributions are welcome!"}],"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","title":"Contributions are welcome!"},"https://developer.apple.com/documentation/appintents/openentityintent":{"title":"OpensIntent","type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/openentityintent","titleInlineContent":[{"type":"codeVoice","code":"OpensIntent"}],"url":"https:\/\/developer.apple.com\/documentation\/appintents\/openentityintent"},"https://developer.apple.com/documentation/appintents/intentperformresult/snippetviewtype":{"type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/intentperformresult\/snippetviewtype","title":"Snippet view","titleInlineContent":[{"type":"text","text":"Snippet view"}],"url":"https:\/\/developer.apple.com\/documentation\/appintents\/intentperformresult\/snippetviewtype"},"https://developer.apple.com/wwdc22/10032":{"type":"download","checksum":null,"identifier":"https:\/\/developer.apple.com\/wwdc22\/10032","url":"https:\/\/developer.apple.com\/wwdc22\/10032"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10121-Meet-Focus-filters":{"title":"Meet Focus filters","role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc22-10121-meet-focus-filters","type":"topic","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10121-Meet-Focus-filters","abstract":[{"text":"Discover how you can customize app behaviors based on someone’s currently enabled Focus. We’ll show you how to use App Intents to define your app’s Focus filters, act on changes from the system, and present your app’s views in different ways. We’ll also explore how you can filter notifications and update badge counts.","type":"text"}]},"https://developer.apple.com/documentation/appintents/appintent/perform()":{"title":"perform()","type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/appintent\/perform()","titleInlineContent":[{"type":"codeVoice","code":"perform()"}],"url":"https:\/\/developer.apple.com\/documentation\/appintents\/appintent\/perform()"},"https://x.com/Jeehut":{"type":"link","url":"https:\/\/x.com\/Jeehut","titleInlineContent":[{"type":"text","text":"X\/Twitter"}],"identifier":"https:\/\/x.com\/Jeehut","title":"X\/Twitter"},"https://developer.apple.com/documentation/appintents/intenterror":{"type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/intenterror","title":"IntentError","titleInlineContent":[{"type":"codeVoice","code":"IntentError"}],"url":"https:\/\/developer.apple.com\/documentation\/appintents\/intenterror"},"https://developer.apple.com/documentation/appintents/intentparameter/requestconfirmation(for:dialog:)":{"title":"requestConfirmation(for:dialog:)","type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/intentparameter\/requestconfirmation(for:dialog:)","titleInlineContent":[{"type":"codeVoice","code":"requestConfirmation(for:dialog:)"}],"url":"https:\/\/developer.apple.com\/documentation\/appintents\/intentparameter\/requestconfirmation(for:dialog:)"},"https://developer.apple.com/documentation/appintents/property-comparators":{"type":"link","url":"https:\/\/developer.apple.com\/documentation\/appintents\/property-comparators","titleInlineContent":[{"type":"text","text":"Supported query properties"}],"identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/property-comparators","title":"Supported query properties"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10028-Bring-widgets-to-life":{"title":"Bring widgets to life","role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc23-10028-bring-widgets-to-life","type":"topic","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10028-Bring-widgets-to-life","abstract":[{"text":"Learn how to make animated and interactive widgets for your apps and games. We’ll show you how to tweak animations for entry transitions and add interactivity using SwiftUI Button and Toggle so that you can create powerful moments right from the Home Screen and Lock Screen.","type":"text"}]},"WWDC22-Icon.png":{"type":"image","identifier":"WWDC22-Icon.png","alt":null,"variants":[{"url":"\/images\/WWDCNotes\/WWDC22-Icon.png","traits":["1x","light"]}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10170-Implement-App-Shortcuts-with-App-Intents":{"url":"\/documentation\/wwdcnotes\/wwdc22-10170-implement-app-shortcuts-with-app-intents","kind":"article","role":"sampleCode","title":"Implement App Shortcuts with App Intents","type":"topic","abstract":[{"text":"Discover how you can create Shortcuts in your app with zero user setup. We’ll show you how App Intents can help you present custom Shortcuts views, and explore how you can add support for parameterized phrases to allow people to quickly express their intent. We’ll also share how you can make your App Shortcuts discoverable with a Siri Tip, and Shortcuts links.","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10170-Implement-App-Shortcuts-with-App-Intents"},"https://developer.apple.com/documentation/appintents/app-intents":{"title":"Intents","type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/app-intents","titleInlineContent":[{"type":"codeVoice","code":"Intents"}],"url":"https:\/\/developer.apple.com\/documentation\/appintents\/app-intents"},"https://developer.apple.com/documentation/appintents/intentparameter/requestdisambiguation(among:dialog:)":{"type":"link","url":"https:\/\/developer.apple.com\/documentation\/appintents\/intentparameter\/requestdisambiguation(among:dialog:)","titleInlineContent":[{"type":"codeVoice","code":"requestDisambiguation(among:, dialog:)"}],"identifier":"https:\/\/developer.apple.com\/documentation\/appintents\/intentparameter\/requestdisambiguation(among:dialog:)","title":"requestDisambiguation(among:, dialog:)"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22","url":"\/documentation\/wwdcnotes\/wwdc22","role":"collectionGroup","title":"WWDC22","type":"topic","abstract":[{"type":"text","text":"Xcode 14, Swift 5.7, iOS 16, macOS 13 (Ventura), tvOS 16, watchOS 9."},{"type":"text","text":" "},{"type":"text","text":"New APIs: "},{"type":"codeVoice","code":"WeatherKit"},{"type":"text","text":", "},{"type":"codeVoice","code":"ScreenCaptureKit"},{"type":"text","text":", "},{"type":"codeVoice","code":"Swift Regex"},{"type":"text","text":", and more."}],"images":[{"identifier":"WWDC22-Icon.png","type":"icon"},{"identifier":"WWDC22.jpeg","type":"card"}],"kind":"article"},"https://fline.dev":{"type":"link","identifier":"https:\/\/fline.dev","title":"Blog","titleInlineContent":[{"type":"text","text":"Blog"}],"url":"https:\/\/fline.dev"},"Jeehut":{"type":"image","identifier":"Jeehut","alt":"Profile image of Cihat Gündüz","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/Jeehut.jpeg"}]},"https://github.com/Jeehut":{"type":"link","url":"https:\/\/github.com\/Jeehut","titleInlineContent":[{"type":"text","text":"GitHub"}],"identifier":"https:\/\/github.com\/Jeehut","title":"GitHub"}}}