{"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110351-Eliminate-data-races-using-Swift-Concurrency"},"metadata":{"modules":[{"name":"WWDC Notes"}],"role":"sampleCode","roleHeading":"WWDC22","title":"Eliminate data races using Swift Concurrency"},"sampleCodeDownload":{"kind":"sampleDownload","action":{"overridingTitle":"Watch Video (28 min)","identifier":"https:\/\/developer.apple.com\/wwdc22\/110351","isActive":true,"type":"reference"}},"schemaVersion":{"major":0,"patch":0,"minor":3},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22"]]},"kind":"article","primaryContentSections":[{"kind":"content","content":[{"anchor":"Task-isolation","text":"Task isolation","type":"heading","level":2},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Task isolation ensures that data across tasks is not shared in a manner that can introduce data races"}]}]}],"type":"unorderedList"},{"anchor":"Task","text":"Task","type":"heading","level":3},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"A task performs a specific job sequentially from start to finish","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Tasks are asynchronous, and their work can be suspended any number of times at "},{"type":"codeVoice","code":"await"},{"type":"text","text":" operations"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"A task is self-contained - has its own resources and can operate by itself, independently of any other task"}]}]}],"type":"unorderedList"},{"anchor":"Communications-between-tasks","text":"Communications between tasks","type":"heading","level":3},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"done by passing objects across tasks (a task passes an object by returning a value at the end of its body)"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"no problem if the shared\/transferred data is value type","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"can (potentially) cause data races if the data is reference type","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"anchor":"Sendable","text":"Sendable","type":"heading","level":4},{"type":"paragraph","inlineContent":[{"text":"Swift helps us telling us when it’s safe to share our data across tasks via the ","type":"text"},{"type":"codeVoice","code":"Sendable"},{"text":" protocol:","type":"text"}]},{"items":[{"content":[{"inlineContent":[{"code":"Sendable","type":"codeVoice"},{"text":" descibes types that can cross an isolation domain (like tasks), without making data races","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"data races checks happen while building by the Swift compiler"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"For tasks, the actual ","type":"text"},{"code":"Sendable","type":"codeVoice"},{"text":" constraint comes from their definition: ","type":"text"},{"code":"Task","type":"codeVoice"},{"text":"s return type must conform to ","type":"text"},{"code":"Sendable","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"You should use "},{"code":"Sendable","type":"codeVoice"},{"type":"text","text":" constraints where you have generic parameters whose values will be passed across different isolation domains"}]}]},{"content":[{"inlineContent":[{"code":"Sendable","type":"codeVoice"},{"text":" conformances can be inferred by the Swift compiler for non-public types (but you can add ","type":"text"},{"code":"Sendable","type":"codeVoice"},{"text":" conformance explicitly)","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Classes (reference types) can conform to ","type":"text"},{"code":"Sendable","type":"codeVoice"},{"text":" only under very narrow circumstances","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"e.g., when a ","type":"text"},{"type":"codeVoice","code":"final"},{"text":" class only has immutable storage","type":"text"}]}]}],"type":"unorderedList"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"for reference types that do their own internal synchronization (e.g., via locks), you can use ","type":"text"},{"code":"@unchecked Sendable","type":"codeVoice"}]}]}],"type":"unorderedList"},{"syntax":"swift","type":"codeListing","code":["class ConcurrentCache<Key: Hashable & Sendable, Value: Sendable>: @unchecked Sendable {","  var lock: NSLock","  var storage: [Key: Value]","","  \/\/ ...","}"]},{"anchor":"Actor-isolation","text":"Actor isolation","type":"heading","level":2},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"code":"Actor","type":"codeVoice"},{"text":"s provide a way to isolate state that can be accessed by different tasks, in a coordinated manner that eliminates data races","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"an ","type":"text"},{"code":"Actor","type":"codeVoice"},{"text":" is self-contained - has its own resources and can operate by itself, independently of any other Actor","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"in order to execute code (or read values) defined in an actor, you need to use a task"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"only one task can execute on an actor at a time"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"entering into an actor is a potential suspension point, as there might be already another task running on it, and even other tasks waiting to enter into that specific actor","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"the same rules for communications across tasks are true for communication between tasks and actors and between actors"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"said in other words, actors rely on "},{"type":"codeVoice","code":"Sendable"},{"type":"text","text":", too"}],"type":"paragraph"}]}],"type":"unorderedList"}]},{"content":[{"inlineContent":[{"code":"Actor","type":"codeVoice"},{"type":"text","text":"s are reference types, but isolate all of their properties and code to prevent concurrent access"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"all ","type":"text"},{"code":"Actor","type":"codeVoice"},{"text":" types are implicitly ","type":"text"},{"code":"Sendable","type":"codeVoice"}],"type":"paragraph"}]}],"type":"unorderedList"}]},{"content":[{"inlineContent":[{"type":"text","text":"all Actor instance definitions (properties and functions) are isolated"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"a child\/sub task inherits all attributes of the parent task, therefore, if a task is generated directly by an actor function, said task inherits actor isolation from its context (thus will be able to access the actor properties and call other functions without "},{"type":"codeVoice","code":"await"},{"type":"text","text":"ing on them"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"the same is not true for detached tasks, which do not inherit traits from that task’s originating context","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Actor properties and functions marked as ","type":"text"},{"type":"codeVoice","code":"nonisolated"},{"text":" are considered to be outside the actor","type":"text"}]}]}],"type":"unorderedList"}]}],"type":"unorderedList"},{"anchor":"MainActor","text":"@MainActor","type":"heading","level":3},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"represents main thread"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"use it when you need to update UI in your app"}]}]},{"content":[{"inlineContent":[{"text":"use the ","type":"text"},{"type":"codeVoice","code":"@MainActor"},{"text":" attribute to indicate that the code must run on the main actor:","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"syntax":"swift","type":"codeListing","code":["@MainActor func updateView() { … }","","Task { @MainActor in","  \/\/ update UI here","}"]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"the Swift compiler will guarantee that main-actor-isolated code will only be executed on the main thread"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"@MainActor","type":"codeVoice"},{"text":" can also be applied to types, in which case the instances of those types will be isolated to the main actor","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"properties will be only accessible while on the main actor"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"methods are isolated to the main actor, unless marked ","type":"text"},{"type":"codeVoice","code":"nonisolated"}],"type":"paragraph"}]}]}]}],"type":"unorderedList"},{"syntax":"swift","type":"codeListing","code":["@MainActor","class ChickenValley: Sendable {","  var flock: [Chicken]","  var food: [Pineapple]","","  func advanceTime() {","    for chicken in flock {","      chicken.eat(from: &food)","    }","  }","}"]},{"anchor":"Atomicity","text":"Atomicity","type":"heading","level":2},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"state can change across "},{"type":"codeVoice","code":"awaits"},{"type":"text","text":" calls"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"if you’re not careful, you can end up with a high-level data race where the program is in an unexpected state, even though the data is not corrupted","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"when writing your actor, think in terms of synchronous, transactional operations that can be interleaved in any way","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"keep async actor operations simple","type":"text"}]}]}],"type":"unorderedList"},{"anchor":"Ordering","text":"Ordering","type":"heading","level":2},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Swift Concurrency provides tools for ordering operations","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"actors do no guaranteed FIFO processing","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"actors execute the highest-priority work first","type":"text"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"eliminates priority inversions","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"diffent than serial Dispatch queues, which execute in a strictly FIFO order","type":"text"}]}]}]}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Tools for ordering:"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"code":"Task","type":"codeVoice"},{"text":"s","type":"text"}]}]},{"content":[{"inlineContent":[{"code":"AsyncStream","type":"codeVoice"},{"text":"s deliver elements in order:","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"syntax":"swift","type":"codeListing","code":["for await event in eventStream {","  await process(event)","}"]},{"anchor":"Written-By","text":"Written By","type":"heading","level":2},{"numberOfColumns":5,"columns":[{"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"zntfdr"}]}],"size":1},{"content":[{"level":3,"text":"Federico Zanetello","anchor":"Federico-Zanetello","type":"heading"},{"type":"paragraph","inlineContent":[{"isActive":true,"overridingTitle":"Contributed Notes","type":"reference","overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"isActive":true,"type":"reference","identifier":"https:\/\/github.com\/zntfdr"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"isActive":true,"type":"reference","identifier":"https:\/\/zntfdr.dev"}]}],"size":4}],"type":"row"},{"type":"paragraph","inlineContent":[{"text":"Missing anything? Corrections? ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"}]},{"anchor":"Related-Sessions","text":"Related Sessions","type":"heading","level":2},{"items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10068-Whats-new-in-UIKit","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110350-Visualize-and-optimize-Swift-concurrency","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110354-Whats-new-in-Swift","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110356-Meet-distributed-actors-in-Swift","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10019-Discover-concurrency-in-SwiftUI","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10095-Use-asyncawait-with-URLSession","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10132-Meet-asyncawait-in-Swift","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10133-Protect-mutable-state-with-Swift-actors","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10134-Explore-structured-concurrency-in-Swift","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10194-Swift-concurrency-Update-a-sample-app","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10254-Swift-concurrency-Behind-the-scenes"],"type":"links","style":"list"},{"type":"small","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Legal Notice"}]}]},{"type":"small","inlineContent":[{"type":"text","text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}]}]}],"sections":[],"variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc22-110351-eliminate-data-races-using-swift-concurrency"],"traits":[{"interfaceLanguage":"swift"}]}],"abstract":[{"text":"Join us as we explore one of the core concepts in Swift concurrency: isolation of tasks and actors. We’ll take you through Swift’s approach to eliminating data races and its effect on app architecture. We’ll also discuss the importance of atomicity in your code, share the nuances of Sendable checking to maintain isolation, and revisit assumptions about ordering work in a concurrent system.","type":"text"}],"references":{"doc://WWDCNotes/documentation/WWDCNotes/WWDC22":{"abstract":[{"type":"text","text":"Xcode 14, Swift 5.7, iOS 16, macOS 13 (Ventura), tvOS 16, watchOS 9."},{"type":"text","text":" "},{"type":"text","text":"New APIs: "},{"type":"codeVoice","code":"WeatherKit"},{"type":"text","text":", "},{"type":"codeVoice","code":"ScreenCaptureKit"},{"type":"text","text":", "},{"type":"codeVoice","code":"Swift Regex"},{"type":"text","text":", and more."}],"images":[{"type":"icon","identifier":"WWDC22-Icon.png"},{"type":"card","identifier":"WWDC22.jpeg"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22","kind":"article","title":"WWDC22","url":"\/documentation\/wwdcnotes\/wwdc22","role":"collectionGroup","type":"topic"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10194-Swift-concurrency-Update-a-sample-app":{"abstract":[{"text":"Discover Swift concurrency in action: Follow along as we update an existing sample app. Get real-world experience with async\/await, actors, and continuations. We’ll also explore techniques for migrating existing code to Swift concurrency over time.","type":"text"}],"role":"sampleCode","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10194-Swift-concurrency-Update-a-sample-app","url":"\/documentation\/wwdcnotes\/wwdc21-10194-swift-concurrency-update-a-sample-app","title":"Swift concurrency: Update a sample app","kind":"article"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-110350-Visualize-and-optimize-Swift-concurrency":{"role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc22-110350-visualize-and-optimize-swift-concurrency","kind":"article","type":"topic","title":"Visualize and optimize Swift concurrency","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110350-Visualize-and-optimize-Swift-concurrency","abstract":[{"type":"text","text":"Learn how you can optimize your app with the Swift Concurrency template in Instruments. We’ll discuss common performance issues and show you how to use Instruments to find and resolve these problems. Learn how you can keep your UI responsive, maximize parallel performance, and analyze Swift concurrency activity within your app."}]},"zntfdr.jpeg":{"identifier":"zntfdr.jpeg","alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/zntfdr.jpeg"}],"type":"image"},"WWDCNotes.png":{"identifier":"WWDCNotes.png","alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes.png"}],"type":"image"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","title":"Contributions are welcome!","titleInlineContent":[{"text":"Contributions are welcome!","type":"text"}],"url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"link"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10095-Use-asyncawait-with-URLSession":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10095-Use-asyncawait-with-URLSession","url":"\/documentation\/wwdcnotes\/wwdc21-10095-use-asyncawait-with-urlsession","title":"Use async\/await with URLSession","type":"topic","kind":"article","abstract":[{"type":"text","text":"Discover how you can adopt Swift concurrency in URLSession using async\/await and AsyncSequence, and how you can apply Swift concurrency concepts to improve your networking code."}],"role":"sampleCode"},"doc://WWDCNotes/documentation/WWDCNotes":{"kind":"symbol","abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"role":"collection","images":[{"identifier":"WWDCNotes.png","type":"icon"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","type":"topic","url":"\/documentation\/wwdcnotes","title":"WWDC Notes"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-110356-Meet-distributed-actors-in-Swift":{"kind":"article","role":"sampleCode","title":"Meet distributed actors in Swift","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110356-Meet-distributed-actors-in-Swift","url":"\/documentation\/wwdcnotes\/wwdc22-110356-meet-distributed-actors-in-swift","abstract":[{"text":"Discover distributed actors — an extension of Swift’s actor model that simplifies development of distributed systems. We’ll explore how distributed actor isolation and location transparency can help you avoid the accidental complexity of networking, serialization, and other transport concerns when working with distributed apps and systems.","type":"text"}]},"WWDC22-Icon.png":{"identifier":"WWDC22-Icon.png","alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-Icon.png"}],"type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10068-Whats-new-in-UIKit":{"kind":"article","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10068-Whats-new-in-UIKit","url":"\/documentation\/wwdcnotes\/wwdc22-10068-whats-new-in-uikit","abstract":[{"type":"text","text":"Discover the latest updates and improvements to UIKit and learn how to build better iPadOS, iOS, and Mac Catalyst apps. We’ll take you through UI refinements, productivity updates, API enhancements, and more. We’ll also help you explore improvements to performance, security, and privacy."}],"role":"sampleCode","title":"What’s new in UIKit"},"https://zntfdr.dev":{"identifier":"https:\/\/zntfdr.dev","title":"Blog","titleInlineContent":[{"text":"Blog","type":"text"}],"url":"https:\/\/zntfdr.dev","type":"link"},"doc://WWDCNotes/documentation/WWDCNotes/zntfdr":{"type":"topic","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","url":"\/documentation\/wwdcnotes\/zntfdr","kind":"article","title":"Federico Zanetello (332 notes)","abstract":[{"type":"text","text":"Software engineer with a strong passion for well-written code, thought-out composable architectures, automation, tests, and more."}],"images":[{"type":"card","identifier":"zntfdr.jpeg"},{"type":"icon","identifier":"zntfdr.jpeg"}]},"https://github.com/zntfdr":{"identifier":"https:\/\/github.com\/zntfdr","title":"GitHub","titleInlineContent":[{"text":"GitHub","type":"text"}],"url":"https:\/\/github.com\/zntfdr","type":"link"},"WWDC22.jpeg":{"identifier":"WWDC22.jpeg","alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22.jpeg"}],"type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10132-Meet-asyncawait-in-Swift":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10132-Meet-asyncawait-in-Swift","url":"\/documentation\/wwdcnotes\/wwdc21-10132-meet-asyncawait-in-swift","title":"Meet async\/await in Swift","type":"topic","kind":"article","abstract":[{"text":"Swift now supports asynchronous functions — a pattern commonly known as async\/await. Discover how the new syntax can make your code easier to read and understand. Learn what happens when a function suspends, and find out how to adapt existing completion handlers to asynchronous functions.","type":"text"}],"role":"sampleCode"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-110354-Whats-new-in-Swift":{"abstract":[{"type":"text","text":"Join us for an update on Swift. We’ll take you through performance improvements, explore more secure and extensible Swift packages, and share advancements in Swift concurrency. We’ll also introduce you to Swift Regex, better generics, and other tools built into the language to help you write more flexible & expressive code."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110354-Whats-new-in-Swift","kind":"article","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc22-110354-whats-new-in-swift","role":"sampleCode","title":"What’s new in Swift"},"https://developer.apple.com/wwdc22/110351":{"checksum":null,"identifier":"https:\/\/developer.apple.com\/wwdc22\/110351","url":"https:\/\/developer.apple.com\/wwdc22\/110351","type":"download"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10254-Swift-concurrency-Behind-the-scenes":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10254-Swift-concurrency-Behind-the-scenes","url":"\/documentation\/wwdcnotes\/wwdc21-10254-swift-concurrency-behind-the-scenes","title":"Swift concurrency: Behind the scenes","type":"topic","kind":"article","abstract":[{"type":"text","text":"Dive into the details of Swift concurrency and discover how Swift provides greater safety from data races and thread explosion while simultaneously improving performance. We’ll explore how Swift tasks differ from Grand Central Dispatch, how the new cooperative threading model works, and how to ensure the best performance for your apps."}],"role":"sampleCode"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10019-Discover-concurrency-in-SwiftUI":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10019-Discover-concurrency-in-SwiftUI","url":"\/documentation\/wwdcnotes\/wwdc21-10019-discover-concurrency-in-swiftui","title":"Discover concurrency in SwiftUI","type":"topic","kind":"article","abstract":[{"text":"Discover how you can use Swift’s concurrency features to build even better SwiftUI apps. We’ll show you how concurrent workflows interact with your ObservableObjects, and explore how you can use them directly in your SwiftUI views and models. Find out how to use await to make your app run smoothly on the SwiftUI runloop, and learn how to fetch remote images quickly with the AsyncImage API. And we’ll take you through the process of enabling additional asynchronous flows in your custom views.","type":"text"}],"role":"sampleCode"},"zntfdr":{"identifier":"zntfdr","alt":"Profile image of Federico Zanetello","variants":[{"traits":["1x","light"],"url":"\/images\/zntfdr.jpeg"}],"type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10133-Protect-mutable-state-with-Swift-actors":{"abstract":[{"type":"text","text":"Data races occur when two separate threads concurrently access the same mutable state. They are trivial to construct, but are notoriously hard to debug."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10133-Protect-mutable-state-with-Swift-actors","kind":"article","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc21-10133-protect-mutable-state-with-swift-actors","role":"sampleCode","title":"Protect mutable state with Swift actors"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10134-Explore-structured-concurrency-in-Swift":{"url":"\/documentation\/wwdcnotes\/wwdc21-10134-explore-structured-concurrency-in-swift","role":"sampleCode","title":"Explore structured concurrency in Swift","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10134-Explore-structured-concurrency-in-Swift","type":"topic","abstract":[{"text":"When you have code that needs to run at the same time as other code, it’s important to choose the right tool for the job. We’ll take you through the different kinds of concurrent tasks you can create in Swift, show you how to create groups of tasks, and find out how to cancel tasks in progress. We’ll also provide guidance on when you may want to use unstructured tasks.","type":"text"}]}}}