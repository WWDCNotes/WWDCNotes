{"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-718-Introducing-Accelerate-for-Swift"},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19"]]},"sections":[],"kind":"article","primaryContentSections":[{"content":[{"anchor":"What-is-Accelerate","text":"What is Accelerate?","type":"heading","level":2},{"inlineContent":[{"type":"text","text":"The primary purpose of Accelerate is to provide thousands of low-level math primitives that run on a CPU and support image and signal processing, vector arithmetic, linear algebra, and machine learning. Most of these primitives are hand tuned to the microarchitecture of the processor."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"This improves performances and battery usage."}],"type":"paragraph"},{"anchor":"Swift","text":"Swift","type":"heading","level":2},{"inlineContent":[{"text":"Until now the Accelerate APIs were not really Swift-friendly, this year Apple has changed that particular in four libraries:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"inlineContent":[{"text":"vDSP","type":"text"}],"type":"strong"},{"type":"text","text":" (Digital Signal Processing): provides digital signal processing routines including arithmetic on large vectors, Fourier transforms, biquadratic filtering, and powerful type conversion."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"vForce","type":"text"}],"type":"strong"},{"type":"text","text":" (Basically vDSP with more geometry like "},{"code":"sin","type":"codeVoice"},{"type":"text","text":"\/"},{"code":"cos","type":"codeVoice"},{"type":"text","text":"\/"},{"code":"log","type":"codeVoice"},{"type":"text","text":"\/"},{"code":"sqrt","type":"codeVoice"},{"type":"text","text":"): provides arithmetic and transcendental functions including trig and logarithmic routines."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"Quadrature","type":"text"}]},{"type":"text","text":" (historic name, it meant compute the area beneath a curve in a interval): dedicated to the numerical integration of functions."}]}]},{"content":[{"inlineContent":[{"inlineContent":[{"text":"vImage","type":"text"}],"type":"strong"},{"type":"text","text":" (Rich collection of editing tools. Used along with CoreGraphics\/CoreVideo): provides a huge selection of image processing functions and integrates easily with core graphics and core video."}],"type":"paragraph"}]}],"type":"unorderedList"},{"inlineContent":[{"type":"text","text":"Now using any of these libraries requires much less code in Swift, and it is also safer (in some APIs)."}],"type":"paragraph"},{"anchor":"Behind-the-Scenes","text":"Behind the Scenes","type":"heading","level":2},{"inlineContent":[{"type":"text","text":"Accelerate gets its performance benefits by using vectorization."}],"type":"paragraph"},{"inlineContent":[{"text":"Let’s make an example of multiplying two arrays:","type":"text"}],"type":"paragraph"},{"code":["let a: [Float] = [10, 20, 30, 40] ","let b: [Float] = [1, 2, 3, 4] ","var c: [Float] = [0, 0, 0, 0] ","","for i in 0 ..< c.count {","  c[i] = a[i] * b[i] ","}"],"syntax":"swift","type":"codeListing"},{"inlineContent":[{"type":"text","text":"By doing so, each pair of elements are separately loaded, multiplied together, and the results stored."},{"type":"text","text":" "},{"type":"text","text":"With Accelerate:"}],"type":"paragraph"},{"code":["let a: [Float] = [10, 20, 30, 40] ","let b: [Float] = [1, 2, 3, 4] ","var c: [Float] = [0, 0, 0, 0] ","","vDSP.multiply(a, b, result: &c) "],"syntax":"swift","type":"codeListing"},{"inlineContent":[{"type":"text","text":"When using Accelerate, the calculation is performed on single instruction multiple data, or SIMD registers."},{"type":"text","text":" "},{"type":"text","text":"These registers can perform the same instruction on multiple items of data by packing those multiple items into a single register. For example, a single 128-bit register can actually store four 32-bit floating point values. So, a vectorized multiply operation can simultaneously multiply four pairs of elements at a time."},{"type":"text","text":" "},{"type":"text","text":"This means that not only will the task be quicker, it will also be significantly more energy efficient."}],"type":"paragraph"},{"anchor":"Real-Examples","text":"Real Examples","type":"heading","level":2},{"inlineContent":[{"type":"text","text":"Basically anything that operates on arrays (or matrices) with a "},{"type":"codeVoice","code":"map"},{"type":"text","text":"\/"},{"type":"codeVoice","code":"for-each"},{"type":"text","text":" can use Accelerate to improve performances by at least x3\/4."}],"type":"paragraph"},{"inlineContent":[{"text":"Even by computing a sum, a conversion, etc.","type":"text"}],"type":"paragraph"},{"anchor":"Written-By","text":"Written By","type":"heading","level":2},{"type":"row","columns":[{"content":[{"inlineContent":[{"identifier":"zntfdr","type":"image"}],"type":"paragraph"}],"size":1},{"content":[{"level":3,"type":"heading","anchor":"Federico-Zanetello","text":"Federico Zanetello"},{"type":"paragraph","inlineContent":[{"overridingTitleInlineContent":[{"text":"Contributed Notes","type":"text"}],"isActive":true,"overridingTitle":"Contributed Notes","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","type":"reference"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"isActive":true,"identifier":"https:\/\/github.com\/zntfdr","type":"reference"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"isActive":true,"identifier":"https:\/\/zntfdr.dev","type":"reference"}]}],"size":4}],"numberOfColumns":5},{"inlineContent":[{"type":"text","text":"Missing anything? Corrections? "},{"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"reference","isActive":true}],"type":"paragraph"},{"anchor":"Related-Sessions","text":"Related Sessions","type":"heading","level":2},{"style":"list","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10233-Use-Accelerate-to-improve-performance-and-incorporate-encrypted-archives"],"type":"links"},{"inlineContent":[{"inlineContent":[{"text":"Legal Notice","type":"text"}],"type":"strong"}],"type":"small"},{"inlineContent":[{"text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved.","type":"text"},{"text":" ","type":"text"},{"text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries.","type":"text"},{"text":" ","type":"text"},{"text":"This website is not made by, affiliated with, nor endorsed by Apple.","type":"text"}],"type":"small"}],"kind":"content"}],"variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc19-718-introducing-accelerate-for-swift"],"traits":[{"interfaceLanguage":"swift"}]}],"metadata":{"role":"sampleCode","modules":[{"name":"WWDC Notes"}],"title":"Introducing Accelerate for Swift","roleHeading":"WWDC19"},"schemaVersion":{"patch":0,"minor":3,"major":0},"abstract":[{"type":"text","text":"Accelerate framework provides hundreds of computational functions that are highly optimized to the system architecture your device is running on. Learn how to access all of these powerful functions directly in Swift. Understand how the power of vector programming can deliver incredible performance to your iOS, macOS, tvOS, and watchOS apps."}],"sampleCodeDownload":{"kind":"sampleDownload","action":{"identifier":"https:\/\/developer.apple.com\/wwdc19\/718","overridingTitle":"Watch Video (20 min)","type":"reference","isActive":true}},"references":{"https://developer.apple.com/wwdc19/718":{"identifier":"https:\/\/developer.apple.com\/wwdc19\/718","type":"download","checksum":null,"url":"https:\/\/developer.apple.com\/wwdc19\/718"},"zntfdr.jpeg":{"identifier":"zntfdr.jpeg","type":"image","variants":[{"url":"\/images\/zntfdr.jpeg","traits":["1x","light"]}],"alt":null},"doc://WWDCNotes/documentation/WWDCNotes":{"role":"collection","title":"WWDC Notes","url":"\/documentation\/wwdcnotes","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","images":[{"identifier":"WWDCNotes.png","type":"icon"}],"abstract":[{"text":"Session notes shared by the community for the community.","type":"text"}],"kind":"symbol"},"WWDC19-Icon.png":{"identifier":"WWDC19-Icon.png","type":"image","variants":[{"url":"\/images\/WWDC19-Icon.png","traits":["1x","light"]}],"alt":null},"doc://WWDCNotes/documentation/WWDCNotes/zntfdr":{"abstract":[{"text":"Software engineer with a strong passion for well-written code, thought-out composable architectures, automation, tests, and more.","type":"text"}],"images":[{"identifier":"zntfdr.jpeg","type":"card"},{"identifier":"zntfdr.jpeg","type":"icon"}],"role":"sampleCode","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","title":"Federico Zanetello (332 notes)","kind":"article","url":"\/documentation\/wwdcnotes\/zntfdr"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19":{"type":"topic","images":[{"identifier":"WWDC19-Icon.png","type":"icon"},{"identifier":"WWDC19.jpeg","type":"card"}],"url":"\/documentation\/wwdcnotes\/wwdc19","title":"WWDC19","kind":"article","role":"collectionGroup","abstract":[{"type":"text","text":"Xcode 11, Swift 5.1, iOS 13, macOS 10.15 (Catalina), tvOS 13, watchOS 6."},{"type":"text","text":" "},{"type":"text","text":"New APIs: "},{"code":"Combine","type":"codeVoice"},{"text":", ","type":"text"},{"code":"Core Haptics","type":"codeVoice"},{"text":", ","type":"text"},{"code":"Create ML","type":"codeVoice"},{"text":", and more.","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19"},"https://github.com/zntfdr":{"identifier":"https:\/\/github.com\/zntfdr","type":"link","titleInlineContent":[{"type":"text","text":"GitHub"}],"url":"https:\/\/github.com\/zntfdr","title":"GitHub"},"WWDC19.jpeg":{"identifier":"WWDC19.jpeg","type":"image","variants":[{"url":"\/images\/WWDC19.jpeg","traits":["1x","light"]}],"alt":null},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10233-Use-Accelerate-to-improve-performance-and-incorporate-encrypted-archives":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10233-Use-Accelerate-to-improve-performance-and-incorporate-encrypted-archives","type":"topic","kind":"article","url":"\/documentation\/wwdcnotes\/wwdc21-10233-use-accelerate-to-improve-performance-and-incorporate-encrypted-archives","abstract":[{"type":"text","text":"The Accelerate framework helps you make large-scale mathematical computations and image calculations that are optimized for high-performance, low-energy consumption. Explore the latest updates to Accelerate and its Basic Neural Network Subroutines library, including additional layers, activation functions, and improved optimizer support. Check out improvements to simd.h that include better support for C++ templates. Discover support for Apple Encrypted Archive, an extension to Apple Archive that combines compression with powerful encryption and a digital signature. And learn how you can keep data your safe and secure without compromising on performance."}],"title":"Use Accelerate to improve performance and incorporate encrypted archives","role":"sampleCode"},"WWDCNotes.png":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes.png"}],"type":"image","identifier":"WWDCNotes.png","alt":null},"zntfdr":{"variants":[{"traits":["1x","light"],"url":"\/images\/zntfdr.jpeg"}],"type":"image","identifier":"zntfdr","alt":"Profile image of Federico Zanetello"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"title":"Contributions are welcome!","type":"link","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","titleInlineContent":[{"type":"text","text":"Contributions are welcome!"}]},"https://zntfdr.dev":{"title":"Blog","type":"link","url":"https:\/\/zntfdr.dev","identifier":"https:\/\/zntfdr.dev","titleInlineContent":[{"type":"text","text":"Blog"}]}}}