{"kind":"article","abstract":[{"type":"text","text":"Learn how you can process strings more effectively when you take advantage of Swift Regex. Come for concise literals but stay for Regex builders ‚Äî a new, declarative approach to string processing. We‚Äôll also explore the Unicode models in String and share how Swift Regex can make Unicode-correct processing easy."}],"sampleCodeDownload":{"kind":"sampleDownload","action":{"overridingTitle":"Watch Video (22 min)","type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/wwdc22\/110357"}},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22"]]},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110357-Meet-Swift-Regex"},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc22-110357-meet-swift-regex"]}],"schemaVersion":{"patch":0,"major":0,"minor":3},"metadata":{"modules":[{"name":"WWDC Notes"}],"title":"Meet Swift Regex","roleHeading":"WWDC22","role":"sampleCode"},"primaryContentSections":[{"kind":"content","content":[{"type":"heading","level":2,"text":"Overview","anchor":"overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"In Swift "},{"type":"codeVoice","code":"Regex"},{"type":"text","text":" is a struct generic over its "},{"type":"codeVoice","code":"Output"},{"type":"text","text":", which is the result of applying the regex itself, including captures."}]},{"type":"heading","level":2,"text":"Initialization","anchor":"Initialization"},{"type":"paragraph","inlineContent":[{"type":"text","text":"We can create "},{"code":"Regex","type":"codeVoice"},{"type":"text","text":" in two ways:"}]},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"literal regex (containing regex syntax in between slash delimiters "},{"code":"\/","type":"codeVoice"},{"type":"text","text":")"}]}]}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"syntax is compatible with Perl, Python, Ruby, Java, NSRegularExpression, and many, many others","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"can be created during runtime as well via "},{"type":"codeVoice","code":"try Regex(runTimeString)"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"will throw if the input contains invalid syntax"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"in this case the type is "},{"code":"Regex<AnyRegexOutput>","type":"codeVoice"},{"type":"text","text":", as the types and number of captures won‚Äôt be known until run-time"}]}]}],"type":"unorderedList"}]}]},{"type":"codeListing","syntax":"swift","code":["let digits = \/\\d+\/ ","\/\/  üëÜüèª type Regex<Substring>"]},{"type":"orderedList","start":2,"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"via regex builders"}]}]}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"regex literals can be used within builders"}],"type":"paragraph"}]}]},{"type":"codeListing","syntax":"swift","code":["let digits = OneOrMore(.digit)","\/\/  üëÜüèª type Regex<Substring>"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Example:"}]},{"type":"codeListing","syntax":"swift","code":["\/\/ Text to parse:","\/\/ CREDIT  03\/02\/2022  Payroll from employer     $200.23","\/\/ CREDIT  03\/03\/2022  Suspect A           $2,000,000.00","\/\/ DEBIT   03\/03\/2022  Ted's Pet Rock Sanctuary    $2,000,000.00","\/\/ DEBIT   03\/05\/2022  Doug's Dugout Dogs      $33.27","","import RegexBuilder","let fieldSeparator = \/\\s{2,}|\\t\/","let transactionMatcher = Regex {","  \/CREDIT|DEBIT\/","  fieldSeparator","  One(.date(.numeric, locale: Locale(identifier: \"en_US\"), timeZone: .gmt)) \/\/ üëàüèª we define which data locale\/timezone we want to use","  fieldSeparator","  OneOrMore {","    NegativeLookahead { fieldSeparator } \/\/ üëàüèª we stop as soon as we see one field separator","    CharacterClass.any","  }","  fieldSeparator","  One(.localizedCurrency(code: \"USD\").locale(Locale(identifier: \"en_US\")))","}"]},{"type":"paragraph","inlineContent":[{"text":"To capture data from the regex use ","type":"text"},{"code":"Capture","type":"codeVoice"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"we capture strongly-typed values (for "},{"type":"codeVoice","code":"Date"},{"type":"text","text":"s, numbers)"}]}]}]},{"type":"codeListing","syntax":"swift","code":["let fieldSeparator = \/\\s{2,}|\\t\/","let transactionMatcher = Regex {","  Capture { \/CREDIT|DEBIT\/ } \/\/ üëàüèª","  fieldSeparator","","  Capture { One(.date(.numeric, locale: Locale(identifier: \"en_US\"), timeZone: .gmt)) } \/\/ üëàüèª","  fieldSeparator","","  Capture { \/\/ üëàüèª","    OneOrMore {","      NegativeLookahead { fieldSeparator }","      CharacterClass.any","    }","  }","  fieldSeparator","  Capture { One(.localizedCurrency(code: \"USD\").locale(Locale(identifier: \"en_US\"))) } \/\/ üëàüèª","}","\/\/ transactionMatcher: Regex<(Substring, Substring, Date, Substring, Decimal)>"]},{"type":"heading","level":2,"text":"Written By","anchor":"Written-By"},{"type":"row","columns":[{"size":1,"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"zntfdr"}]}]},{"size":4,"content":[{"text":"Federico Zanetello","anchor":"Federico-Zanetello","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"overridingTitle":"Contributed Notes","overridingTitleInlineContent":[{"text":"Contributed Notes","type":"text"}],"type":"reference","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","isActive":true},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","identifier":"https:\/\/github.com\/zntfdr","isActive":true},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","identifier":"https:\/\/zntfdr.dev","isActive":true}]}]}],"numberOfColumns":5},{"type":"thematicBreak"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Missing anything? Corrections? "},{"type":"reference","isActive":true,"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"}]},{"type":"heading","level":2,"text":"Related Sessions","anchor":"Related-Sessions"},{"type":"links","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110354-Whats-new-in-Swift","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110358-Swift-Regex-Beyond-the-basics","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110427-Whats-new-in-Xcode"],"style":"list"},{"type":"small","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Legal Notice"}]}]},{"type":"small","inlineContent":[{"text":"All content copyright ¬© 2012 ‚Äì 2024 Apple Inc. All rights reserved.","type":"text"},{"text":" ","type":"text"},{"text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries.","type":"text"},{"text":" ","type":"text"},{"text":"This website is not made by, affiliated with, nor endorsed by Apple.","type":"text"}]}]}],"sections":[],"references":{"zntfdr.jpeg":{"identifier":"zntfdr.jpeg","alt":null,"type":"image","variants":[{"url":"\/images\/WWDCNotes\/zntfdr.jpeg","traits":["1x","light"]}]},"zntfdr":{"alt":"Profile image of Federico Zanetello","type":"image","identifier":"zntfdr","variants":[{"url":"\/images\/WWDCNotes\/zntfdr.jpeg","traits":["1x","light"]}]},"doc://WWDCNotes/documentation/WWDCNotes/zntfdr":{"title":"Federico Zanetello (332 notes)","kind":"article","abstract":[{"type":"text","text":"Software engineer with a strong passion for well-written code, thought-out composable architectures, automation, tests, and more."}],"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","images":[{"identifier":"zntfdr.jpeg","type":"card"},{"identifier":"zntfdr.jpeg","type":"icon"}],"role":"sampleCode","url":"\/documentation\/wwdcnotes\/zntfdr"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"link","titleInlineContent":[{"text":"Contributions are welcome!","type":"text"}],"title":"Contributions are welcome!","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"},"doc://WWDCNotes/documentation/WWDCNotes":{"images":[{"identifier":"WWDCNotes.png","type":"icon"}],"title":"WWDC Notes","abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","kind":"symbol","type":"topic","url":"\/documentation\/wwdcnotes","role":"collection"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-110427-Whats-new-in-Xcode":{"role":"sampleCode","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110427-Whats-new-in-Xcode","title":"What‚Äôs new in Xcode","url":"\/documentation\/wwdcnotes\/wwdc22-110427-whats-new-in-xcode","kind":"article","abstract":[{"text":"Discover the latest productivity and performance advancements in Xcode 14. We‚Äôll introduce you to the fully redesigned SwiftUI canvas experience, explore enhancements to code completion and navigation, and take you through performance improvements we‚Äôve made throughout the entire development process. We‚Äôll also show you how you can now read and respond to feedback on your TestFlight builds without ever leaving Xcode.","type":"text"}]},"https://zntfdr.dev":{"identifier":"https:\/\/zntfdr.dev","title":"Blog","titleInlineContent":[{"text":"Blog","type":"text"}],"url":"https:\/\/zntfdr.dev","type":"link"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-110358-Swift-Regex-Beyond-the-basics":{"abstract":[{"type":"text","text":"Go beyond the basics of string processing with Swift Regex. We‚Äôll share an overview of Regex and how it works, explore Foundation‚Äôs rich data parsers and discover how to integrate your own, and delve into captures. We‚Äôll also provide best practices for matching strings and wielding Regex-powered algorithms with ease."}],"kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110358-Swift-Regex-Beyond-the-basics","role":"sampleCode","title":"Swift Regex: Beyond the basics","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc22-110358-swift-regex-beyond-the-basics"},"WWDC22.jpeg":{"alt":null,"type":"image","identifier":"WWDC22.jpeg","variants":[{"url":"\/images\/WWDCNotes\/WWDC22.jpeg","traits":["1x","light"]}]},"WWDCNotes.png":{"alt":null,"type":"image","variants":[{"url":"\/images\/WWDCNotes\/WWDCNotes.png","traits":["1x","light"]}],"identifier":"WWDCNotes.png"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22":{"images":[{"type":"icon","identifier":"WWDC22-Icon.png"},{"type":"card","identifier":"WWDC22.jpeg"}],"title":"WWDC22","abstract":[{"type":"text","text":"Xcode 14, Swift 5.7, iOS 16, macOS 13 (Ventura), tvOS 16, watchOS 9."},{"type":"text","text":" "},{"type":"text","text":"New APIs: "},{"type":"codeVoice","code":"WeatherKit"},{"type":"text","text":", "},{"type":"codeVoice","code":"ScreenCaptureKit"},{"type":"text","text":", "},{"type":"codeVoice","code":"Swift Regex"},{"type":"text","text":", and more."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22","kind":"article","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc22","role":"collectionGroup"},"WWDC22-Icon.png":{"identifier":"WWDC22-Icon.png","alt":null,"type":"image","variants":[{"url":"\/images\/WWDCNotes\/WWDC22-Icon.png","traits":["1x","light"]}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-110354-Whats-new-in-Swift":{"role":"sampleCode","title":"What‚Äôs new in Swift","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110354-Whats-new-in-Swift","kind":"article","url":"\/documentation\/wwdcnotes\/wwdc22-110354-whats-new-in-swift","type":"topic","abstract":[{"type":"text","text":"Join us for an update on Swift. We‚Äôll take you through performance improvements, explore more secure and extensible Swift packages, and share advancements in Swift concurrency. We‚Äôll also introduce you to Swift Regex, better generics, and other tools built into the language to help you write more flexible & expressive code."}]},"https://github.com/zntfdr":{"type":"link","title":"GitHub","titleInlineContent":[{"text":"GitHub","type":"text"}],"url":"https:\/\/github.com\/zntfdr","identifier":"https:\/\/github.com\/zntfdr"},"https://developer.apple.com/wwdc22/110357":{"url":"https:\/\/developer.apple.com\/wwdc22\/110357","type":"download","checksum":null,"identifier":"https:\/\/developer.apple.com\/wwdc22\/110357"}}}