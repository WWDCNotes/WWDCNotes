{"abstract":[{"type":"text","text":"watchOS 8 brings all-new opportunities to keep people up to date on their watch face. With new APIs for the Always-On Retina display and updating complications from Bluetooth devices and background delivery of HealthKit data, it’s never been easier to keep your app up to date. Learn about region-based user notifications to leverage location in your app. Explore all the new enhancements to SwiftUI and watchOS that will get you excited to build your next Watch app."}],"sampleCodeDownload":{"kind":"sampleDownload","action":{"identifier":"https:\/\/developer.apple.com\/wwdc21\/10002","overridingTitle":"Watch Video (19 min)","type":"reference","isActive":true}},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21"]]},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10002-Whats-new-in-watchOS-8"},"metadata":{"role":"sampleCode","title":"What’s new in watchOS 8","modules":[{"name":"WWDC Notes"}],"roleHeading":"WWDC21"},"variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc21-10002-whats-new-in-watchos-8"],"traits":[{"interfaceLanguage":"swift"}]}],"sections":[],"kind":"article","primaryContentSections":[{"kind":"content","content":[{"text":"Always-on display dimmed state","type":"heading","anchor":"Always-on-display-dimmed-state","level":2},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Supported on series 5 and 6"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"in watchOS 7, the always-on state showed your app’s UI blurred with the system time overlaid"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"when you rebuild your app with the watchOS 8 SDK, your app’s UI will now be shown in a dimmed state instead, and is immediately interactive if someone taps the UI","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"You can get notified of of this dimmed state via a new SwiftUI environment property  ","type":"text"},{"code":"isLuminanceReduced","type":"codeVoice"},{"text":".","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"You can respond to this state by highlighting information that’s especially important, and hiding information that should stay private","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"In the watch simulator, you click the lock button in the simulator window to simulate a wrist-down event (triggering the dimmed state)","type":"text"}]}]}]},{"inlineContent":[{"type":"text","text":"Guidance:"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"the transition from active state to the always-on state should feel seamless","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"don’t drastically alter the UI or reorganize information"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"dim non-essential information and elements, to give more prominence to the piece of information you want to stay highlighted and visible"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"if your UI has large elements that are filled with color or imagery, you may want to reduce those elements to be represented with a stroke or dimmed color"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"redact or remove sensitive information","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"reset animations","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"use SwiftUI’s "},{"code":"TimelineView","type":"codeVoice"},{"type":"text","text":" to tell watchOS 8 that your inactive app needs to update its UI"}],"type":"paragraph"}]}]},{"inlineContent":[{"text":"UI Updates:","type":"text"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Apps with an ongoing, active session (e.g. workout or audio session) can update your UI up to once per second","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"other apps up to once per minute"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"assume your app is visible longer than two minutes"}],"type":"paragraph"}]}]},{"text":"HealthKit data","type":"heading","anchor":"HealthKit-data","level":2},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"background delivery of HealthKit data to Watch apps","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"new results come up to once per hours","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"if you have an active complication, up to four times per hour"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"all received results count against background app refresh budget"}],"type":"paragraph"}]}]},{"inlineContent":[{"type":"text","text":"Update frequency:"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"immediate for critical data types (fall events, low blood oxygen saturation, heart rate events)","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"hourly or longer for other events","type":"text"}]}]}]},{"text":"Bluetooth","type":"heading","anchor":"Bluetooth","level":2},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"from watchOS 4, Bluetooth devices can connect directly to Apple Watch and make use of Core Bluetooth."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"from watchOS 8, Bluetooth devices can connect during background app refresh opportunities that your app’s complications get when they’re on the active watch face","type":"text"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"this means that your app’s complications can stay up to date with your Bluetooth device and display updated information throughout the day.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Background app refresh gives your app’s complications that are on the active watch face up to four opportunities per hour to connect and update.","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"these opportunities will count against your app’s overall background app refresh budget","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"}]}]},{"inlineContent":[{"type":"text","text":"Guidance:"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"connect and process your data within a very short period of time","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"new expiration handler on "},{"type":"codeVoice","code":"WKRefreshBackgroundTask"},{"type":"text","text":", letting you know when you’re about to run out of time"}],"type":"paragraph"}]}]},{"text":"Location","type":"heading","anchor":"Location","level":2},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"new in watchOS 8, region-based user notifications","type":"text"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"works similarly to iOS:"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"deliver pre-created local notifications","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"“when in use” location permission required"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"limit the number of regions to only include important POIs near someone or locations they’ve shown explicit intent for"}],"type":"paragraph"}]}],"type":"unorderedList"}]}]}]},{"content":[{"inlineContent":[{"text":"new Location button, for one-time location authorization without going through authorization prompts each time it’s tapped","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"always-on altimeter API, no need location access"}],"type":"paragraph"}]}]},{"text":"More enhancements","type":"heading","anchor":"More-enhancements","level":2},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"respiratory rate API"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"assistive touch","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"large accessibility text size","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"(Xcode 12.5+) Unit testing and UI testing"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Large titles"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"text input improvements:","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Scribble or Dictation preference is preserved per app"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"quick access to changing between input types while entering text","type":"text"}]}]}]}]},{"content":[{"inlineContent":[{"type":"text","text":"SwiftUI’s "},{"type":"codeVoice","code":".searchable"},{"type":"text","text":" API"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Swipe actions on "},{"type":"codeVoice","code":"List"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Buttons improvements:","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"new roles parameter to let the system know how to present and handle specific button types (e.g. destructive buttons)"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"new "},{"code":"controlProminence","type":"codeVoice"},{"type":"text","text":" view modifier, which will give those buttons an additional haptic when tapped."}]}]}]}]},{"content":[{"inlineContent":[{"text":"SwiftUI ","type":"text"},{"code":"Canvas","type":"codeVoice"},{"text":" for rich programmatic drawing","type":"text"}],"type":"paragraph"}]}]},{"text":"Written By","type":"heading","anchor":"Written-By","level":2},{"type":"row","columns":[{"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"zntfdr"}]}],"size":1},{"content":[{"level":3,"anchor":"Federico-Zanetello","text":"Federico Zanetello","type":"heading"},{"inlineContent":[{"type":"reference","overridingTitleInlineContent":[{"text":"Contributed Notes","type":"text"}],"overridingTitle":"Contributed Notes","isActive":true,"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/zntfdr"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/zntfdr.dev"}],"type":"paragraph"}],"size":4}],"numberOfColumns":5},{"inlineContent":[{"text":"Missing anything? Corrections? ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"}],"type":"paragraph"},{"text":"Related Sessions","type":"heading","anchor":"Related-Sessions","level":2},{"type":"links","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10005-Connect-Bluetooth-devices-to-Apple-Watch","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10009-Build-a-workout-app-for-Apple-Watch","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10018-Whats-new-in-SwiftUI","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10021-Add-rich-graphics-to-your-SwiftUI-app","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10048-Principles-of-great-widgets","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10102-Meet-the-Location-Button","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10176-Craft-search-experiences-in-SwiftUI"],"style":"list"},{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Legal Notice"}]}],"type":"small"},{"inlineContent":[{"text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved.","type":"text"},{"text":" ","type":"text"},{"text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries.","type":"text"},{"text":" ","type":"text"},{"text":"This website is not made by, affiliated with, nor endorsed by Apple.","type":"text"}],"type":"small"}]}],"schemaVersion":{"minor":3,"patch":0,"major":0},"references":{"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10009-Build-a-workout-app-for-Apple-Watch":{"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10009-Build-a-workout-app-for-Apple-Watch","role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc21-10009-build-a-workout-app-for-apple-watch","abstract":[{"type":"text","text":"Build a workout app from scratch using SwiftUI and HealthKit during this code along. Learn how to support the Always On state using timelines to update workout metrics. Follow best design practices for workout apps."}],"title":"Build a workout app for Apple Watch","kind":"article"},"https://developer.apple.com/wwdc21/10002":{"type":"download","identifier":"https:\/\/developer.apple.com\/wwdc21\/10002","url":"https:\/\/developer.apple.com\/wwdc21\/10002","checksum":null},"WWDC21-Icon.png":{"type":"image","identifier":"WWDC21-Icon.png","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC21-Icon.png"}],"alt":null},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10176-Craft-search-experiences-in-SwiftUI":{"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10176-Craft-search-experiences-in-SwiftUI","role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc21-10176-craft-search-experiences-in-swiftui","abstract":[{"type":"text","text":"Discover how you can help people quickly find specific content within your apps. Learn how to use SwiftUI’s .searchable modifier in conjunction with other views to best incorporate search for your app. And we’ll show you how to elevate your implementation by providing search suggestions to help people understand the types of searches they can perform."}],"title":"Craft search experiences in SwiftUI","kind":"article"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10005-Connect-Bluetooth-devices-to-Apple-Watch":{"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10005-Connect-Bluetooth-devices-to-Apple-Watch","role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc21-10005-connect-bluetooth-devices-to-apple-watch","abstract":[{"type":"text","text":"Discover how you can integrate data from Bluetooth accessories into Apple Watch apps and complications. Bluetooth devices can provide medical data, sports stats, and more to Apple Watch, and help people get more out of your software in the process. We’ll show you how to connect to these devices during Background App Refresh to display the most up-to-date information in your Apple Watch complications, provide an overview of Core Bluetooth on watchOS, and explore best practices for Bluetooth accessory design."}],"title":"Connect Bluetooth devices to Apple Watch","kind":"article"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10048-Principles-of-great-widgets":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10048-Principles-of-great-widgets","title":"Principles of great widgets","kind":"article","role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc21-10048-principles-of-great-widgets","abstract":[{"text":"Explore the foundations of great widgets by keeping them relevant and customizable. Learn how to keep widgets up to date with timeline entries and TimelineReloadPolicies. Discover how to adapt your widget to different presentation environments and physical location. And lastly, find out how to create customizable widgets that someone can personalize to their liking.","type":"text"}],"type":"topic"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10018-Whats-new-in-SwiftUI":{"abstract":[{"type":"text","text":"There’s never been a better time to develop your apps with SwiftUI. Discover the latest updates to the UI framework — including lists, buttons, and text fields — and learn how these features can help you more fully adopt SwiftUI in your app. Find out how to create beautiful, visually-rich graphics using the canvas view, materials, and enhancements to symbols. Explore multi-column tables on macOS, refinements to focus and keyboard interaction, and the multi-platform search API. And we’ll show you how to take advantage of features like Swift concurrency, a brand new AttributedString, format styles, localization, and so much more."}],"role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10018-Whats-new-in-SwiftUI","kind":"article","title":"What’s new in SwiftUI","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc21-10018-whats-new-in-swiftui"},"WWDC21.jpeg":{"identifier":"WWDC21.jpeg","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC21.jpeg"}],"alt":null,"type":"image"},"zntfdr":{"identifier":"zntfdr","variants":[{"traits":["1x","light"],"url":"\/images\/zntfdr.jpeg"}],"alt":"Profile image of Federico Zanetello","type":"image"},"WWDCNotes.png":{"identifier":"WWDCNotes.png","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes.png"}],"alt":null,"type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/zntfdr":{"abstract":[{"text":"Software engineer with a strong passion for well-written code, thought-out composable architectures, automation, tests, and more.","type":"text"}],"images":[{"identifier":"zntfdr.jpeg","type":"card"},{"identifier":"zntfdr.jpeg","type":"icon"}],"url":"\/documentation\/wwdcnotes\/zntfdr","type":"topic","role":"sampleCode","title":"Federico Zanetello (332 notes)","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr"},"zntfdr.jpeg":{"identifier":"zntfdr.jpeg","variants":[{"traits":["1x","light"],"url":"\/images\/zntfdr.jpeg"}],"alt":null,"type":"image"},"https://github.com/zntfdr":{"identifier":"https:\/\/github.com\/zntfdr","title":"GitHub","url":"https:\/\/github.com\/zntfdr","type":"link","titleInlineContent":[{"text":"GitHub","type":"text"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10102-Meet-the-Location-Button":{"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10102-Meet-the-Location-Button","title":"Meet the Location Button","role":"sampleCode","abstract":[{"text":"Meet CLLocationButton: a secure interface element that provides an easy, low-friction way to grant your app location access only when and where it is needed. Learn how you can add CLLocationButton to new or existing code, how to customize it within interface legibility guidelines, how to recognize and address customization failures, and how it interacts with iOS’s traditional prompt-based Location Services authorization.","type":"text"}],"kind":"article","url":"\/documentation\/wwdcnotes\/wwdc21-10102-meet-the-location-button"},"doc://WWDCNotes/documentation/WWDCNotes":{"kind":"symbol","images":[{"identifier":"WWDCNotes.png","type":"icon"}],"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"url":"\/documentation\/wwdcnotes","role":"collection","title":"WWDC Notes"},"https://zntfdr.dev":{"titleInlineContent":[{"type":"text","text":"Blog"}],"title":"Blog","identifier":"https:\/\/zntfdr.dev","type":"link","url":"https:\/\/zntfdr.dev"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"titleInlineContent":[{"type":"text","text":"Contributions are welcome!"}],"title":"Contributions are welcome!","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"link","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21":{"title":"WWDC21","role":"collectionGroup","abstract":[{"text":"Xcode 13, Swift 5.5, iOS 15, macOS 12 (Monterey), tvOS 15, watchOS 8.","type":"text"},{"text":" ","type":"text"},{"text":"New APIs: ","type":"text"},{"code":"MusicKit","type":"codeVoice"},{"text":", ","type":"text"},{"code":"DocC","type":"codeVoice"},{"text":", ","type":"text"},{"code":"StoreKit 2","type":"codeVoice"},{"text":", and more.","type":"text"}],"images":[{"type":"icon","identifier":"WWDC21-Icon.png"},{"type":"card","identifier":"WWDC21.jpeg"}],"url":"\/documentation\/wwdcnotes\/wwdc21","type":"topic","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10021-Add-rich-graphics-to-your-SwiftUI-app":{"role":"sampleCode","abstract":[{"type":"text","text":"Learn how you can bring your graphics to life with SwiftUI. We’ll begin by working with safe areas, including the keyboard safe area, and learn how to design beautiful, edge-to-edge graphics that won’t underlap the on-screen keyboard. We’ll also explore the materials and vibrancy you can use in SwiftUI to create easily customizable backgrounds and controls, and go over graphics APIs like drawingGroup and the all new canvas. With these tools, it’s simpler than ever to design fully interactive and interruptible animations and graphics in SwiftUI."}],"title":"Add rich graphics to your SwiftUI app","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10021-Add-rich-graphics-to-your-SwiftUI-app","type":"topic","kind":"article","url":"\/documentation\/wwdcnotes\/wwdc21-10021-add-rich-graphics-to-your-swiftui-app"}}}