{"metadata":{"title":"Bring widgets to life","roleHeading":"WWDC23","role":"sampleCode","modules":[{"name":"WWDC Notes"}]},"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10028-Bring-widgets-to-life","interfaceLanguage":"swift"},"schemaVersion":{"minor":3,"major":0,"patch":0},"kind":"article","primaryContentSections":[{"content":[{"text":"Key takeaways","anchor":"Key-takeaways","type":"heading","level":2},{"text":"Changes between entries can now be animated.","anchor":"Changes-between-entries-can-now-be-animated","type":"heading","level":4},{"anchor":"Widgets-can-now-be-interactive","level":4,"type":"heading","text":"Widgets can now be interactive."},{"type":"paragraph","inlineContent":[]},{"anchor":"Animations","level":2,"type":"heading","text":"Animations"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Changes between entries default to an implicit spring animation and various implicit content transitions","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Animations can be customized with the same APIs you use to customize SwiftUI views; ","type":"text"},{"code":".animation","type":"codeVoice"},{"text":", ","type":"text"},{"code":".transition","type":"codeVoice"},{"text":" and ","type":"text"},{"code":".contentTransition","type":"codeVoice"},{"text":".","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The new #Preview macro can be used to quickly preview animations between entries."}]}]}]},{"type":"codeListing","syntax":"Swift","code":["#Preview(as: WidgetFamily.systemSmall) {","    CaffeineTrackerWidget()","} timeline: {","    CaffeineLogEntry.log1","    CaffeineLogEntry.log2","    CaffeineLogEntry.log3","    CaffeineLogEntry.log4","}"]},{"type":"paragraph","inlineContent":[]},{"type":"heading","anchor":"Interactivity","level":2,"text":"Interactivity"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Actions are exposed to your widget using AppIntents","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"AppIntents are passed through new initializers on ","type":"text"},{"code":"Button","type":"codeVoice"},{"text":" and ","type":"text"},{"code":"Toggle","type":"codeVoice"},{"text":". These are the two only controls that work with widgets so far.","type":"text"}]}]}]},{"type":"codeListing","syntax":"Swift","code":["extension Button {","    public init<I: AppIntent>(","        intent: I,","        @ViewBuilder label: () -> Label","    )","}","","extension Toggle {","    public init<I: AppIntent>(","        isOn: Bool,","        intent: I,","        @ViewBuilder label: () -> Label","    )","}"]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"The return of an AppIntents perform() method will trigger a reload of the widgets UI, so make sure to make any changes to the state before that.","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Use the ","type":"text"},{"code":"@Parameter","type":"codeVoice"},{"text":" property wrapper to pass properties to your AppIntent.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"You can choose the widget extension as the build target, then Xcode will install the widget for you."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Use the "},{"type":"codeVoice","code":".invalidatableContent"},{"type":"text","text":" modifier to indicate a view will update before the new value has arrived, to reduce the feeling of latency."}]}]}]},{"type":"heading","anchor":"Written-By","level":2,"text":"Written By"},{"type":"row","numberOfColumns":5,"columns":[{"size":1,"content":[{"type":"paragraph","inlineContent":[{"identifier":"joforsell","type":"image"}]}]},{"size":4,"content":[{"text":"Johan Forsell","type":"heading","level":3,"anchor":"Johan-Forsell"},{"type":"paragraph","inlineContent":[{"overridingTitle":"Contributed Notes","type":"reference","overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}],"isActive":true,"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/joforsell"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/joforsell"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"type":"reference","isActive":true,"identifier":"https:\/\/x.com\/joforselldev"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"type":"reference","isActive":true,"identifier":"https:\/\/bartab.info"}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Missing anything? Corrections? "},{"type":"reference","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","isActive":true}]},{"type":"heading","anchor":"Related-Sessions","level":2,"text":"Related Sessions"},{"type":"links","style":"list","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10027-Bring-widgets-to-new-places","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10103-Explore-enhancements-to-App-Intents","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10184-Meet-ActivityKit","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10185-Update-Live-Activities-with-push-notifications","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10252-Build-programmatic-UI-with-Xcode-Previews","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10032-Dive-into-App-Intents"]},{"type":"small","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Legal Notice"}]}]},{"type":"small","inlineContent":[{"type":"text","text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved."},{"text":" ","type":"text"},{"text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries.","type":"text"},{"text":" ","type":"text"},{"text":"This website is not made by, affiliated with, nor endorsed by Apple.","type":"text"}]}],"kind":"content"}],"abstract":[{"type":"text","text":"Learn how to make animated and interactive widgets for your apps and games. We’ll show you how to tweak animations for entry transitions and add interactivity using SwiftUI Button and Toggle so that you can create powerful moments right from the Home Screen and Lock Screen."}],"sampleCodeDownload":{"action":{"isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/wwdc23\/10028","overridingTitle":"Watch Video (18 min)"},"kind":"sampleDownload"},"sections":[],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc23-10028-bring-widgets-to-life"]}],"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23"]]},"references":{"WWDC23.jpeg":{"identifier":"WWDC23.jpeg","alt":null,"variants":[{"url":"\/images\/WWDC23.jpeg","traits":["1x","light"]}],"type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10027-Bring-widgets-to-new-places":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10027-Bring-widgets-to-new-places","kind":"article","type":"topic","title":"Bring widgets to new places","url":"\/documentation\/wwdcnotes\/wwdc23-10027-bring-widgets-to-new-places","abstract":[{"type":"text","text":"The widget ecosystem is expanding: Discover how you can use the latest WidgetKit APIs to make your widget look great everywhere. We’ll show you how to identify your widget’s background, adjust layout dynamically, and prepare colors for vibrant rendering so that your widget can sit seamlessly in any environment."}],"role":"sampleCode"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10184-Meet-ActivityKit":{"kind":"article","role":"sampleCode","title":"Meet ActivityKit","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc23-10184-meet-activitykit","abstract":[{"text":"Live Activities are a glanceable way for someone to keep track of the progress of a task within your app. We’ll teach you how you can create helpful experiences for the Lock Screen, the Dynamic Island, and StandBy. Learn how to update your app’s Live Activities, monitor activity state, and take advantage of WidgetKit and SwiftUI to build richer experiences.","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10184-Meet-ActivityKit"},"doc://WWDCNotes/documentation/WWDCNotes":{"abstract":[{"text":"Session notes shared by the community for the community.","type":"text"}],"type":"topic","url":"\/documentation\/wwdcnotes","kind":"symbol","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","images":[{"type":"icon","identifier":"WWDCNotes.png"}],"title":"WWDC Notes","role":"collection"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23":{"images":[{"type":"icon","identifier":"WWDC23-Icon.png"},{"type":"card","identifier":"WWDC23.jpeg"}],"role":"collectionGroup","url":"\/documentation\/wwdcnotes\/wwdc23","type":"topic","title":"WWDC23","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23","kind":"article","abstract":[{"type":"text","text":"Xcode 15, Swift 5.9, iOS 17, macOS 14 (Sonoma), tvOS 17, visionOS 1, watchOS 10."},{"type":"text","text":" "},{"type":"text","text":"New APIs: "},{"code":"SwiftData","type":"codeVoice"},{"text":", ","type":"text"},{"code":"Observation","type":"codeVoice"},{"text":", ","type":"text"},{"code":"StoreKit","type":"codeVoice"},{"type":"text","text":" views, and more."}]},"https://github.com/joforsell":{"identifier":"https:\/\/github.com\/joforsell","titleInlineContent":[{"text":"GitHub","type":"text"}],"title":"GitHub","url":"https:\/\/github.com\/joforsell","type":"link"},"https://bartab.info":{"identifier":"https:\/\/bartab.info","titleInlineContent":[{"text":"Blog","type":"text"}],"title":"Blog","url":"https:\/\/bartab.info","type":"link"},"doc://WWDCNotes/documentation/WWDCNotes/joforsell":{"title":"Johan Forsell (1 note)","url":"\/documentation\/wwdcnotes\/joforsell","type":"topic","images":[{"identifier":"joforsell.jpeg","type":"card"},{"identifier":"joforsell.jpeg","type":"icon"}],"kind":"article","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/joforsell","abstract":[{"text":"Grade school teacher turned iOS developer.","type":"text"}]},"joforsell.jpeg":{"identifier":"joforsell.jpeg","alt":null,"variants":[{"url":"\/images\/joforsell.jpeg","traits":["1x","light"]}],"type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10252-Build-programmatic-UI-with-Xcode-Previews":{"kind":"article","url":"\/documentation\/wwdcnotes\/wwdc23-10252-build-programmatic-ui-with-xcode-previews","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10252-Build-programmatic-UI-with-Xcode-Previews","abstract":[{"text":"Learn how you can use the #Preview macro on Xcode 15 to quickly iterate on your UI code written in SwiftUI, UIKit, or AppKit. Explore a collage of unique workflows for interacting with views right in the canvas, find out how to view multiple variations of UI simultaneously, and discover how you can travel through your widget’s timeline in seconds to test the transitions between entries. We’ll also show you how to add previews to libraries, provide sample assets, and preview your views in your physical devices to leverage their capabilities and existing data.","type":"text"}],"type":"topic","title":"Build programmatic UI with Xcode Previews"},"WWDC23-Icon.png":{"identifier":"WWDC23-Icon.png","alt":null,"variants":[{"url":"\/images\/WWDC23-Icon.png","traits":["1x","light"]}],"type":"image"},"https://developer.apple.com/wwdc23/10028":{"identifier":"https:\/\/developer.apple.com\/wwdc23\/10028","checksum":null,"url":"https:\/\/developer.apple.com\/wwdc23\/10028","type":"download"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10032-Dive-into-App-Intents":{"url":"\/documentation\/wwdcnotes\/wwdc22-10032-dive-into-app-intents","title":"Dive into App Intents","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10032-Dive-into-App-Intents","type":"topic","role":"sampleCode","kind":"article","abstract":[{"text":"Learn how you can make your app more discoverable and increase app engagement when you use the App Intents framework. We’ll take you through the powerful capabilities of this Swift framework, explore the differences between App Intents and SiriKit Intents, and show you how you can expose your app’s functionality to the system. We’ll also share how you can build entities and queries to create rich App Shortcuts experiences.","type":"text"}]},"https://x.com/joforselldev":{"identifier":"https:\/\/x.com\/joforselldev","titleInlineContent":[{"text":"X\/Twitter","type":"text"}],"title":"X\/Twitter","url":"https:\/\/x.com\/joforselldev","type":"link"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10103-Explore-enhancements-to-App-Intents":{"abstract":[{"text":"Bring your widgets to life with App Intents! Explore the latest updates and learn how you can take advantage of dynamic options and user interactivity to build better experiences for your App Shortcuts. We’ll share how you can integrate with Apple Pay, structure your code more efficiently, and take your Shortcuts app integration to the next level.","type":"text"}],"kind":"article","url":"\/documentation\/wwdcnotes\/wwdc23-10103-explore-enhancements-to-app-intents","type":"topic","title":"Explore enhancements to App Intents","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10103-Explore-enhancements-to-App-Intents"},"WWDCNotes.png":{"identifier":"WWDCNotes.png","alt":null,"variants":[{"url":"\/images\/WWDCNotes.png","traits":["1x","light"]}],"type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10185-Update-Live-Activities-with-push-notifications":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10185-Update-Live-Activities-with-push-notifications","kind":"article","url":"\/documentation\/wwdcnotes\/wwdc23-10185-update-live-activities-with-push-notifications","role":"sampleCode","type":"topic","title":"Update Live Activities with push notifications","abstract":[{"type":"text","text":"Discover how you can remotely update Live Activities in your app when you push content through Apple Push Notification service (APNs). We’ll show you how to configure your first Live Activity push locally so you can quickly iterate on your implementation. Learn best practices for determining your push priority and configuring alerting updates, and explore how to further improve your Live Activities with relevance score and stale date."}]},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","titleInlineContent":[{"text":"Contributions are welcome!","type":"text"}],"title":"Contributions are welcome!","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"link"},"joforsell":{"identifier":"joforsell","alt":"Profile image of Johan Forsell","variants":[{"url":"\/images\/joforsell.jpeg","traits":["1x","light"]}],"type":"image"}}}