{"abstract":[{"text":"Siri Shortcuts are a powerful new feature in iOS 12 that allow your app to expose its functionality to Siri. This enables Siri to suggest your shortcut at relevant times based on various context. Shortcuts can also be added to Siri to run with a voice phrase on iOS, HomePod and watchOS. Learn how to expose shortcuts in your app using NSUserActivity and discover the benefits of creating custom intents with SiriKit for a richer user experience.","type":"text"}],"schemaVersion":{"minor":3,"major":0,"patch":0},"variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc18-211-introduction-to-siri-shortcuts"],"traits":[{"interfaceLanguage":"swift"}]}],"sections":[],"sampleCodeDownload":{"action":{"isActive":true,"identifier":"https:\/\/developer.apple.com\/wwdc18\/211","overridingTitle":"Watch Video (48 min)","type":"reference"},"kind":"sampleDownload"},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18"]]},"metadata":{"roleHeading":"WWDC18","role":"sampleCode","modules":[{"name":"WWDC Notes"}],"title":"Introduction to Siri Shortcuts"},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-211-Introduction-to-Siri-Shortcuts"},"kind":"article","primaryContentSections":[{"content":[{"type":"heading","text":"Overview","anchor":"overview","level":2},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"identifier":"https:\/\/twitter.com\/AriX","type":"reference","isActive":true},{"text":", the first speaker in this session, is the creator of ","type":"text"},{"identifier":"https:\/\/my.workflow.is","type":"reference","isActive":true},{"text":", the app that was bought by Apple and now has become Shortcuts. Ari was also a popular jailbreaker back in the days (see Wall Street Journal interview ","type":"text"},{"identifier":"https:\/\/www.wsj.com\/articles\/SB124692204445002607","type":"reference","isActive":true},{"text":")","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Implementing ","type":"text"},{"code":"NSUserActivity","type":"codeVoice"},{"text":" (iOS 8) allows us to represent content and actions to iOS. iOS represents these intelligently to the user in the home screen.","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"iOS 12 supports custom siri extensions","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Siri Extensions can run and execute in the background."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"NSUserActivity"},{"type":"text","text":" is exposed in the siri settings and thus letting the user associate a spoken phrase with the activity (content or action)."},{"type":"text","text":" "},{"type":"text","text":"If content can be deleted we must manage deleting NSUserActivity ‘donations’ to iOS."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Shortcuts suggestions use patterns to identify what suggestion to offer to the user, these suggestions take into account time of day, location, other signals provided by the developer (input parameters to the Intentions types)","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Three main steps for your app to create shortcuts:","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Define the shortcut;","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Donate the shortcut (a.k.a. let iOS know about your shortcut);"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Handle shortcut (from the app or app extension)","type":"text"}],"type":"paragraph"}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Every shortcut should: let the user do something faster (than just opening your app and do it manually), be of the user interest (the user should want to use this shortcut multiple times), be executable at any time;","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Shortcuts supports two APIs:","type":"text"}]},{"items":[{"content":[{"inlineContent":[{"code":"NSUserActivity","type":"codeVoice"},{"text":" (which represents the app state, can also be used for spotlight and handoff)","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Siri Intents (tell the system what kind of action your app can perform);"}]}]}],"type":"unorderedList"}]},{"content":[{"inlineContent":[{"type":"text","text":"Use "},{"type":"codeVoice","code":"NSUserActivity"},{"type":"text","text":" when the shortcut will open your app or when the shortcut uses something you already index in spotlight or offer for handoff. Note that this can work only if that user activity is also eligible for search, otherwise it won’t work."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Use Intents when it can run in the pipeline without launching your app, this can be fired via siri or a button.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"SiriKit offers a few default intents, but you can now also define your own, for each intent you must:"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Choose a category (among the defaults one);"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Declare a title and a description (this will be displayed in the shortcut app);","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Declare what parameter(s) it takes (like a list of items and a location);","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Declare if it can run on the background or not (aka it can run the action with your app not open or not)"}]}]},{"content":[{"inlineContent":[{"text":"Declare your shortcut type(s) (up to 16)","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Create a Siri extension for each intent (if you run it in the background)","type":"text"}],"type":"paragraph"}]}]}]}]},{"type":"heading","text":"Written By","anchor":"Written-By","level":2},{"columns":[{"size":1,"content":[{"inlineContent":[{"type":"image","identifier":"zntfdr"}],"type":"paragraph"}]},{"size":4,"content":[{"type":"heading","text":"Federico Zanetello","anchor":"Federico-Zanetello","level":3},{"inlineContent":[{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","isActive":true,"overridingTitle":"Contributed Notes","overridingTitleInlineContent":[{"text":"Contributed Notes","type":"text"}],"type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/github.com\/zntfdr","isActive":true,"type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/zntfdr.dev","isActive":true,"type":"reference"}],"type":"paragraph"}]}],"type":"row","numberOfColumns":5},{"type":"paragraph","inlineContent":[{"type":"text","text":"Missing anything? Corrections? "},{"type":"reference","isActive":true,"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"}]},{"type":"heading","text":"Related Sessions","anchor":"Related-Sessions","level":2},{"type":"links","style":"list","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10231-Donate-intents-and-expand-your-apps-presence","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10264-Adopt-Quick-Note","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-202-Whats-New-in-Cocoa-Touch","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-214-Building-for-Voice-with-Siri-Shortcuts","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-217-Siri-Shortcuts-on-the-Siri-Watch-Face","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-233-Adding-Delight-to-your-iOS-App"]},{"type":"small","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Legal Notice"}]}]},{"type":"small","inlineContent":[{"type":"text","text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}]}],"kind":"content"}],"references":{"WWDC18-Icon.png":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC18-Icon.png"}],"alt":null,"identifier":"WWDC18-Icon.png","type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC18-214-Building-for-Voice-with-Siri-Shortcuts":{"abstract":[{"text":"Siri Shortcuts are a great way to help people execute actions or get information from your app, but shortcuts can be made even more powerful by adding them to Siri to be used with a simple phrase. Learn how you can now customize responses from Siri and add custom UI to make a great shortcuts experience across iOS, watchOS and HomePod. See how to allow users to add and manage shortcuts from right within your app and learn best practices to make shortcut suggestions that can be exposed through Settings.","type":"text"}],"kind":"article","type":"topic","title":"Building for Voice with Siri Shortcuts","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-214-Building-for-Voice-with-Siri-Shortcuts","url":"\/documentation\/wwdcnotes\/wwdc18-214-building-for-voice-with-siri-shortcuts","role":"sampleCode"},"https://my.workflow.is":{"url":"https:\/\/my.workflow.is","title":"Workflow","titleInlineContent":[{"text":"Workflow","type":"text"}],"identifier":"https:\/\/my.workflow.is","type":"link"},"zntfdr":{"variants":[{"traits":["1x","light"],"url":"\/images\/zntfdr.jpeg"}],"alt":"Profile image of Federico Zanetello","identifier":"zntfdr","type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC18-217-Siri-Shortcuts-on-the-Siri-Watch-Face":{"type":"topic","url":"\/documentation\/wwdcnotes\/wwdc18-217-siri-shortcuts-on-the-siri-watch-face","kind":"article","role":"sampleCode","abstract":[{"type":"text","text":"Learn how to use Siri Shortcuts to bring glanceable information and custom interactions to the Siri watch face. Walk through how to create a compelling user experience by providing relevant shortcuts and by donating interactions from your app. See how these experiences can be created from both watchOS and iOS."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-217-Siri-Shortcuts-on-the-Siri-Watch-Face","title":"Siri Shortcuts on the Siri Watch Face"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC18-202-Whats-New-in-Cocoa-Touch":{"type":"topic","kind":"article","role":"sampleCode","title":"What’s New in Cocoa Touch","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-202-Whats-New-in-Cocoa-Touch","url":"\/documentation\/wwdcnotes\/wwdc18-202-whats-new-in-cocoa-touch","abstract":[{"text":"iOS 12 enhances the Cocoa Touch frameworks to improve app performance and deliver exciting new features. Learn about performance best practices, security improvements, tools for supporting multiple screen sizes and shapes, new APIs for iMessage apps, Siri Shortcuts, and Swift refinements. Find out which sessions you won’t want to miss throughout the week.","type":"text"}]},"https://github.com/zntfdr":{"url":"https:\/\/github.com\/zntfdr","title":"GitHub","titleInlineContent":[{"text":"GitHub","type":"text"}],"identifier":"https:\/\/github.com\/zntfdr","type":"link"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10231-Donate-intents-and-expand-your-apps-presence":{"kind":"article","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10231-Donate-intents-and-expand-your-apps-presence","url":"\/documentation\/wwdcnotes\/wwdc21-10231-donate-intents-and-expand-your-apps-presence","role":"sampleCode","title":"Donate intents and expand your app’s presence","abstract":[{"type":"text","text":"Discover how you can make key parts of your app available for someone at exactly the right moment — without them ever needing to open it. Learn how to craft and donate intents to the system, helping you surface relevant and contextual information about your app in Siri, Focus, Shortcuts, the Smart Stack, and more. We’ll explore how the system intelligently identifies information and show you techniques for structuring intents to help increase engagement and visibility for your app."}]},"doc://WWDCNotes/documentation/WWDCNotes/zntfdr":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","role":"sampleCode","abstract":[{"text":"Software engineer with a strong passion for well-written code, thought-out composable architectures, automation, tests, and more.","type":"text"}],"type":"topic","images":[{"identifier":"zntfdr.jpeg","type":"card"},{"identifier":"zntfdr.jpeg","type":"icon"}],"title":"Federico Zanetello (332 notes)","kind":"article","url":"\/documentation\/wwdcnotes\/zntfdr"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC18":{"images":[{"identifier":"WWDC18-Icon.png","type":"icon"},{"identifier":"WWDC18.jpeg","type":"card"}],"abstract":[{"type":"text","text":"Xcode 10, Swift 4.2, iOS 12, macOS 10.14 (Mojave), tvOS 12, watchOS 5."}],"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18","kind":"article","url":"\/documentation\/wwdcnotes\/wwdc18","role":"collectionGroup","title":"WWDC18"},"zntfdr.jpeg":{"variants":[{"traits":["1x","light"],"url":"\/images\/zntfdr.jpeg"}],"alt":null,"identifier":"zntfdr.jpeg","type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10264-Adopt-Quick-Note":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10264-Adopt-Quick-Note","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc21-10264-adopt-quick-note","abstract":[{"text":"Learn how you can link your app to Quick Note and help people quickly connect your content to their notes — and their notes to your content. Discover how Quick Note recognizes and links to app content through NSUserActivity, and find out how you can adopt this API in your app. We’ll take you through the requirements, benefits, and features of supporting Quick Note. We’ll also provide guidance and best practices for NSUserActivity to help your app get all of its benefits.","type":"text"}],"kind":"article","role":"sampleCode","title":"Adopt Quick Note"},"https://www.wsj.com/articles/SB124692204445002607":{"url":"https:\/\/www.wsj.com\/articles\/SB124692204445002607","title":"here","titleInlineContent":[{"text":"here","type":"text"}],"identifier":"https:\/\/www.wsj.com\/articles\/SB124692204445002607","type":"link"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","title":"Contributions are welcome!","titleInlineContent":[{"text":"Contributions are welcome!","type":"text"}],"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"link"},"doc://WWDCNotes/documentation/WWDCNotes":{"kind":"symbol","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","role":"collection","abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"images":[{"identifier":"WWDCNotes.png","type":"icon"}],"url":"\/documentation\/wwdcnotes","title":"WWDC Notes"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC18-233-Adding-Delight-to-your-iOS-App":{"url":"\/documentation\/wwdcnotes\/wwdc18-233-adding-delight-to-your-ios-app","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-233-Adding-Delight-to-your-iOS-App","title":"Adding Delight to your iOS App","type":"topic","abstract":[{"text":"iOS contains powerful technologies you can use to make your app truly delightful. Learn how to take your app to the next level with easy-to-implement features such as Handoff and External Display support. Preserve that feeling of magic in your app with pro-tips that combine animations, gestures and layout, while keeping your scrolling smooth, and your code scalable. Dive into the anatomy of a launch to get your app responsive quickly, and learn some great debugging tricks from the pros!","type":"text"}],"kind":"article"},"WWDCNotes.png":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes.png"}],"alt":null,"identifier":"WWDCNotes.png","type":"image"},"https://twitter.com/AriX":{"url":"https:\/\/twitter.com\/AriX","title":"Ari Weinstein","titleInlineContent":[{"text":"Ari Weinstein","type":"text"}],"identifier":"https:\/\/twitter.com\/AriX","type":"link"},"https://zntfdr.dev":{"url":"https:\/\/zntfdr.dev","title":"Blog","titleInlineContent":[{"text":"Blog","type":"text"}],"identifier":"https:\/\/zntfdr.dev","type":"link"},"https://developer.apple.com/wwdc18/211":{"url":"https:\/\/developer.apple.com\/wwdc18\/211","checksum":null,"identifier":"https:\/\/developer.apple.com\/wwdc18\/211","type":"download"},"WWDC18.jpeg":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC18.jpeg"}],"alt":null,"identifier":"WWDC18.jpeg","type":"image"}}}