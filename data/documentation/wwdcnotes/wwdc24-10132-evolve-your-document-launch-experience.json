{"metadata":{"modules":[{"name":"WWDC Notes"}],"roleHeading":"WWDC24","role":"sampleCode","title":"Evolve your document launch experience"},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc24-10132-evolve-your-document-launch-experience"]}],"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC24"]]},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC24-10132-Evolve-your-document-launch-experience"},"schemaVersion":{"major":0,"patch":0,"minor":3},"abstract":[{"type":"text","text":"Make your document-based app stand out, and bring its unique identity into focus with the new document launch experience. Learn how to leverage the new API to customize the first screen people see when they launch your app. Utilize the new system-provided design, and amend it with custom actions, delightful decorative views, and impressive animations."}],"primaryContentSections":[{"content":[{"anchor":"Design-Overview","text":"Design Overview","level":2,"type":"heading"},{"inlineContent":[{"type":"text","text":"New design for the launch experience you can adopt, looks like this:"}],"type":"paragraph"},{"inlineContent":[{"identifier":"WWDC24-10132-New-Design","type":"image"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"The header ist customizable, with a background color or image, foreground and background accessory views, and primary and secondary buttons:"}],"type":"paragraph"},{"tabs":[{"content":[{"inlineContent":[{"type":"image","identifier":"WWDC24-10132-Background"}],"type":"paragraph"}],"title":"Background Color or Image"},{"content":[{"inlineContent":[{"identifier":"WWDC24-10132-Accessories","type":"image"}],"type":"paragraph"}],"title":"Accessory Views"},{"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC24-10132-Primary-button"}]}],"title":"Primary Button"},{"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC24-10132-Secondary-button"}]}],"title":"Secondary Button"}],"type":"tabNavigator"},{"inlineContent":[{"type":"text","text":"The big title is the name of the app. The document browser can be found below:"}],"type":"paragraph"},{"inlineContent":[{"identifier":"WWDC24-10132-Document-browser","type":"image"}],"type":"paragraph"},{"anchor":"Getting-Started","text":"Getting Started","level":2,"type":"heading"},{"inlineContent":[{"type":"text","text":"For a SwiftUI app, it’s enough to recompile with iOS 18 SDKs. It will automatically use the new style then."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Works also in UIKit if "},{"type":"codeVoice","code":"UIDocumentViewController"},{"type":"text","text":" is the apps root view controller. No need for "},{"type":"codeVoice","code":"UIDocumentBrowserViewController"},{"type":"text","text":" anymore, the "},{"type":"codeVoice","code":"UIDocumentViewController"},{"type":"text","text":" includes one automatically starting in iOS 18."}],"type":"paragraph"},{"inlineContent":[{"text":"Instead of this for iOS 17 when using UIKit:","type":"text"}],"type":"paragraph"},{"syntax":"swift","code":["class DocumentViewController: UIDocumentViewController { ... }","","let documentViewController = DocumentViewController()","let browserViewController = UIDocumentBrowserViewController(","    forOpening: [.plainText]",")","window.rootViewController = browserViewController","browserViewController.delegate = self","","\/\/ MARK: UIDocumentBrowserViewControllerDelegate","","func documentBrowser(","    _ browser: UIDocumentBrowserViewController, ","    didPickDocumentsAt documentURLs: [URL]",") {","    guard let url = documentURLs.first else { return }","    documentViewController.document = StoryDocument(fileURL: url)","    browser.present(documentViewController, animated: true)","}"],"type":"codeListing"},{"inlineContent":[{"type":"text","text":"You can write this in iOS 18 in UIKit:"}],"type":"paragraph"},{"syntax":"swift","code":["class DocumentViewController: UIDocumentViewController { ... }","","let documentViewController = DocumentViewController()","window.rootViewController = documentViewController"],"type":"codeListing"},{"anchor":"Customization","text":"Customization","level":2,"type":"heading"},{"inlineContent":[{"text":"In SwiftUI, you can use the new experience using a ","type":"text"},{"code":"DocumentGroupLaunchScene","type":"codeVoice"},{"text":" like this:","type":"text"}],"type":"paragraph"},{"syntax":"swift","code":["DocumentGroupLaunchScene {","    NewDocumentButton(\"Start Writing\")","} background: {","    Image(.pinkJungle)","        .resizable()","        .aspectRatio(contentMode: .fill)","}"],"type":"codeListing"},{"inlineContent":[{"type":"text","text":"You can add accessory views and position them like so:"}],"type":"paragraph"},{"syntax":"swift","code":["DocumentGroupLaunchScene {","    NewDocumentButton(\"Start Writing\")","} background: {","...","} overlayAccessoryView: { geometry in","    ZStack {","        Image(.robot)","            .position(","                x: geometry.titleViewFrame.minX, ","                y: geometry.titleViewFrame.minY","            )","        Image(.plant)","            .position(","                x: geometry.titleViewFrame.maxX, ","                y: geometry.titleViewFrame.maxY","            )","    }","}"],"type":"codeListing"},{"inlineContent":[{"type":"text","text":"In UIKit you can customize using the "},{"type":"codeVoice","code":"launchOptions"},{"type":"text","text":" property like this:"}],"type":"paragraph"},{"syntax":"swift","code":["class DocumentViewController: UIDocumentViewController {","    override func viewDidLoad() {","        super.viewDidLoad()","","        \/\/ Update the background","        launchOptions.background.image = UIImage(resource: .pinkJungle)","","        \/\/ Add foreground accessories","        launchOptions.foregroundAccessoryView = ForegroundAccessoryView()","    }","}"],"type":"codeListing"},{"inlineContent":[{"type":"text","text":"Templates are a grat way to speed up the coherence to specific format, layout, or style and are supported. They can be stored on disk or downloaded from the Web."}],"type":"paragraph"},{"inlineContent":[{"text":"When presenting a custom picker for your templates in SwiftUI, use a ","type":"text"},{"code":"CheckedContinutation","type":"codeVoice"},{"text":" like so:","type":"text"}],"type":"paragraph"},{"syntax":"swift","code":["@State private var creationContinuation: CheckedContinuation<StoryDocument?, any Error>?","@State private var isTemplatePickerPresented = false","","DocumentGroupLaunchScene {","    NewDocumentButton(\"Start Writing\")","    NewDocumentButton(\"Choose a Template\", for: StoryDocument.self) {","        try await withCheckedThrowingContinuation { continuation in","            self.creationContinuation = continuation","            self.isTemplatePickerPresented = true","        }","    }","    .sheet(isPresented: $isTemplatePickerPresented) {","        TemplatePicker(continuation: $creationContinuation","    }","}"],"type":"codeListing"},{"inlineContent":[{"type":"text","text":"Then in you custom picker, you "},{"type":"codeVoice","code":"resume"},{"type":"text","text":" the continuation like so:"}],"type":"paragraph"},{"syntax":"swift","code":["struct TemplatePicker: View {","    @Binding var creationContinuation: CheckedContinuation<StoryDocument?, any Error>?","","    var body: some View {","        Button(\"Three Act Structure\") {","            creationContinuation?.resume(returning: StoryDocument.threeActStructure())","            creationContinuation = nil","        }","    }","}","","extension StoryDocument {","    static func threeActStructure() -> Self {","        Self.init(...)","    }","}"],"type":"codeListing"},{"inlineContent":[{"type":"text","text":"In UIKit, define an intent:"}],"type":"paragraph"},{"syntax":"swift","code":["extension UIDocument.CreationIntent {","    static let template = UIDocument.CreationIntent(\"template\")","}"],"type":"codeListing"},{"inlineContent":[{"text":"Then in the document view controller setup, assign the action to the ","type":"text"},{"code":"launchOptions","type":"codeVoice"},{"text":", assign the browser delegate and read the ","type":"text"},{"code":"activeDocumentCreationIntent","type":"codeVoice"},{"text":" like so:","type":"text"}],"type":"paragraph"},{"syntax":"swift","code":["launchOptions.secondaryAction = LaunchOptions.createDocumentAction(with: .template) ","launchOptions.browserViewController.delegate = self","","\/\/ MARK: UIDocumentBrowserViewControllerDelegate","","func documentBrowser(","    _ browser: UIDocumentBrowserViewController, ","    didRequestDocumentCreationWithHandler importHandler: @escaping (URL?, ImportMode) -> Void) ","{","    switch browser.activeDocumentCreationIntent {","    case .template: ","        presentTemplatePicker(with: importHandler)","    default:","        let newDocumentURL = \/\/ ...","        importHandler(newDocumentURL, .copy)","    }","}"],"type":"codeListing"},{"anchor":"Written-By","text":"Written By","level":2,"type":"heading"},{"numberOfColumns":5,"columns":[{"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"Jeehut"}]}],"size":1},{"content":[{"level":3,"type":"heading","text":"Cihat Gündüz","anchor":"Cihat-Gündüz"},{"inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/Jeehut","overridingTitle":"Contributed Notes","overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}]},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"isActive":true,"type":"reference","identifier":"https:\/\/github.com\/Jeehut"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"isActive":true,"type":"reference","identifier":"https:\/\/fline.dev"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"isActive":true,"type":"reference","identifier":"https:\/\/x.com\/Jeehut"}],"type":"paragraph"}],"size":4}],"type":"row"},{"inlineContent":[{"type":"text","text":"Missing anything? Corrections? "},{"isActive":true,"type":"reference","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"}],"type":"paragraph"},{"anchor":"Related-Sessions","text":"Related Sessions","level":2,"type":"heading"},{"items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10039-Build-documentbased-apps-in-SwiftUI","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10056-Build-better-documentbased-apps"],"style":"list","type":"links"},{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Legal Notice","type":"text"}]}],"type":"small"},{"inlineContent":[{"type":"text","text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}],"type":"small"}],"kind":"content"}],"kind":"article","sampleCodeDownload":{"action":{"isActive":true,"identifier":"https:\/\/developer.apple.com\/wwdc24\/10132","overridingTitle":"Watch Video","type":"reference"},"kind":"sampleDownload"},"sections":[],"references":{"Jeehut":{"alt":"Profile image of Cihat Gündüz","variants":[{"url":"\/images\/Jeehut.jpeg","traits":["1x","light"]}],"identifier":"Jeehut","type":"image"},"https://fline.dev":{"url":"https:\/\/fline.dev","titleInlineContent":[{"text":"Blog","type":"text"}],"identifier":"https:\/\/fline.dev","type":"link","title":"Blog"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10039-Build-documentbased-apps-in-SwiftUI":{"role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc20-10039-build-documentbased-apps-in-swiftui","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10039-Build-documentbased-apps-in-SwiftUI","type":"topic","title":"Build document-based apps in SwiftUI","abstract":[{"type":"text","text":"Learn how to build a document-based app entirely in SwiftUI! We’ll walk you through the DocumentGroup API and how it composes with your App and Scenes, allowing you to add out-of-the-box support for document management — such as document browsing and standard commands — no heavy lifting required. You’ll learn to set up Universal Type Identifiers as well as gain understanding into what makes a top-notch document-based app."}]},"https://developer.apple.com/wwdc24/10132":{"url":"https:\/\/developer.apple.com\/wwdc24\/10132","identifier":"https:\/\/developer.apple.com\/wwdc24\/10132","checksum":null,"type":"download"},"WWDC24-10132-Document-browser":{"identifier":"WWDC24-10132-Document-browser","variants":[{"url":"\/images\/WWDC24-10132-Document-browser.jpeg","traits":["1x","light"]}],"type":"image","alt":null},"WWDC24-Icon.png":{"identifier":"WWDC24-Icon.png","variants":[{"url":"\/images\/WWDC24-Icon.png","traits":["1x","light"]}],"type":"image","alt":null},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"titleInlineContent":[{"text":"Contributions are welcome!","type":"text"}],"type":"link","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","title":"Contributions are welcome!"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10056-Build-better-documentbased-apps":{"kind":"article","type":"topic","role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc23-10056-build-better-documentbased-apps","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10056-Build-better-documentbased-apps","title":"Build better document-based apps","abstract":[{"text":"Discover how you can use the latest features in iPadOS to improve your document-based apps. We’ll show you how to take advantage of UIDocument as well as existing desktop-class iPad and document-based APIs to add new features in your app. Find out how to convert data models to UIDocument, present documents with UIDocumentViewController, learn how to migrate your apps to the latest APIs, and explore best practices.","type":"text"}]},"doc://WWDCNotes/documentation/WWDCNotes":{"type":"topic","abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"images":[{"type":"icon","identifier":"WWDCNotes.png"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","kind":"symbol","url":"\/documentation\/wwdcnotes","title":"WWDC Notes","role":"collection"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC24":{"images":[{"type":"icon","identifier":"WWDC24-Icon.png"},{"type":"card","identifier":"WWDC24.jpeg"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC24","url":"\/documentation\/wwdcnotes\/wwdc24","kind":"article","role":"collectionGroup","type":"topic","abstract":[{"type":"text","text":"Xcode 16, Swift 6, iOS 18, macOS 15 (Sequoia), tvOS 18, visionOS 2, watchOS 11."},{"type":"text","text":" "},{"type":"text","text":"New APIs: Swift Testing, "},{"type":"codeVoice","code":"FinanceKit"},{"type":"text","text":", "},{"code":"TabletopKit","type":"codeVoice"},{"text":", and more.","type":"text"}],"title":"WWDC24"},"WWDC24.jpeg":{"alt":null,"variants":[{"url":"\/images\/WWDC24.jpeg","traits":["1x","light"]}],"identifier":"WWDC24.jpeg","type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/Jeehut":{"abstract":[{"text":"Spatial-first Indie Developer for  Platforms. Actively contributing to Open Source since 2011!","type":"text"}],"images":[{"identifier":"Jeehut.jpeg","type":"card"},{"identifier":"Jeehut.jpeg","type":"icon"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/Jeehut","url":"\/documentation\/wwdcnotes\/jeehut","kind":"article","role":"sampleCode","title":"Cihat Gündüz (58 notes)","type":"topic"},"WWDC24-10132-Secondary-button":{"type":"image","alt":null,"variants":[{"url":"\/images\/WWDC24-10132-Secondary-button.jpeg","traits":["1x","light"]}],"identifier":"WWDC24-10132-Secondary-button"},"WWDC24-10132-Accessories":{"type":"image","alt":null,"variants":[{"url":"\/images\/WWDC24-10132-Accessories.jpeg","traits":["1x","light"]}],"identifier":"WWDC24-10132-Accessories"},"Jeehut.jpeg":{"type":"image","alt":null,"variants":[{"url":"\/images\/Jeehut.jpeg","traits":["1x","light"]}],"identifier":"Jeehut.jpeg"},"WWDC24-10132-Background":{"identifier":"WWDC24-10132-Background","variants":[{"url":"\/images\/WWDC24-10132-Background.jpeg","traits":["1x","light"]}],"type":"image","alt":null},"https://github.com/Jeehut":{"url":"https:\/\/github.com\/Jeehut","identifier":"https:\/\/github.com\/Jeehut","title":"GitHub","type":"link","titleInlineContent":[{"type":"text","text":"GitHub"}]},"WWDC24-10132-New-Design":{"identifier":"WWDC24-10132-New-Design","variants":[{"url":"\/images\/WWDC24-10132-New-Design.jpeg","traits":["1x","light"]}],"type":"image","alt":null},"WWDC24-10132-Primary-button":{"identifier":"WWDC24-10132-Primary-button","variants":[{"url":"\/images\/WWDC24-10132-Primary-button.jpeg","traits":["1x","light"]}],"type":"image","alt":null},"WWDCNotes.png":{"identifier":"WWDCNotes.png","variants":[{"url":"\/images\/WWDCNotes.png","traits":["1x","light"]}],"type":"image","alt":null},"https://x.com/Jeehut":{"url":"https:\/\/x.com\/Jeehut","titleInlineContent":[{"type":"text","text":"X\/Twitter"}],"identifier":"https:\/\/x.com\/Jeehut","type":"link","title":"X\/Twitter"}}}