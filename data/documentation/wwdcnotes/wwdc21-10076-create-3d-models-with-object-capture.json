{"kind":"article","sampleCodeDownload":{"action":{"type":"reference","overridingTitle":"Watch Video (27 min)","isActive":true,"identifier":"https:\/\/developer.apple.com\/wwdc21\/10076"},"kind":"sampleDownload"},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21"]]},"schemaVersion":{"major":0,"patch":0,"minor":3},"primaryContentSections":[{"kind":"content","content":[{"type":"heading","text":"Key Terms","level":2,"anchor":"Key-Terms"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Photogrammetry"}]},{"type":"text","text":": computer vision technique ("},{"type":"reference","identifier":"https:\/\/en.wikipedia.org\/wiki\/Photogrammetry","isActive":true},{"type":"text","text":")"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Object Capture"}],"type":"strong"},{"text":": Photogrammetry API provided by Apple to build apps which take a collection of images and create an AR model object.","type":"text"}]}]}]},{"type":"heading","text":"Object Capture Overview","level":2,"anchor":"Object-Capture-Overview"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Prior to API, we would need to hire a professional photographer to spend hours modeling it.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"With Object Capture:"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Take photos of object from every angle."}]}]},{"content":[{"inlineContent":[{"text":"Copy to Mac that supports Object Capture API.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Create a 3D geometric mesh as well as various material maps (Photogrammetry)","type":"text"}],"type":"paragraph"}]}]},{"type":"heading","text":"Capturing Photos","level":2,"anchor":"Capturing-Photos"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Pick an object that has sufficient texture detail (avoid transparency or highly reflective regions)"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Ensure the object is in focus, capture from all angles, get close to the object, 20-200 images","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Optionally, use ","type":"text"},{"isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/realitykit\/taking_pictures_for_3d_object_capture","type":"reference"},{"text":" App – demonstrates how to capture photos.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"iPhone or iPad (stereo depth data to allow for recovery of actual object size), but you can also use DSLR or even a drone.","type":"text"}]}]}]},{"type":"heading","text":"API Details","level":2,"anchor":"API-Details"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Swift API in RealityKit (macOS)","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Silicon Macs or Intel Macs with 4GB AMD and 16GB RAM"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"identifier":"https:\/\/developer.apple.com\/documentation\/realitykit\/creating_a_photogrammetry_command-line_app","isActive":true,"type":"reference"},{"type":"text","text":": command-line sample app provided by Apple to accept collection of images and turn them into an AR model"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"USDZ, USDA, or OBJ exports"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Detail: preview, reduced, medium, full, raw","type":"text"}]}]}]},{"type":"heading","text":"Getting Started","level":2,"anchor":"Getting-Started"},{"type":"heading","text":"Basic Workflow","level":3,"anchor":"Basic-Workflow"},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Create session – a fixed container (folder) of image samples (HEIC, JPG, PNG)","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Connect output stream"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Generate models","type":"text"}],"type":"paragraph"}]}]},{"type":"heading","text":"Creating a Session","level":3,"anchor":"Creating-a-Session"},{"type":"codeListing","code":["import RealityKit","","let inputFolderUrl = URL(fileURLWithPath: \"\/tmp\/Sneakers\/\", isDirectory: true)","let session = try! PhotogrammetrySession(input: inputFolderUrl,","configuration: PhotogrammetrySession.Configuration())"],"syntax":"swift"},{"type":"heading","text":"Connect Output Stream","level":3,"anchor":"Connect-Output-Stream"},{"type":"codeListing","code":["async {","    do {","        for try await output in session.outputs {","            switch output {","            case .requestProgress(let request, let fraction):","                print(\"Request progress: (fraction)\")","            case .requestComplete(let request, let result):","                if case .modelFile(let url) = result {","                    print(\"Request result output at (url).\")","                }","            case .requestError(let request, let error):","                print(\"Error: (request) error=(error)\")","            case .processingComplete:","                print(\"Completed!\")","                handleComplete()","            default:  \/\/ Or handle other messages...","                break","            }","        }","    } catch {","        print(\"Fatal session error! (error)\")","    }","}"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"Output messages","type":"text"}]},{"text":" ","type":"text"},{"text":"• requestProgress progress of request","type":"text"},{"text":" ","type":"text"},{"text":"• requestComplete with model or bounds","type":"text"},{"text":" ","type":"text"},{"text":"• requestError for errors","type":"text"},{"text":" ","type":"text"},{"text":"• processingComplete when all requests have finished processing.","type":"text"}]},{"type":"heading","text":"Generating a Request","level":3,"anchor":"Generating-a-Request"},{"type":"codeListing","code":["try! session.process(requests: [","    .modelFile(\"\/tmp\/Outputs\/model-reduced.usdz\", detail: .reduced),","    .modelFile(\"\/tmp\/Outputs\/model-medium.usdz\", detail: .medium)","])"],"syntax":"swift"},{"type":"heading","text":"Interactive Workflow","level":2,"anchor":"Interactive-Workflow"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"More advanced (for interactive editing)"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Designed to allow several adjustments to preview model"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Watch ~17:00 for demo of sample app built by Apple"}],"type":"paragraph"}]}]},{"type":"heading","text":"Best Practices: Selecting the Right Output","level":2,"anchor":"Best-Practices-Selecting-the-Right-Output"},{"type":"paragraph","inlineContent":[{"type":"text","text":"![Output options. Shows reduced, medium, full, raw output options and deatils memory size, iOS compatibility, etc.][WWDC21-10076-output-options]"}]},{"type":"heading","text":"Written By","level":2,"anchor":"Written-By"},{"type":"row","numberOfColumns":5,"columns":[{"size":1,"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"derrickshowers"}]}]},{"size":4,"content":[{"level":3,"text":"Derrick Showers","type":"heading","anchor":"Derrick-Showers"},{"inlineContent":[{"overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}],"type":"reference","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/derrickshowers","isActive":true,"overridingTitle":"Contributed Notes"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","identifier":"https:\/\/github.com\/derrickshowers","isActive":true},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","identifier":"https:\/\/derrickshowers.com","isActive":true}],"type":"paragraph"}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Missing anything? Corrections? "},{"type":"reference","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","isActive":true}]},{"type":"heading","text":"Related Sessions","level":2,"anchor":"Related-Sessions"},{"type":"links","style":"list","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10128-Bring-your-world-into-augmented-reality","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10141-Explore-USD-tools-and-rendering","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10077-Create-3D-workflows-with-USD"]},{"type":"small","inlineContent":[{"type":"strong","inlineContent":[{"text":"Legal Notice","type":"text"}]}]},{"type":"small","inlineContent":[{"text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved.","type":"text"},{"text":" ","type":"text"},{"text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries.","type":"text"},{"text":" ","type":"text"},{"text":"This website is not made by, affiliated with, nor endorsed by Apple.","type":"text"}]}]}],"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10076-Create-3D-models-with-Object-Capture","interfaceLanguage":"swift"},"sections":[],"metadata":{"role":"sampleCode","modules":[{"name":"WWDC Notes"}],"title":"Create 3D models with Object Capture","roleHeading":"WWDC21"},"abstract":[{"type":"text","text":"Object Capture provides a quick and easy way to create lifelike 3D models of real-world objects using just a few images. Learn how you can get started and bring your assets to life with Photogrammetry for macOS. And discover best practices with object selection and image capture to help you achieve the highest-quality results."}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc21-10076-create-3d-models-with-object-capture"]}],"references":{"doc://WWDCNotes/documentation/WWDCNotes/derrickshowers":{"url":"\/documentation\/wwdcnotes\/derrickshowers","images":[{"type":"card","identifier":"derrickshowers.jpeg"},{"identifier":"derrickshowers.jpeg","type":"icon"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/derrickshowers","type":"topic","kind":"article","title":"Derrick Showers (1 note)","role":"sampleCode","abstract":[{"type":"text","text":"No Bio on GitHub"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10141-Explore-USD-tools-and-rendering":{"kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10141-Explore-USD-tools-and-rendering","abstract":[{"type":"text","text":"Discover the latest advancements in tooling to help you generate, inspect, and convert Universal Scene Description (USD) assets. We’ll learn about updates to these tools and help you integrate them into your content creation pipeline. We’ll also explore the power of USD Hydra rendering, and show how you can integrate it into your own apps."}],"type":"topic","role":"sampleCode","title":"Explore USD tools and rendering","url":"\/documentation\/wwdcnotes\/wwdc22-10141-explore-usd-tools-and-rendering"},"https://developer.apple.com/documentation/realitykit/creating_a_photogrammetry_command-line_app":{"identifier":"https:\/\/developer.apple.com\/documentation\/realitykit\/creating_a_photogrammetry_command-line_app","type":"link","title":"HellloPhotogrammetry","url":"https:\/\/developer.apple.com\/documentation\/realitykit\/creating_a_photogrammetry_command-line_app","titleInlineContent":[{"type":"text","text":"HellloPhotogrammetry"}]},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"link","title":"Contributions are welcome!","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","titleInlineContent":[{"type":"text","text":"Contributions are welcome!"}]},"https://derrickshowers.com":{"identifier":"https:\/\/derrickshowers.com","type":"link","title":"Blog","url":"https:\/\/derrickshowers.com","titleInlineContent":[{"type":"text","text":"Blog"}]},"https://developer.apple.com/wwdc21/10076":{"identifier":"https:\/\/developer.apple.com\/wwdc21\/10076","type":"download","url":"https:\/\/developer.apple.com\/wwdc21\/10076","checksum":null},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10128-Bring-your-world-into-augmented-reality":{"role":"sampleCode","kind":"article","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc22-10128-bring-your-world-into-augmented-reality","title":"Bring your world into augmented reality","abstract":[{"text":"Follow along as we demonstrate how you can use Object Capture and RealityKit to bring real-world objects into an augmented reality game. We’ll show you how to capture detailed items using the Object Capture framework, add them to a RealityKit project in Xcode, apply stylized shaders and animations, and use them as part of an AR experience. We’ll also share best practices when working with ARKit, RealityKit, and Object Capture.","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10128-Bring-your-world-into-augmented-reality"},"WWDC21-Icon.png":{"identifier":"WWDC21-Icon.png","type":"image","variants":[{"url":"\/images\/WWDC21-Icon.png","traits":["1x","light"]}],"alt":null},"derrickshowers":{"identifier":"derrickshowers","type":"image","variants":[{"url":"\/images\/derrickshowers.jpeg","traits":["1x","light"]}],"alt":"Profile image of Derrick Showers"},"WWDCNotes.png":{"identifier":"WWDCNotes.png","type":"image","variants":[{"url":"\/images\/WWDCNotes.png","traits":["1x","light"]}],"alt":null},"derrickshowers.jpeg":{"identifier":"derrickshowers.jpeg","type":"image","variants":[{"url":"\/images\/derrickshowers.jpeg","traits":["1x","light"]}],"alt":null},"doc://WWDCNotes/documentation/WWDCNotes":{"kind":"symbol","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","role":"collection","abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"images":[{"identifier":"WWDCNotes.png","type":"icon"}],"url":"\/documentation\/wwdcnotes","title":"WWDC Notes"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10077-Create-3D-workflows-with-USD":{"type":"topic","title":"Create 3D workflows with USD","kind":"article","role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc21-10077-create-3d-workflows-with-usd","abstract":[{"text":"Discover the flexibility, versatility and power of Pixar’s Universal Scene Description (USD) for your 3D workflows. Learn how you can use the USD file format in your professional workflows for macOS: Scan 3D models of your real-world objects using Object Capture, utilize the potential of third-party digital content creation tools, and build high-quality rendered sequences.","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10077-Create-3D-workflows-with-USD"},"https://developer.apple.com/documentation/realitykit/taking_pictures_for_3d_object_capture":{"identifier":"https:\/\/developer.apple.com\/documentation\/realitykit\/taking_pictures_for_3d_object_capture","type":"link","title":"CaptureSample","url":"https:\/\/developer.apple.com\/documentation\/realitykit\/taking_pictures_for_3d_object_capture","titleInlineContent":[{"type":"text","text":"CaptureSample"}]},"WWDC21.jpeg":{"identifier":"WWDC21.jpeg","type":"image","variants":[{"url":"\/images\/WWDC21.jpeg","traits":["1x","light"]}],"alt":null},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21","role":"collectionGroup","abstract":[{"text":"Xcode 13, Swift 5.5, iOS 15, macOS 12 (Monterey), tvOS 15, watchOS 8.","type":"text"},{"text":" ","type":"text"},{"text":"New APIs: ","type":"text"},{"type":"codeVoice","code":"MusicKit"},{"text":", ","type":"text"},{"type":"codeVoice","code":"DocC"},{"text":", ","type":"text"},{"type":"codeVoice","code":"StoreKit 2"},{"text":", and more.","type":"text"}],"type":"topic","images":[{"identifier":"WWDC21-Icon.png","type":"icon"},{"identifier":"WWDC21.jpeg","type":"card"}],"title":"WWDC21","kind":"article","url":"\/documentation\/wwdcnotes\/wwdc21"},"https://en.wikipedia.org/wiki/Photogrammetry":{"identifier":"https:\/\/en.wikipedia.org\/wiki\/Photogrammetry","type":"link","title":"Wikipedia definition","url":"https:\/\/en.wikipedia.org\/wiki\/Photogrammetry","titleInlineContent":[{"type":"text","text":"Wikipedia definition"}]},"https://github.com/derrickshowers":{"identifier":"https:\/\/github.com\/derrickshowers","type":"link","title":"GitHub","url":"https:\/\/github.com\/derrickshowers","titleInlineContent":[{"type":"text","text":"GitHub"}]}}}