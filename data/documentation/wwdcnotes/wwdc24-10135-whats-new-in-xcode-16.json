{"metadata":{"modules":[{"name":"WWDC Notes"}],"roleHeading":"WWDC24","role":"sampleCode","title":"What‚Äôs new in Xcode 16"},"sections":[],"sampleCodeDownload":{"kind":"sampleDownload","action":{"type":"reference","overridingTitle":"Watch Video (22 min)","isActive":true,"identifier":"https:\/\/developer.apple.com\/wwdc24\/10135"}},"schemaVersion":{"major":0,"minor":3,"patch":0},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC24"]]},"abstract":[{"type":"text","text":"Discover the latest productivity and performance improvements in Xcode 16. Learn about enhancements to code completion, diagnostics, and Xcode Previews. Find out more about updates in builds and explore improvements in debugging and Instruments."}],"primaryContentSections":[{"content":[{"level":2,"type":"heading","anchor":"Key-takeaways","text":"Key takeaways"},{"type":"paragraph","inlineContent":[{"type":"text","text":"ü§ì Code completion is coming and it is based on the context"}]},{"type":"paragraph","inlineContent":[{"text":"üèéÔ∏è There are build settings for your way to Swift 6 language mode","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"üöÄ Faster builds with Explicit built modules"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"üß™ New open source Testing framework"}]},{"type":"paragraph","inlineContent":[{"text":"üî• Instruments has gotten a Flame Graph view","type":"text"}]},{"type":"heading","level":2,"anchor":"Presenters","text":"Presenters"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Daisy Hernandez, Xcode Previews Engineer","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Jake Petroules, Build Experience Manager","type":"text"}],"type":"paragraph"}]}]},{"type":"heading","level":2,"anchor":"Edit","text":"Edit"},{"type":"heading","level":3,"anchor":"Code-completion","text":"Code completion"},{"type":"paragraph","inlineContent":[{"text":"The new code completion uses the context like function names and comments to suggest code. Trained for Swift and Apple SDKs.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"In Build Settings, you can now enable warnings for the upcoming language features in Swift 6 language mode. You find the settings in the section ‚ÄúSwift Compiler - Upcoming Features‚Äù.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Learn more in the session: ‚ÄúMigrate your app to Swift 6‚Äù"}]},{"type":"heading","level":2,"anchor":"Previews","text":"Previews"},{"type":"heading","level":3,"anchor":"Previewable-macro","text":"Previewable macro"},{"type":"paragraph","inlineContent":[{"text":"In previews you can now use the ","type":"text"},{"type":"codeVoice","code":"@Previewable"},{"text":" macro and have a state property to use in the preview:","type":"text"}]},{"type":"codeListing","code":["#Preview {","    @Previewable @State var currentFace = RobotFace.heart","    RobotFaceSelectorView(currentFace: $currentFace)","}"],"syntax":"swift"},{"type":"heading","level":3,"anchor":"PreviewModifier","text":"PreviewModifier"},{"type":"paragraph","inlineContent":[{"text":"If you need the share environment and data between previews, you can use ","type":"text"},{"type":"codeVoice","code":"PreviewModifier"},{"text":".","type":"text"},{"text":" ","type":"text"},{"text":"It lets you create a modifier for a preview and it is shared between previews.","type":"text"},{"text":" ","type":"text"},{"text":"In the following example, the Preview trait is extended with a static sampler for robot names:","type":"text"}]},{"type":"codeListing","code":["struct SampleRobotNamer: PreviewModifier {","    typealias Context = RobotNamer","","    static func makeSharedContext() async throws -> Context {","        let url = URL(fileURLWithPath: \"\/tmp\/local_names.txt\")","        return try await RobotNamer(url: url)","    }","    ","    func body(content: Content, context: Context) -> some View {","        content.environment(context)","    }","}","","extension PreviewTrait where T == Preview.ViewTraits {","    @MainActor static var sampleNamer: Self = .modifier(SampleRobotNamer())","}","","#Preview(traits: .sampleNamer) {","    RobotNameSelectorView()","}"],"syntax":"swift"},{"type":"heading","level":2,"anchor":"Build","text":"Build"},{"type":"heading","level":3,"anchor":"Explicit-Modules","text":"Explicit Modules"},{"type":"aside","name":"Note","content":[{"inlineContent":[{"type":"emphasis","inlineContent":[{"type":"text","text":"This feature provides improved parallelism, better diagnostics, and faster debugging, all without changing a single line of code."}]}],"type":"paragraph"}],"style":"note"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"C\/Objective-C: On by default","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Swift: Opt-in","type":"text"}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Can be enabled in Build Settings under ‚ÄúExplicitly Built Modules‚Äù"}]},{"type":"paragraph","inlineContent":[{"text":"It works by:","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Scan"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Can be found in the build log as ‚ÄúScan dependencies of "},{"type":"text","text":"‚Äù"}],"type":"paragraph"}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Build modules","type":"text"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Can be found in the build log as ‚ÄúCompiling Clang\/Swift module "},{"type":"text","text":"‚Äù"}]}]}],"type":"unorderedList"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Build source (the app code)","type":"text"}]}]}]},{"type":"aside","name":"Note","content":[{"type":"paragraph","inlineContent":[{"type":"emphasis","inlineContent":[{"text":"Previously, these operations were performed implicitly as part of compiling your source files. Now, you get a much more detailed breakdown of the build, better parallelism, and clearer error messages if the build fails due to a module issue.","type":"text"}]}]}],"style":"note"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Learn more in the session: ‚ÄúDemystify explicitly built modules‚Äù"}]},{"type":"heading","level":2,"anchor":"Debug","text":"Debug"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Faster debugging with explicit modules"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Smaller, faster debug symbols with DWARF5 on macOS Sequoia and iOS 18"}]}]}]},{"type":"paragraph","inlineContent":[{"text":"Thread performance checker now also check:","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Disk write diagnostics"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Launch diagnostics","type":"text"}]}]}]},{"type":"paragraph","inlineContent":[{"text":"The diagnostics in the Xcode Organizer now also shows the slowest code path signatures if your app takes a long time to launch on customer devices.","type":"text"}]},{"type":"heading","level":3,"anchor":"Unified-Backtrace-View","text":"Unified Backtrace View"},{"type":"paragraph","inlineContent":[{"text":"A new Unified Backtrace View is available in the debug bar. It shows the code of the call stack in a vertical view.","type":"text"}]},{"type":"heading","level":3,"anchor":"RealityKit-debugger","text":"RealityKit debugger"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The new RealityKit debugger can capture a snapshot of your running app‚Äôs entity hierarchy, which can be inspected in 3D."}]},{"type":"paragraph","inlineContent":[{"text":"Learn more in the sessions:","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Break into the RealityKit debugger","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Run, break, and inspect: Explore effective debugging in LLDB","type":"text"}],"type":"paragraph"}]}]},{"type":"heading","level":2,"anchor":"Test","text":"Test"},{"type":"paragraph","inlineContent":[{"text":"New framework: Swift Testing","type":"text"}]},{"type":"codeListing","code":["import Testing","@testable import BOTanist","","\/\/ When using the default init Plant(type:) make sure the planting style is graft","@Test","func plantingRoses() {","    \/\/ First create the two Plant structs","    let plant = Plant(type: .rose)","    let expected = Plant(type: .rose, style: .graft)","","    \/\/ Verify with #expect","    #expect(plant == expected)","}"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Tests can be in suites and have a list of inputs:"}]},{"type":"codeListing","code":["import Testing","@testable import BOTanist","","@Suite struct AnimationStateTests {","    @Test(arguments: [AnimationState.idle, .plant, .walkLoop])","    func validToTransitionToCelebrate(from state: AnimationState) async throws {","        #expect(state.isValidNextState(.celebrate) == true)","    }","}"],"syntax":null},{"type":"paragraph","inlineContent":[{"text":"Tests can be tagged:","type":"text"}]},{"type":"codeListing","code":["extension Tag {","    @Tag static var planting: Self","}","","@Test(.tags(.planting))","func myTestMethod() async throws {","    ...","}"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Tags can also be used to inlcude and exclude tests in a test plan."}]},{"type":"paragraph","inlineContent":[{"text":"Learn more in the sessions:","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Meet Swift Testing","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Go further with Swift Testing"}],"type":"paragraph"}]}]},{"type":"heading","level":3,"anchor":"Bonus","text":"Bonus"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Run tests again: Command + Shift + A, write ‚Äútest again‚Äù"}]},{"type":"heading","level":2,"anchor":"Profile","text":"Profile"},{"type":"paragraph","inlineContent":[{"type":"text","text":"From 18:43 Jake shows how to debug hangs with the new ‚ÄúFlame Graph‚Äù."}]},{"type":"heading","level":2,"anchor":"Written-By","text":"Written By"},{"type":"row","numberOfColumns":5,"columns":[{"size":1,"content":[{"inlineContent":[{"type":"image","identifier":"MortenGregersen"}],"type":"paragraph"}]},{"size":4,"content":[{"text":"Morten Bjerg Gregersen","anchor":"Morten-Bjerg-Gregersen","type":"heading","level":3},{"inlineContent":[{"isActive":true,"type":"reference","overridingTitle":"Contributed Notes","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/MortenGregersen","overridingTitleInlineContent":[{"text":"Contributed Notes","type":"text"}]},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/github.com\/MortenGregersen"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/x.com\/mortengregersen"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"isActive":true,"type":"reference","identifier":"http:\/\/atterdagapps.com"}],"type":"paragraph"}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Missing anything? Corrections? "},{"isActive":true,"type":"reference","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"}]},{"type":"heading","level":2,"anchor":"Related-Sessions","text":"Related Sessions"},{"type":"links","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC24-10169-Migrate-your-app-to-Swift-6","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC24-10171-Demystify-explicitly-built-modules","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC24-10172-Break-into-the-RealityKit-debugger","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC24-10198-Run-Break-Inspect-Explore-effective-debugging-in-LLDB","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC24-10179-Meet-Swift-Testing","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC24-10195-Go-further-with-Swift-Testing"],"style":"list"},{"type":"small","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Legal Notice"}]}]},{"type":"small","inlineContent":[{"text":"All content copyright ¬© 2012 ‚Äì 2024 Apple Inc. All rights reserved.","type":"text"},{"text":" ","type":"text"},{"text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries.","type":"text"},{"text":" ","type":"text"},{"text":"This website is not made by, affiliated with, nor endorsed by Apple.","type":"text"}]}],"kind":"content"}],"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC24-10135-Whats-new-in-Xcode-16","interfaceLanguage":"swift"},"kind":"article","variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc24-10135-whats-new-in-xcode-16"]}],"references":{"doc://WWDCNotes/documentation/WWDCNotes":{"role":"collection","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","images":[{"type":"icon","identifier":"WWDCNotes.png"}],"title":"WWDC Notes","type":"topic","abstract":[{"text":"Session notes shared by the community for the community.","type":"text"}],"kind":"symbol","url":"\/documentation\/wwdcnotes"},"WWDC24.jpeg":{"alt":null,"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC24.jpeg"}],"identifier":"WWDC24.jpeg"},"MortenGregersen":{"alt":"Profile image of Morten Bjerg Gregersen","type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/MortenGregersen.jpeg"}],"identifier":"MortenGregersen"},"https://developer.apple.com/wwdc24/10135":{"url":"https:\/\/developer.apple.com\/wwdc24\/10135","type":"download","identifier":"https:\/\/developer.apple.com\/wwdc24\/10135","checksum":null},"doc://WWDCNotes/documentation/WWDCNotes/WWDC24-10169-Migrate-your-app-to-Swift-6":{"title":"Migrate your app to Swift 6","abstract":[{"text":"Experience Swift 6 migration in action as we update an existing sample app. Learn how to migrate incrementally, module by module, and how the compiler helps you identify code that‚Äôs at risk of data races.  Discover different techniques for ensuring clear isolation boundaries and eliminating concurrent access to shared mutable state.","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC24-10169-Migrate-your-app-to-Swift-6","kind":"article","url":"\/documentation\/wwdcnotes\/wwdc24-10169-migrate-your-app-to-swift-6","role":"sampleCode","type":"topic"},"http://atterdagapps.com":{"url":"http:\/\/atterdagapps.com","titleInlineContent":[{"text":"Blog","type":"text"}],"type":"link","identifier":"http:\/\/atterdagapps.com","title":"Blog"},"https://github.com/MortenGregersen":{"url":"https:\/\/github.com\/MortenGregersen","titleInlineContent":[{"text":"GitHub","type":"text"}],"type":"link","identifier":"https:\/\/github.com\/MortenGregersen","title":"GitHub"},"WWDCNotes.png":{"alt":null,"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes.png"}],"identifier":"WWDCNotes.png"},"doc://WWDCNotes/documentation/WWDCNotes/MortenGregersen":{"title":"Morten Bjerg Gregersen (21 notes)","role":"sampleCode","kind":"article","type":"topic","abstract":[{"text":"Hi üëã I am Morten - I live in Denmark üá©üá∞","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/MortenGregersen","url":"\/documentation\/wwdcnotes\/mortengregersen","images":[{"type":"card","identifier":"MortenGregersen.jpeg"},{"type":"icon","identifier":"MortenGregersen.jpeg"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC24-10179-Meet-Swift-Testing":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC24-10179-Meet-Swift-Testing","role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc24-10179-meet-swift-testing","kind":"article","type":"topic","abstract":[{"type":"text","text":"Introducing Swift Testing: a new package for testing your code using Swift. Explore the building blocks of its powerful new API, discover how it can be applied in common testing workflows, and learn how it relates to XCTest and open source Swift."}],"title":"Meet Swift Testing"},"WWDC24-Icon.png":{"alt":null,"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC24-Icon.png"}],"identifier":"WWDC24-Icon.png"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","titleInlineContent":[{"text":"Contributions are welcome!","type":"text"}],"type":"link","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","title":"Contributions are welcome!"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC24-10172-Break-into-the-RealityKit-debugger":{"abstract":[{"text":"Meet the RealityKit debugger and discover how this new tool lets you inspect the entity hierarchy of spatial apps, debug rogue transformations, find missing entities, and detect which parts of your code are causing problems for your systems.","type":"text"}],"role":"sampleCode","kind":"article","url":"\/documentation\/wwdcnotes\/wwdc24-10172-break-into-the-realitykit-debugger","title":"Break into the RealityKit debugger","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC24-10172-Break-into-the-RealityKit-debugger","type":"topic"},"https://x.com/mortengregersen":{"url":"https:\/\/x.com\/mortengregersen","titleInlineContent":[{"text":"X\/Twitter","type":"text"}],"type":"link","identifier":"https:\/\/x.com\/mortengregersen","title":"X\/Twitter"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC24-10171-Demystify-explicitly-built-modules":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC24-10171-Demystify-explicitly-built-modules","role":"sampleCode","title":"Demystify explicitly built modules","abstract":[{"type":"text","text":"Explore how builds are changing in Xcode 16 with explicitly built modules. Discover how modules are used to build your code, how explicitly built modules improve transparency in compilation tasks, and how you can optimize your build by sharing modules across targets."}],"kind":"article","url":"\/documentation\/wwdcnotes\/wwdc24-10171-demystify-explicitly-built-modules","type":"topic"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC24":{"title":"WWDC24","images":[{"identifier":"WWDC24-Icon.png","type":"icon"},{"identifier":"WWDC24.jpeg","type":"card"}],"kind":"article","abstract":[{"text":"Xcode 16, Swift 6, iOS 18, macOS 15 (Sequoia), tvOS 18, visionOS 2, watchOS 11.","type":"text"},{"text":" ","type":"text"},{"text":"New APIs: Swift Testing, ","type":"text"},{"type":"codeVoice","code":"FinanceKit"},{"text":", ","type":"text"},{"type":"codeVoice","code":"TabletopKit"},{"type":"text","text":", and more."}],"role":"collectionGroup","url":"\/documentation\/wwdcnotes\/wwdc24","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC24"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC24-10195-Go-further-with-Swift-Testing":{"title":"Go further with Swift Testing","type":"topic","role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc24-10195-go-further-with-swift-testing","abstract":[{"text":"Learn how to write a sweet set of (test) suites using Swift Testing‚Äôs baked-in features. Discover how to take the building blocks further and use them to help expand tests to cover more scenarios, organize your tests across different suites, and optimize your tests to run in parallel.","type":"text"}],"kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC24-10195-Go-further-with-Swift-Testing"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC24-10198-Run-Break-Inspect-Explore-effective-debugging-in-LLDB":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC24-10198-Run-Break-Inspect-Explore-effective-debugging-in-LLDB","title":"Run, Break, Inspect: Explore effective debugging in LLDB","kind":"article","url":"\/documentation\/wwdcnotes\/wwdc24-10198-run-break-inspect-explore-effective-debugging-in-lldb","type":"topic","abstract":[{"type":"text","text":"Learn how to use LLDB to explore and debug codebases. We‚Äôll show you how to make the most of crashlogs and backtraces, and how to supercharge breakpoints with actions and complex stop conditions. We‚Äôll also explore how the ‚Äúp‚Äù command and the latest features in Swift 6 can enhance your debugging experience."}],"role":"sampleCode"},"MortenGregersen.jpeg":{"alt":null,"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/MortenGregersen.jpeg"}],"identifier":"MortenGregersen.jpeg"}}}