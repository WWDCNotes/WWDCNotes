{"metadata":{"roleHeading":"WWDC14","modules":[{"name":"WWDC Notes"}],"title":"View Controller Advancements in iOS 8","role":"sampleCode"},"kind":"article","hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC14"]]},"sampleCodeDownload":{"action":{"overridingTitle":"Watch Video","type":"reference","identifier":"http:\/\/developer.apple.com\/wwdc14\/214","isActive":true},"kind":"sampleDownload"},"sections":[],"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC14-214-View-Controller-Advancements-in-iOS-8","interfaceLanguage":"swift"},"primaryContentSections":[{"content":[{"type":"heading","anchor":"Support-for-Adaptive-User-Interfaces","level":2,"text":"Support for Adaptive User Interfaces"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Before iOS 8, most of your application interface\/structure was determined by looking at:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Device type"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Interface Orientation","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Size"}],"type":"paragraph"}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"From iOS 8, the first two have been reshaped into traits and trait collection. The new way to structure the app is via:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Traits and trait collection","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Size","type":"text"}],"type":"paragraph"}]}]},{"type":"heading","anchor":"Whats-a-trait-collection","level":3,"text":"What’s a trait collection?"},{"type":"paragraph","inlineContent":[{"type":"text","text":"A collection of traits, more specifically:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"horizontalSizeClass","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"verticalSizeClass"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"userInterfaceIdiom"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"displayScale","type":"text"}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"What’s a (horizontal\/vertical) size class? A trait that coarsely defines the space available for that axis (possible values: "},{"type":"codeVoice","code":".compact"},{"type":"text","text":" or "},{"type":"codeVoice","code":".regular"},{"type":"text","text":")"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Most UIKit objects conform to a new "},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/uitraitenvironment","isActive":true},{"type":"text","text":" that both provide the current trait collection and also lets us get notified when the trait environment changes:"}]},{"type":"codeListing","syntax":"objc","code":["@protocol UITraitEnvironment <NSObject>","  @property UITraitCollection *traitCollection;","  - (void)traitCollectionDidChange:","@end"]},{"type":"paragraph","inlineContent":[{"text":"A parent view controller can override the trait collection for its child. For example, a ","type":"text"},{"type":"codeVoice","code":"UISplitViewController"},{"text":" might give different traits to its primary and secondary view controllers.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"How to:","type":"text"}]},{"type":"codeListing","syntax":"objc","code":["@interface UIViewController <UITraitEnvironment>","  - (void)setOverrideTraitCollection: forChildViewController:","  - (UITraitCollection *)overrideTraitCollectionForChildViewController:","@end"]},{"type":"heading","anchor":"Presentation-Controllers","level":2,"text":"Presentation Controllers"},{"type":"paragraph","inlineContent":[{"text":"For finer control on custom transitions, from iOS 8 we have ","type":"text"},{"type":"codeVoice","code":"UIPresentationController"},{"text":", which takes care of calling and retaining references to various parts of each transition (e.g., the ","type":"text"},{"type":"codeVoice","code":"containerView"},{"text":", the ","type":"text"},{"type":"codeVoice","code":"presentedView"},{"text":"). Note that the presented view might not be the presented view controller view, as UIKit might add a dimming view\/drop shadow around that view because that’s what the custom presentation demanded.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"To overcome this "},{"type":"codeVoice","code":"UIViewControllerContextTransitioning"},{"type":"text","text":" now offers a new "},{"type":"codeVoice","code":"view(forKey:)"},{"type":"text","text":" besides the old "},{"type":"codeVoice","code":"viewController(forKey:)"},{"type":"text","text":", make sure to use this new function to figure out which views are actually participating in the animation."}]},{"type":"codeListing","syntax":"objc","code":["@protocol UIViewControllerContextTransitioning","  - (UIView *)viewForKey:(NSString *)key AVAILABLE_IOS(8_0);","@end","","@interface UIPresentationController : NSObject","          <UIAppearanceContainer, UITraitEnvironment, UIContentContainer>","","  @property(nonatomic, readonly) UIView *containerView;","  - (UIView *)presentedView;","","  \/\/ we can decide whether we want the removal of the presenter views","  - (BOOL)shouldRemovePresentersView;","","  \/\/ we can also decide whether the presented view will take over the screen.","  \/\/ If you set this to NO, your presentation will no longer adapt.","  - (BOOL)shouldPresentInFullScreen;","@end"]},{"type":"paragraph","inlineContent":[{"text":"Previous iPad-only styles are available on the iPhone (by default they adapt to full screen presentations when the horizontal trait is ","type":"text"},{"code":".compact","type":"codeVoice"},{"text":").","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"New Presentation Styles:"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"code":"UIModalPresentationOverFullscreen","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"UIModalPresentationOverCurrentContext"}]}]},{"content":[{"inlineContent":[{"code":"UIModalPresentationPopover","type":"codeVoice"}],"type":"paragraph"}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"All presentation styles have an associated presentation controller that we can access to (to set their delegate):"}]},{"type":"codeListing","syntax":"objc","code":["-[UIViewController presentationController]","-[UIViewController popoverPresentationController]"]},{"type":"paragraph","inlineContent":[{"text":"Thanks to the ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/uiadaptivepresentationcontrollerdelegate","isActive":true,"type":"reference"},{"text":" delegate we can","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["@protocol UIAdaptivePresentationControllerDelegate <NSObject>","","  @optional","  \/\/ here for example we can tell the presentation to not adapt to full screen when the horizontal trait is compact","  - (UIModalPresentationStyle)adaptivePresentationStyleForPresentationController:","","  \/\/ allows you to return a whole new view controller that should be presented in that style.","  - (UIViewController *)presentationController:viewControllerForAdaptivePresentationStyle:","@end"]},{"type":"heading","anchor":"Transition-Coordinators","level":2,"text":"Transition Coordinators"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Objects conforming to "},{"isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/uiviewcontrollertransitioncoordinator","type":"reference"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Every transition coordinator has an associated transition","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"This coordinator can add animation blocks to the original animation"}]}]},{"content":[{"inlineContent":[{"text":"from iOS 8, transition coordinators also conform to ","type":"text"},{"isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/uicontentcontainer","type":"reference"},{"text":" (","type":"text"},{"type":"codeVoice","code":"UIViewController"},{"text":"s also conform to this)","type":"text"}],"type":"paragraph"}]}]},{"type":"codeListing","syntax":"objc","code":["@protocol UIContentContainer <NSObject>","  @property (nonatomic, assign) CGSize preferredContentSize;","  - (void)preferredContentSizeDidChangeForChildContentContainer:","  - (void)systemLayoutFittingSizeDidChangeForChildContentContainer:","  - (void)sizeForChildContentContainer:withParentContainerSize:","  - (void)willTransitionToTraitCollection:withTransitionCoordinator:","  - (void)viewWillTransitionToSize:withTransitionCoordinator:","@end"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Use "},{"type":"codeVoice","code":"- (void)willTransitionToTraitCollection:withTransitionCoordinator:"},{"type":"text","text":" to react to resizing (replaces of old deprecated rotation callbacks)."}]},{"type":"paragraph","inlineContent":[{"text":"When a trait changes, you can check ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/uiviewcontrollertransitioncoordinatorcontext","isActive":true,"type":"reference"},{"text":"’s ","type":"text"},{"code":"targetTransform","type":"codeVoice"},{"text":" to participate in the rotation animation (if there’s a rotation).","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["@protocol UIViewControllerTransitionCoordinatorContext","  - (CGAffineTransform)targetTransform;","  - (UIView *)viewForKey:(NSString *)key;","@end"]},{"type":"paragraph","inlineContent":[{"text":"For example:","type":"text"}]},{"type":"codeListing","syntax":"objc","code":["- (void) viewWillTransitionToSize:(CGSize)s","         withTransitionCoordinator:(UIVCTC)t {","  orientation = [self orientationFromTransform: [t targetTransform]]; ","  oldOrientation = [[UIApplication sharedApplication] statusBarOrientation];","","  [self myWillRotateToInterfaceOrientation:orientation duration: duration];","","  [t animateAlongsideTransition:^(id <UIVCTCContext>) {","    [self myWillAnimateRotationToInterfaceOrientation:orientation","                                             duration:duration];","  }","  completion: ^(id <UIVCTCContext>) {","    [self myDidAnimateFromInterfaceOrientation:oldOrientation];","  }];","}"]},{"type":"paragraph","inlineContent":[{"text":"Note:","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"The legacy rotation methods are still available (just don’t implement the new methods)","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Most view controller transitions are immediate when called from within the dynamic scope of this method (e.g., if you do a push here, the push will be done immediately without animation)","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Call "},{"type":"codeVoice","code":"super"},{"type":"text","text":" in order to forward to descendant view controllers"}]}]},{"content":[{"inlineContent":[{"text":"Only necessary when you need to do a special size transition","type":"text"}],"type":"paragraph"}]}]},{"type":"heading","anchor":"Written-By","level":2,"text":"Written By"},{"type":"row","columns":[{"content":[{"inlineContent":[{"type":"image","identifier":"zntfdr"}],"type":"paragraph"}],"size":1},{"content":[{"anchor":"Federico-Zanetello","text":"Federico Zanetello","type":"heading","level":3},{"inlineContent":[{"overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}],"type":"reference","isActive":true,"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","overridingTitle":"Contributed Notes"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/zntfdr"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/zntfdr.dev"}],"type":"paragraph"}],"size":4}],"numberOfColumns":5},{"type":"thematicBreak"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Missing anything? Corrections? "},{"isActive":true,"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"reference"}]},{"type":"small","inlineContent":[{"inlineContent":[{"text":"Legal Notice","type":"text"}],"type":"strong"}]},{"type":"small","inlineContent":[{"type":"text","text":"All content copyright © 2012 – 2025 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}]}],"kind":"content"}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc14-214-view-controller-advancements-in-ios-8"]}],"abstract":[{"type":"text","text":"View controllers are fundamental to creating apps on iOS. Learn about the enhancements made to view controllers in iOS 8 to improve the user experience in your apps. Dive into using and creating transition coordinators and find out about all-new additions to split view controllers and navigation controllers."}],"schemaVersion":{"major":0,"patch":0,"minor":3},"references":{"WWDC14-Icon.png":{"alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/WWDC14-Icon.png"}],"type":"image","identifier":"WWDC14-Icon.png"},"https://developer.apple.com/documentation/uikit/uiviewcontrollertransitioncoordinatorcontext":{"title":"UIViewControllerTransitionCoordinatorContext","type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/uiviewcontrollertransitioncoordinatorcontext","titleInlineContent":[{"type":"codeVoice","code":"UIViewControllerTransitionCoordinatorContext"}],"url":"https:\/\/developer.apple.com\/documentation\/uikit\/uiviewcontrollertransitioncoordinatorcontext"},"WWDC14.jpeg":{"type":"image","identifier":"WWDC14.jpeg","alt":null,"variants":[{"url":"\/images\/WWDCNotes\/WWDC14.jpeg","traits":["1x","light"]}]},"doc://WWDCNotes/documentation/WWDCNotes/zntfdr":{"title":"Federico Zanetello (332 notes)","abstract":[{"type":"text","text":"Software engineer with a strong passion for well-written code, thought-out composable architectures, automation, tests, and more."}],"type":"topic","role":"sampleCode","images":[{"type":"card","identifier":"zntfdr.jpeg"},{"type":"icon","identifier":"zntfdr.jpeg"}],"kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","url":"\/documentation\/wwdcnotes\/zntfdr"},"zntfdr":{"alt":"Profile image of Federico Zanetello","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/zntfdr.jpeg"}],"type":"image","identifier":"zntfdr"},"https://developer.apple.com/documentation/uikit/uitraitenvironment":{"title":"UITraitEnvironment","type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/uitraitenvironment","titleInlineContent":[{"type":"codeVoice","code":"UITraitEnvironment"}],"url":"https:\/\/developer.apple.com\/documentation\/uikit\/uitraitenvironment"},"https://developer.apple.com/documentation/uikit/uiviewcontrollertransitioncoordinator":{"type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/uiviewcontrollertransitioncoordinator","titleInlineContent":[{"type":"codeVoice","code":"UIViewControllerTransitionCoordinator"}],"title":"UIViewControllerTransitionCoordinator","url":"https:\/\/developer.apple.com\/documentation\/uikit\/uiviewcontrollertransitioncoordinator"},"zntfdr.jpeg":{"alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/zntfdr.jpeg"}],"type":"image","identifier":"zntfdr.jpeg"},"https://developer.apple.com/documentation/uikit/uiadaptivepresentationcontrollerdelegate":{"title":"UIAdaptivePresentationControllerDelegate","type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/uiadaptivepresentationcontrollerdelegate","titleInlineContent":[{"type":"codeVoice","code":"UIAdaptivePresentationControllerDelegate"}],"url":"https:\/\/developer.apple.com\/documentation\/uikit\/uiadaptivepresentationcontrollerdelegate"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC14":{"abstract":[{"type":"text","text":"Xcode 6, Swift 1.0, iOS 8, macOS 10.10 (Yosemite)."}],"role":"collectionGroup","images":[{"identifier":"WWDC14-Icon.png","type":"icon"},{"identifier":"WWDC14.jpeg","type":"card"}],"title":"WWDC14","url":"\/documentation\/wwdcnotes\/wwdc14","kind":"article","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC14"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"type":"link","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","titleInlineContent":[{"type":"text","text":"Contributions are welcome!"}],"title":"Contributions are welcome!","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"},"https://developer.apple.com/documentation/uikit/uicontentcontainer":{"titleInlineContent":[{"type":"codeVoice","code":"UIContentContainer"}],"title":"UIContentContainer","url":"https:\/\/developer.apple.com\/documentation\/uikit\/uicontentcontainer","type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/uicontentcontainer"},"https://zntfdr.dev":{"title":"Blog","type":"link","identifier":"https:\/\/zntfdr.dev","titleInlineContent":[{"type":"text","text":"Blog"}],"url":"https:\/\/zntfdr.dev"},"http://developer.apple.com/wwdc14/214":{"type":"download","identifier":"http:\/\/developer.apple.com\/wwdc14\/214","url":"http:\/\/developer.apple.com\/wwdc14\/214","checksum":null},"https://github.com/zntfdr":{"titleInlineContent":[{"type":"text","text":"GitHub"}],"title":"GitHub","url":"https:\/\/github.com\/zntfdr","type":"link","identifier":"https:\/\/github.com\/zntfdr"},"doc://WWDCNotes/documentation/WWDCNotes":{"type":"topic","role":"collection","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","kind":"symbol","images":[{"identifier":"WWDCNotes.png","type":"icon"}],"title":"WWDC Notes","abstract":[{"text":"Session notes shared by the community for the community.","type":"text"}],"url":"\/documentation\/wwdcnotes"},"WWDCNotes.png":{"type":"image","identifier":"WWDCNotes.png","alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/WWDCNotes.png"}]}}}