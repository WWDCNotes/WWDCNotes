{"kind":"article","identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10039-Meet-device-management-for-Apple-Watch","interfaceLanguage":"swift"},"sections":[],"schemaVersion":{"minor":3,"major":0,"patch":0},"sampleCodeDownload":{"action":{"overridingTitle":"Watch Video (17 min)","identifier":"https:\/\/developer.apple.com\/wwdc23\/10039","type":"reference","isActive":true},"kind":"sampleDownload"},"primaryContentSections":[{"content":[{"type":"heading","level":2,"text":"Enrolling Apple Watch","anchor":"Enrolling-Apple-Watch"},{"type":"heading","level":3,"text":"Considerations","anchor":"Considerations"},{"inlineContent":[{"type":"text","text":"There are a few things to consider when Apple Watch enrolls into MDM."}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"iPhone and Apple Watch are managed together","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Apps and restrictions can be shared"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Enrollment begins with iPhone"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Supervision is required","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Apple Watch is paired as a new device","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Existing Apple Watches will need to be reset to be enrolled"}],"type":"paragraph"}]}]},{"inlineContent":[{"text":"The Apple Watch enrollment flow utilizes declarative device management so your server will need to support both Apple Watch and Declarative Device Management to enroll Apple Watch. More info on declarative device management here","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"https:\/\/developer.apple.com\/videos\/play\/wwdc2023\/10041"}],"type":"paragraph"},{"type":"heading","level":3,"text":"Enrollment Flow","anchor":"Enrollment-Flow"},{"inlineContent":[{"type":"text","text":"Starting with a managed iPhone device, the administrator will send a new declaration to the phone. This example shows the new Watch Enrollment configuration"},{"type":"text","text":" "},{"type":"image","identifier":"WWDC23-10039-2configuration"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"This signifies that any Watch paired to the iPhone needs to be enrolled in MDM."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"The payload would look like this:"},{"type":"text","text":" "},{"type":"image","identifier":"WWDC23-10039-2examplepayload"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"In this payload:"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"codeVoice","code":"EnrollmentProfileURL"},{"text":" delivers the MDM profile that the Apple Watch will download and install","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"AnchorCertificateAssetReferences"},{"type":"text","text":" is an optional item that specifies an array of anchor certificates"}]}]}]},{"inlineContent":[{"type":"text","text":"Once the user initiates pairing from the phone, they will be prompted to accept Remote Management. The pairing flow will end if the user does not accept."},{"type":"text","text":" "},{"type":"image","identifier":"WWDC23-10039-3enrollment"}],"type":"paragraph"},{"type":"heading","level":3,"text":"Secure Enrollment Process","anchor":"Secure-Enrollment-Process"},{"inlineContent":[{"type":"text","text":"There are two key pieces to ensure security."}],"type":"paragraph"},{"type":"orderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"The administrator needs to verify that the host iPhone is enrolled in MDM server managed by their organization"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"They then need to identify the iPhone the Apple Watch is pairing to","type":"text"}],"type":"paragraph"}]}]},{"inlineContent":[{"text":"The new enrollment flow is as follows:","type":"text"}],"type":"paragraph"},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"During Apple Watch pairing the iPhone sends info from its configuration to the watch","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"The Apple Watch uses the URL and provided anchor certificates to make contact with the server","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The server will inspect machine info data and look for new pairing token key"}]}]},{"content":[{"inlineContent":[{"text":"Key will not be available during first attempt and return an HTTP 403 response","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Random UUID string inside 403 response will be used by the Apple Watch to start the pairing token retrieval flow"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"The iPhone will receive the security token from the Apple Watch","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"The iPhone will use the security token to do a ","type":"text"},{"code":"gettoken","type":"codeVoice"},{"text":" check-in request with the server","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"The "},{"code":"gettoken","type":"codeVoice"},{"type":"text","text":" request looks like this "},{"identifier":"WWDC23-10039-4checkin","type":"image"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"The server creates a secure pairing token and sends it to the iPhone"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"The token looks like this ","type":"text"},{"identifier":"WWDC23-10039-5token","type":"image"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"The iPhone sends the pairing token to the watch"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"The Apple Watch adds the pairing token to its machine info","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"The watch will once again send a request to the server, which will now succeed since it contains a pairing key"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The watch receives the MDM enrollment profile"}]}]},{"content":[{"inlineContent":[{"text":"MDM profile is installed at the end of the pairing flow","type":"text"}],"type":"paragraph"}]}]},{"type":"heading","level":2,"text":"Managing Device","anchor":"Managing-Device"},{"inlineContent":[{"text":"In WatchOS 10, all declaration types are supported on WatchOS. These include:","type":"text"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Configurations","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Activations","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Assets"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Status"}]}]},{"content":[{"inlineContent":[{"text":"Management","type":"text"}],"type":"paragraph"}]}]},{"inlineContent":[{"text":"Payloads, restrictions, commands, and queries can all be sent to the Apple Watch.","type":"text"}],"type":"paragraph"},{"type":"heading","level":3,"text":"Network Configurations","anchor":"Network-Configurations"},{"inlineContent":[{"type":"text","text":"The watch supports the following network configurations:"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Wi-Fi Payload"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Cellular Payload","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Per-app VPN payload","type":"text"}],"type":"paragraph"}]}]},{"type":"heading","level":3,"text":"Security Configurations","anchor":"Security-Configurations"},{"inlineContent":[{"text":"The following payloads are available on WatchOS:","type":"text"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"SCEP and ACME","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Password policy"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Restrictions","type":"text"}]}]}]},{"inlineContent":[{"text":"Restrictions and passcode rules that are applied on iPhone are synced to the paired Apple Watch","type":"text"},{"text":" ","type":"text"},{"type":"image","identifier":"WWDC23-10039-6passcode"}],"type":"paragraph"},{"inlineContent":[{"inlineContent":[{"text":"Restrictions applied directly to the Apple Watch will not be synced to the paired iPhone","type":"text"}],"type":"strong"}],"type":"paragraph"},{"type":"heading","level":3,"text":"Apple Watch Commands","anchor":"Apple-Watch-Commands"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Clear passcode","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Lock Apple Watch"}]}]},{"content":[{"inlineContent":[{"text":"Erase Apple Watch","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Unenroll from MDM","type":"text"}]}]}]},{"type":"heading","level":2,"text":"Deployment","anchor":"Deployment"},{"inlineContent":[{"text":"Apple Watch has three deployment types for applications:","type":"text"}],"type":"paragraph"},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Paired apps - shares data with iPhone app but can be run alone"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Dependent apps - require a companion iPhone app to be functional","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Standalone apps - exist only on WatchOS"}],"type":"paragraph"}]}]},{"inlineContent":[{"text":"Administrators will need to install paired and dependent apps on iPhone first before installing them on the Apple Watch.","type":"text"}],"type":"paragraph"},{"type":"heading","level":2,"text":"Written By","anchor":"Written-By"},{"type":"row","numberOfColumns":5,"columns":[{"size":1,"content":[{"inlineContent":[{"identifier":"parjohns","type":"image"}],"type":"paragraph"}]},{"size":4,"content":[{"level":3,"anchor":"P","type":"heading","text":"P"},{"inlineContent":[{"overridingTitle":"Contributed Notes","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/parjohns","type":"reference","overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}],"isActive":true},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/github.com\/parjohns","type":"reference","isActive":true},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/","type":"reference","isActive":true}],"type":"paragraph"}]}]},{"inlineContent":[{"text":"Missing anything? Corrections? ","type":"text"},{"identifier":"https:\/\/wwdcnotes.github.io\/WWDCNotes\/documentation\/wwdcnotes\/contributing","type":"reference","isActive":true}],"type":"paragraph"},{"type":"heading","level":2,"text":"Related Sessions","anchor":"Related-Sessions"},{"type":"links","style":"list","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10040-Whats-new-in-managing-Apple-devices"]},{"inlineContent":[{"inlineContent":[{"type":"text","text":"Legal Notice"}],"type":"strong"}],"type":"small"},{"inlineContent":[{"type":"text","text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}],"type":"small"}],"kind":"content"}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc23-10039-meet-device-management-for-apple-watch"]}],"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23"]]},"metadata":{"modules":[{"name":"WWDC Notes"}],"roleHeading":"WWDC23","title":"Meet device management for Apple Watch","role":"sampleCode"},"abstract":[{"type":"text","text":"Organizations can now deploy and configure Apple Watch in addition to other Apple devices. Learn how to implement device management for watchOS to help organizations improve productivity, support wellness, and provide additional support for their employees."}],"references":{"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10040-Whats-new-in-managing-Apple-devices":{"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10040-Whats-new-in-managing-Apple-devices","title":"What’s new in managing Apple devices","url":"\/documentation\/wwdcnotes\/wwdc23-10040-whats-new-in-managing-apple-devices","abstract":[{"text":"Learn about the latest management capabilities for iOS, iPadOS, and macOS. Discover how you can streamline the setup experience with enhancements to automated device enrollment and a new return-to-service option for iOS and iPadOS devices. We’ll share how to use your identity provider in even more places on macOS and show you how Apple Configurator can help automate tasks.","type":"text"}],"kind":"article","role":"sampleCode"},"WWDC23-10039-2configuration":{"identifier":"WWDC23-10039-2configuration","type":"image","variants":[{"url":"\/images\/WWDC23-10039-2configuration.JPG","traits":["1x","light"]}],"alt":"Configuration"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23":{"abstract":[{"type":"text","text":"Xcode 15, Swift 5.9, iOS 17, macOS 14 (Sonoma), tvOS 17, visionOS 1, watchOS 10."},{"type":"text","text":" "},{"type":"text","text":"New APIs: "},{"code":"SwiftData","type":"codeVoice"},{"type":"text","text":", "},{"type":"codeVoice","code":"Observation"},{"type":"text","text":", "},{"type":"codeVoice","code":"StoreKit"},{"type":"text","text":" views, and more."}],"title":"WWDC23","images":[{"type":"icon","identifier":"WWDC23-Icon.png"},{"type":"card","identifier":"WWDC23.jpeg"}],"kind":"article","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23","url":"\/documentation\/wwdcnotes\/wwdc23","role":"collectionGroup"},"parjohns":{"identifier":"parjohns","type":"image","variants":[{"url":"\/images\/parjohns.jpeg","traits":["1x","light"]}],"alt":"Profile image of P"},"https://developer.apple.com/wwdc23/10039":{"identifier":"https:\/\/developer.apple.com\/wwdc23\/10039","type":"download","checksum":null,"url":"https:\/\/developer.apple.com\/wwdc23\/10039"},"WWDC23-10039-5token":{"identifier":"WWDC23-10039-5token","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10039-5token.JPG"}],"type":"image","alt":"token"},"doc://WWDCNotes/documentation/WWDCNotes":{"type":"topic","title":"WWDC Notes","images":[{"identifier":"WWDCNotes.png","type":"icon"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","abstract":[{"text":"Session notes shared by the community for the community.","type":"text"}],"kind":"symbol","url":"\/documentation\/wwdcnotes","role":"collection"},"WWDC23-10039-3enrollment":{"identifier":"WWDC23-10039-3enrollment","variants":[{"url":"\/images\/WWDC23-10039-3enrollment.JPG","traits":["1x","light"]}],"type":"image","alt":"enrollment"},"https://wwdcnotes.github.io/WWDCNotes/documentation/wwdcnotes/contributing":{"identifier":"https:\/\/wwdcnotes.github.io\/WWDCNotes\/documentation\/wwdcnotes\/contributing","url":"https:\/\/wwdcnotes.github.io\/WWDCNotes\/documentation\/wwdcnotes\/contributing","type":"link","titleInlineContent":[{"type":"text","text":"Contributions are welcome!"}],"title":"Contributions are welcome!"},"WWDC23-Icon.png":{"identifier":"WWDC23-Icon.png","variants":[{"url":"\/images\/WWDC23-Icon.png","traits":["1x","light"]}],"type":"image","alt":null},"WWDC23-10039-2examplepayload":{"identifier":"WWDC23-10039-2examplepayload","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10039-2examplepayload.JPG"}],"type":"image","alt":"payload"},"parjohns.jpeg":{"identifier":"parjohns.jpeg","variants":[{"url":"\/images\/parjohns.jpeg","traits":["1x","light"]}],"type":"image","alt":null},"https://github.com/parjohns":{"identifier":"https:\/\/github.com\/parjohns","url":"https:\/\/github.com\/parjohns","type":"link","titleInlineContent":[{"type":"text","text":"GitHub"}],"title":"GitHub"},"WWDC23-10039-4checkin":{"identifier":"WWDC23-10039-4checkin","variants":[{"url":"\/images\/WWDC23-10039-4checkin.JPG","traits":["1x","light"]}],"type":"image","alt":"checkin"},"WWDC23-10039-6passcode":{"identifier":"WWDC23-10039-6passcode","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10039-6passcode.JPG"}],"type":"image","alt":"passcode"},"WWDCNotes.png":{"identifier":"WWDCNotes.png","variants":[{"url":"\/images\/WWDCNotes.png","traits":["1x","light"]}],"type":"image","alt":null},"doc://WWDCNotes/documentation/WWDCNotes/parjohns":{"type":"topic","abstract":[{"type":"text","text":"No Bio on GitHub"}],"kind":"article","role":"sampleCode","images":[{"type":"card","identifier":"parjohns.jpeg"},{"type":"icon","identifier":"parjohns.jpeg"}],"title":"P (5 notes)","url":"\/documentation\/wwdcnotes\/parjohns","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/parjohns"},"https://":{"identifier":"https:\/\/","url":"https:\/\/","type":"link","titleInlineContent":[{"type":"text","text":"Blog"}],"title":"Blog"},"WWDC23.jpeg":{"identifier":"WWDC23.jpeg","variants":[{"url":"\/images\/WWDC23.jpeg","traits":["1x","light"]}],"type":"image","alt":null}}}