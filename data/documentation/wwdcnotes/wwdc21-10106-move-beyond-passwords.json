{"kind":"article","identifier":{"interfaceLanguage":"swift","url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10106-Move-beyond-passwords"},"sections":[],"schemaVersion":{"major":0,"minor":3,"patch":0},"sampleCodeDownload":{"kind":"sampleDownload","action":{"isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/wwdc21\/10106","overridingTitle":"Watch Video (25 min)"}},"primaryContentSections":[{"content":[{"type":"heading","level":2,"text":"Overview","anchor":"overview"},{"type":"aside","content":[{"inlineContent":[{"isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/authenticationservices\/connecting_to_a_service_with_passkeys"}],"type":"paragraph"}],"name":"Note","style":"note"},{"type":"heading","level":2,"text":"Authentication methods","anchor":"Authentication-methods"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Memorized passwords; people generally aren’t good at coming up with and remembering strong and unique passwords for every account"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Password managers; can create strong, unique passwords per account, and can provide hints about some forms of possible phishing. iCloud Keychain’s password manager is built into iOS\/macOS"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Password + OTP; macOS Monterey and iOS 15 have a code generator built in to the iCloud Keychain password manager"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Federated authentication; lets people keep their trust confined to a small number of highly protected accounts (e.g., Sign in with Apple)"}]}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"text":"Besides federated authentication, all of these methods rely on a shared secret between the user and a server, making them fundamentally no stronger than the weakest protection of that shared secret.","type":"text"}]},{"type":"heading","level":2,"text":"Properties of a password solution:","anchor":"Properties-of-a-password-solution"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"secure by design"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"easy to use"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"works everywhere"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"recoverable"}]}]}],"type":"unorderedList"},{"type":"heading","level":2,"text":"Security keys (hardware dongles or fobs)","anchor":"Security-keys-hardware-dongles-or-fobs"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"One of the strongest security options available today"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"isActive":true,"type":"reference","identifier":"https:\/\/en.wikipedia.org\/wiki\/WebAuthn"},{"text":" (essentially RSA)","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Generally easy to use","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"More secure than passwords"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"usable on a wide variety of devices","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"no server-side secrets","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"trust comes from the browser and operating system; not the human","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"credentials are only ever usable on the websites and apps that they were created for","type":"text"}]}]}]},{"inlineContent":[{"type":"text","text":"Cons:"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"they’re not necessarily always with you","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"if the key is lost\/stolen, adopters must have a backup system in place, such as purchasing an additional security key, storing it somewhere safe, and hoping they never lose both at the same time"}],"type":"paragraph"}]}]},{"inlineContent":[{"type":"text","text":"Security keys support:"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"all browsers on iOS 14.5+","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"new security key API available from macOS Monterey and iOS 15, available to use in all apps on macOS and iOS, part of ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/documentation\/authenticationservices\/asauthorization","type":"reference","isActive":true}]}]}]},{"type":"heading","text":"Passkeys in iCloud Keychain","anchor":"Passkeys-in-iCloud-Keychain","level":2},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Technology preview (off by default, only use for testing)"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Apple’s contribution to a post-password world","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"builds the security of WebAuthn into every iPhone, iPad, and Mac"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"powered by WebAuthn"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"new type of credential, called a ","type":"text"},{"text":"passkey","type":"text"},{"text":", stored in your iCloud Keychain","type":"text"}],"type":"paragraph"}]}]},{"inlineContent":[{"text":"Comparison","type":"text"}],"type":"paragraph"},{"type":"table","header":"row","rows":[[[{"type":"paragraph","inlineContent":[]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Memorized passwords"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Password manager"}]}],[{"type":"paragraph","inlineContent":[{"text":"Password + OTP","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Security key"}]}],[{"type":"paragraph","inlineContent":[{"text":"Passkeys in iCloud Keychain","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Easy to use"}]}],[{"type":"paragraph","inlineContent":[{"text":"✅","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"✅"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"✅"}]}],[{"type":"paragraph","inlineContent":[{"text":"✅","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"✅","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"Works on all your Apple devices","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"✅","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"✅","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"✅","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"✅","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"✅","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Works on non-Apple devices"}]}],[{"type":"paragraph","inlineContent":[{"text":"✅","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"✅","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"✅","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"⚠️","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"⚠️"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Always with you"}]}],[{"type":"paragraph","inlineContent":[{"text":"✅","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"✅","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"✅"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"❌"}]}],[{"type":"paragraph","inlineContent":[{"text":"✅","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Security level"}]}],[{"type":"paragraph","inlineContent":[{"text":"❌","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"⚠️","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"⚠️"}]}],[{"type":"paragraph","inlineContent":[{"text":"✅","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"✅"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"Recoverable","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"❌","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"⚠️"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"⚠️"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"❌"}]}],[{"type":"paragraph","inlineContent":[{"text":"✅","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Phishing resistant"}]}],[{"type":"paragraph","inlineContent":[{"text":"❌","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"⚠️"}]}],[{"type":"paragraph","inlineContent":[{"text":"⚠️","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"✅"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"✅"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Doesn’t require shared secrets"}]}],[{"type":"paragraph","inlineContent":[{"text":"❌","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"❌","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"❌"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"✅"}]}],[{"type":"paragraph","inlineContent":[{"text":"✅","type":"text"}]}]]]},{"type":"heading","text":"How to support passkeys in iCloud Keychain","anchor":"How-to-support-passkeys-in-iCloud-Keychain","level":2},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"for that strong, platform-provided phishing protection to work for your apps, the device needs a strong association between your app and website. This is done through associated domains, using the ","type":"text"},{"text":"webcredentials","type":"text"},{"text":" association type.","type":"text"}],"type":"paragraph"}]}]},{"inlineContent":[{"text":"E.g., this is the file returned from your website at ","type":"text"},{"text":"https:\/\/example.com\/.well-known\/apple-app-site-association","type":"text"},{"text":":","type":"text"}],"type":"paragraph"},{"syntax":"json","type":"codeListing","code":["{","  \"webcredentials\": {","    \"apps\": [ \"A1B2C3D4E5.com.example.Shiny\" ]","  }","}"]},{"inlineContent":[{"text":"How to register an account:","type":"text"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"the function needs three inputs:","type":"text"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"a single-use challenge fetched from your server"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"the username for the account"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"the userID; generally the identifier for the account on your backend"}]}]}],"type":"orderedList"}]}]},{"syntax":"swift","type":"codeListing","code":["func createAccount(with challenge: Data, name: String, userID: Data) {","  let provider = ASAuthorizationPlatformPublicKeyCredentialProvider(relyingPartyIdentifier: \"example.com\")","","  let registrationRequest = provider.createCredentialRegistrationRequest(challenge: challenge, name: name, userID: userID)","","  let controller = ASAuthorizationController(authorizationRequests: [registrationRequest])","","  controller.delegate = …","  controller.presentationContextProvider = …","","  controller.performRequests()","  \/\/ the perform request will trigger an iOS\/macOS sheet to popup to prompt the ","  \/\/ user to create a new secret.","  \/\/ When the transaction is finished, you’ll receive a delegate callback with ","  \/\/ the details of the new credential.","}"]},{"inlineContent":[{"type":"text","text":"Sign in:"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["func signIn(with challenge: Data) {","  let provider = ASAuthorizationPlatformPublicKeyCredentialProvider(relyingPartyIdentifier: \"example.com\")","","  let assertionRequest = provider.createCredentialAssertionRequest(challenge: challenge)","","","  let controller = ASAuthorizationController(","      authorizationRequests: [ assertionRequest ])","","  controller.delegate = …","  controller.presentationContextProvider = …","","  controller.performRequests()","}"]},{"inlineContent":[{"type":"text","text":"Handle returned credentials, this is the delegate function called whenever the authorization completes:"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["func authorizationController(controller: ASAuthorizationController, didCompleteWithAuthorization authorization: ASAuthorization) {","  switch authorization.credential {","    case let registration as ASAuthorizationPlatformPublicKeyCredentialRegistration:","      let attestationObject = registration.rawAttestationObject","      let clientDataJSON = registration.rawClientDataJSON","      \/\/ Verify on your server and finish creating the account.","","    case let assertion as ASAuthorizationPlatformPublicKeyCredentialAssertion:","      let signature = assertion.signature","      let clientDataJSON = assertion.rawClientDataJSON","      \/\/ Verify on your server and finish signing in.","","    case …:","      …","  }","}"]},{"type":"heading","text":"Written By","anchor":"Written-By","level":2},{"type":"row","numberOfColumns":5,"columns":[{"content":[{"inlineContent":[{"identifier":"zntfdr","type":"image"}],"type":"paragraph"}],"size":1},{"content":[{"level":3,"text":"Federico Zanetello","type":"heading","anchor":"Federico-Zanetello"},{"inlineContent":[{"type":"reference","overridingTitle":"Contributed Notes","overridingTitleInlineContent":[{"text":"Contributed Notes","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","isActive":true},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","identifier":"https:\/\/github.com\/zntfdr","isActive":true},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","identifier":"https:\/\/zntfdr.dev","isActive":true}],"type":"paragraph"}],"size":4}]},{"inlineContent":[{"text":"Missing anything? Corrections? ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/wwdcnotes.github.io\/WWDCNotes\/documentation\/wwdcnotes\/contributing"}],"type":"paragraph"},{"type":"heading","text":"Related Sessions","anchor":"Related-Sessions","level":2},{"type":"links","style":"list","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10105-Secure-login-with-iCloud-Keychain-verification-codes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10279-Simplify-sign-in-for-your-tvOS-apps"]},{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Legal Notice","type":"text"}]}],"type":"small"},{"inlineContent":[{"text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved.","type":"text"},{"text":" ","type":"text"},{"text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries.","type":"text"},{"text":" ","type":"text"},{"text":"This website is not made by, affiliated with, nor endorsed by Apple.","type":"text"}],"type":"small"}],"kind":"content"}],"variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc21-10106-move-beyond-passwords"],"traits":[{"interfaceLanguage":"swift"}]}],"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21"]]},"metadata":{"modules":[{"name":"WWDC Notes"}],"roleHeading":"WWDC21","role":"sampleCode","title":"Move beyond passwords"},"abstract":[{"text":"Despite their prevalence, passwords inherently come with challenges that make them poorly suited to securing someone’s online accounts. Learn more about the challenges passwords pose to modern security and how to move beyond them. Explore the next frontier in account security with secure-by-design, public-key-based credentials that use the Web Authentication standard. Discover in this technology preview how Apple is approaching this standard in iOS 15 and macOS Monterey.","type":"text"}],"references":{"WWDCNotes.png":{"identifier":"WWDCNotes.png","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes.png"}],"type":"image","alt":null},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10279-Simplify-sign-in-for-your-tvOS-apps":{"abstract":[{"text":"Find out how people can use Face ID or Touch ID on their iOS or iPadOS device to authorize purchases and sign into your tvOS app. Discover how you can simplify sign in for people using your app and help them get to the content they want to enjoy, faster. We’ll show you how to set up a simplified sign in process and share some best practices about creating great sign in experiences for Apple TV.","type":"text"}],"role":"sampleCode","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc21-10279-simplify-sign-in-for-your-tvos-apps","title":"Simplify sign in for your tvOS apps","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10279-Simplify-sign-in-for-your-tvOS-apps","kind":"article"},"https://developer.apple.com/documentation/authenticationservices/connecting_to_a_service_with_passkeys":{"identifier":"https:\/\/developer.apple.com\/documentation\/authenticationservices\/connecting_to_a_service_with_passkeys","url":"https:\/\/developer.apple.com\/documentation\/authenticationservices\/connecting_to_a_service_with_passkeys","type":"link","titleInlineContent":[{"text":"Sample code","type":"text"}],"title":"Sample code"},"WWDC21-Icon.png":{"identifier":"WWDC21-Icon.png","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC21-Icon.png"}],"type":"image","alt":null},"https://wwdcnotes.github.io/WWDCNotes/documentation/wwdcnotes/contributing":{"identifier":"https:\/\/wwdcnotes.github.io\/WWDCNotes\/documentation\/wwdcnotes\/contributing","url":"https:\/\/wwdcnotes.github.io\/WWDCNotes\/documentation\/wwdcnotes\/contributing","type":"link","titleInlineContent":[{"text":"Contributions are welcome!","type":"text"}],"title":"Contributions are welcome!"},"WWDC21.jpeg":{"identifier":"WWDC21.jpeg","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC21.jpeg"}],"type":"image","alt":null},"zntfdr.jpeg":{"identifier":"zntfdr.jpeg","variants":[{"traits":["1x","light"],"url":"\/images\/zntfdr.jpeg"}],"type":"image","alt":null},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10105-Secure-login-with-iCloud-Keychain-verification-codes":{"url":"\/documentation\/wwdcnotes\/wwdc21-10105-secure-login-with-icloud-keychain-verification-codes","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10105-Secure-login-with-iCloud-Keychain-verification-codes","type":"topic","kind":"article","abstract":[{"type":"text","text":"Learn how you can support on-device verification codes in your app or website for a more secure sign-in experience. We’ll explore the latest updates to the iCloud Keychain password manager and discover how verification codes, AutoFill, iCloud Keychain sync, and two-tap setup simplify the multi-step sign-in process. We’ll show you how to support this process in your apps and websites."}],"title":"Secure login with iCloud Keychain verification codes"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21":{"type":"topic","role":"collectionGroup","title":"WWDC21","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21","url":"\/documentation\/wwdcnotes\/wwdc21","abstract":[{"type":"text","text":"Xcode 13, Swift 5.5, iOS 15, macOS 12 (Monterey), tvOS 15, watchOS 8."},{"type":"text","text":" "},{"type":"text","text":"New APIs: "},{"type":"codeVoice","code":"MusicKit"},{"type":"text","text":", "},{"type":"codeVoice","code":"DocC"},{"type":"text","text":", "},{"type":"codeVoice","code":"StoreKit 2"},{"type":"text","text":", and more."}],"images":[{"type":"icon","identifier":"WWDC21-Icon.png"},{"type":"card","identifier":"WWDC21.jpeg"}],"kind":"article"},"https://developer.apple.com/documentation/authenticationservices/asauthorization":{"identifier":"https:\/\/developer.apple.com\/documentation\/authenticationservices\/asauthorization","url":"https:\/\/developer.apple.com\/documentation\/authenticationservices\/asauthorization","type":"link","titleInlineContent":[{"code":"ASAuthorization","type":"codeVoice"}],"title":"ASAuthorization"},"https://github.com/zntfdr":{"identifier":"https:\/\/github.com\/zntfdr","url":"https:\/\/github.com\/zntfdr","type":"link","titleInlineContent":[{"text":"GitHub","type":"text"}],"title":"GitHub"},"doc://WWDCNotes/documentation/WWDCNotes/zntfdr":{"type":"topic","role":"sampleCode","title":"Federico Zanetello (332 notes)","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","url":"\/documentation\/wwdcnotes\/zntfdr","abstract":[{"text":"Software engineer with a strong passion for well-written code, thought-out composable architectures, automation, tests, and more.","type":"text"}],"images":[{"identifier":"zntfdr.jpeg","type":"card"},{"identifier":"zntfdr.jpeg","type":"icon"}],"kind":"article"},"https://en.wikipedia.org/wiki/WebAuthn":{"identifier":"https:\/\/en.wikipedia.org\/wiki\/WebAuthn","url":"https:\/\/en.wikipedia.org\/wiki\/WebAuthn","type":"link","titleInlineContent":[{"text":"WebAuthn standard","type":"text"}],"title":"WebAuthn standard"},"zntfdr":{"identifier":"zntfdr","variants":[{"traits":["1x","light"],"url":"\/images\/zntfdr.jpeg"}],"type":"image","alt":"Profile image of Federico Zanetello"},"https://developer.apple.com/wwdc21/10106":{"identifier":"https:\/\/developer.apple.com\/wwdc21\/10106","url":"https:\/\/developer.apple.com\/wwdc21\/10106","type":"download","checksum":null},"doc://WWDCNotes/documentation/WWDCNotes":{"type":"topic","title":"WWDC Notes","images":[{"identifier":"WWDCNotes.png","type":"icon"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","abstract":[{"text":"Session notes shared by the community for the community.","type":"text"}],"kind":"symbol","url":"\/documentation\/wwdcnotes","role":"collection"},"https://zntfdr.dev":{"identifier":"https:\/\/zntfdr.dev","url":"https:\/\/zntfdr.dev","type":"link","titleInlineContent":[{"text":"Blog","type":"text"}],"title":"Blog"}}}