{"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10048-Whats-new-in-VisionKit","interfaceLanguage":"swift"},"abstract":[{"text":"Discover how VisionKit can help people quickly lift subjects from images in your app and learn more about the content of an image with Visual Look Up. We‚Äôll also take a tour of the latest updates to VisionKit for Live Text interaction, data scanning, and expanded support for macOS apps.","type":"text"}],"schemaVersion":{"minor":3,"patch":0,"major":0},"primaryContentSections":[{"content":[{"level":2,"type":"heading","anchor":"overview","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To recap, last year Live Text support was added in VisionKit, enabling interactions such as text selection, translation, QR support, and more for images in your apps. VisionKit also introduced the DataScannerViewController, The Data scanner uses a live camera feed provide a simple and full featured way to capture specific text types, as well as many variants of machine readable codes. Information on those APIs are included in these WWDC22 sessions."}]},{"type":"paragraph","inlineContent":[{"identifier":"WWDC23-10048-recap2022","type":"image"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can get the links to the talks below at the end of this post."}]},{"type":"paragraph","inlineContent":[{"text":"This year VisionKit is adding support for:","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Subject lifting"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Visual Look Up","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Data Scanner and Live Text. A new Live Text API for text selection.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Expanded platform support for Catalyst, and context menu integration for native macOS apps."}]}]}]},{"level":1,"type":"heading","anchor":"Subject-Lifting","text":"Subject Lifting"},{"type":"paragraph","inlineContent":[{"identifier":"WWDC23-10048-subjectLifting","type":"image"}]},{"type":"paragraph","inlineContent":[{"text":"With a simple long press on the subject of an image, it lifts it from its surroundings and becomes highlighted with this beautiful animated glow, and then I am presented with several options to share it, or invoke Visual Look Up.","type":"text"}]},{"level":2,"type":"heading","anchor":"New-for-iOS-17","text":"New for iOS 17"},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC23-10048-sticker1"}]},{"type":"paragraph","inlineContent":[{"text":"You can now use any lifted subject to create a sticker, with fun effects such as shiny, puffy, and more to share with your friends and family.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Now the good news is, integrating Subject Lifting is very simple."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Here is the same code snippet from the last year‚Äôs video, it supports Subject Lifting, without any code changed."}]},{"type":"codeListing","code":["func analyzeCurrentImage() {","","    if let image = image {","        Task {","            do {","                let configuration =ImageAnalyzer.Configuration([.text, .machineReadableCode])","                let analysis = try awaitanalyzer.analyze(image,configuration:configuration)","                if image == self.image {","                    interaction.analysis =analysis;","                    interactio.preferredInteractionypes = [.automatic]","                }","            }","            catch {","                \/\/ Handle error...","            }","        }","    }","}"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Let‚Äôs explore further. Notice that I‚Äôm not passing anything special into the analyzer configuration. This is because in order to preserve power and performance, Subject Lifting analysis is handled separately by the interaction after the initial analysis is complete. For iOS this process occurs after it‚Äôs been on screen for a few seconds, and for macOS it will occur the first time the menu appears."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This means you don‚Äôt need to handle the case of the user swiping though many photos. The interaction will handle this for you. All you need to do is ensure you have an appropriate interaction type set‚Äì in this case, automatic‚Äì and the rest is handled by the interaction."}]},{"level":1,"type":"heading","anchor":"Subject-lifting-interaction-types","text":"Subject lifting interaction types"},{"type":"paragraph","inlineContent":[{"text":"Let‚Äôs examine Subject Lifting compatible interaction types a bit closer. Automatic gives the default out of the box experience, combining text interaction, Subject Lifting, and more.","type":"text"},{"text":"\n","type":"text"},{"text":"If you only want Subject Lifting, and not text selection or data detectors, you can set the interaction type to .imageSegmentation, or combine it with other types.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"And finally, if Subject Lifting just does not make sense for your app, but you want the previous automatic behavior from iOS 16, no problem, you can use a new type, .automaticTextOnly. This provides features such as text selection and data detectors, but not Subject Lifting."}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC23-10048-interactionTypes"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"We have a detailed session specifically on Subject Lifting available if you would like to learn advanced topics about this amazing new technology in both VisionKit, and Vision."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Lift subjects from images in your app"}]},{"level":1,"type":"heading","anchor":"Visual-Look-Up","text":"Visual Look Up"},{"type":"paragraph","inlineContent":[{"text":"This year VisionKit also supports Visual Look Up. Visual Look Up allows users to easily identify and learn about pets, nature, landmarks, art, and media.","type":"text"},{"text":"\n","type":"text"},{"text":"And In iOS 17, Visual Look Up will support additional domains, including food, products, and signs and symbols.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC23-10048-visualLookUp"}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC23-10048-visualLookUp2"}]},{"type":"paragraph","inlineContent":[{"text":"Now, finally, it‚Äôs easy to look up what those symbols on your laundry tags mean. I mean, that‚Äôs pretty cool!","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Visual Look Up availability is based on language, and is available for these languages:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"English"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Italian"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"French","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Japanese"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"German"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Spanish"}],"type":"paragraph"}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Let‚Äôs take a quick peek under the hood, and explore how Visual Look Up works. It‚Äôs actually a two-part process. Initial processing is accomplished entirely on device at analysis time."},{"type":"text","text":"\n"},{"type":"text","text":"If the .visualLookUp type is present in the analyzer configuration, Visual Look Up will locate the bounding box of the results, and their top level domain. For example, if it‚Äôs a cat, book, or plant. This step also includes feature extraction."}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC23-10048-visualLookUp3"}]},{"type":"paragraph","inlineContent":[{"text":"Once the user requests to look up an object, then, and only then, are the domain and image embeddings from feature extraction sent to the server for additional processing.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC23-10048-visualLookUp4"}]},{"type":"paragraph","inlineContent":[{"text":"Now you know how Visual Look Up works, let‚Äôs quickly explore how to use it, and what actions you need to take to add it to your app. Visual Look Up can be invoked in two different ways. The first is in conjunction with Subject Lifting, if the current lifted subject contains one, and only one, correlated Visual Look Up result, the Look Up option will be offered in the menu,","type":"text"}]},{"type":"paragraph","inlineContent":[{"identifier":"WWDC23-10048-selection","type":"image"}]},{"type":"paragraph","inlineContent":[{"text":"and selecting it will show the full Look Up result.","type":"text"}]},{"type":"paragraph","inlineContent":[{"identifier":"WWDC23-10048-selection2","type":"image"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"VisionKit handles this interaction for you automatically. As an adopter all you need to do is have "},{"type":"codeVoice","code":".visualLookUp"},{"type":"text","text":" added to your analyzer configuration at analysis time."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Second, there is a modal interaction available where badges are placed over each of the visual search results. Notice how the badges move to the corner if they leave the viewport, Users can tap on these badges to show the Look Up result. This is the same interaction as clicking on the info button in the Photos app, or Quick Look, for example."}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC23-10048-badges"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This mode is invoked by setting "},{"type":"codeVoice","code":".visualLookUp"},{"type":"text","text":" as the "},{"type":"codeVoice","code":"preferredInteractionType"},{"type":"text","text":" on your interaction."}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC23-10048-badges2"}]},{"type":"paragraph","inlineContent":[{"text":"Please note: this type will have precedence over the other interaction types. For example, you cannot select text or data detectors at the same time that the visualLookup Mode is set. As such, this is normally used in conjunction with a button, or some other bespoke way to get in and out of this mode. For example, Quick Look uses the info button to enter Visual Look Up mode.","type":"text"}]},{"level":1,"type":"heading","anchor":"Data-Scanner-and-Live-Text","text":"Data Scanner and Live Text"},{"type":"paragraph","inlineContent":[{"text":"Introduced In iOS 16, the DataScannerViewController was designed to be the easiest way to use OCR with a live camera viewfinder.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"New in iOS 17, it‚Äôs been enhanced with:","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"optical flow tracking"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"currency support"}]}]}]},{"type":"paragraph","inlineContent":[{"text":"Optical flow tracking can enhance text tracking for live-camera experiences.","type":"text"},{"text":"\n","type":"text"},{"text":"In iOS 16 I‚Äôm scanning for text with highFrameRateTracking enabled.","type":"text"},{"text":"\n","type":"text"},{"text":"But new in iOS17 with optical flow tracking the highlights feel much more stable and grounded than before.","type":"text"}]},{"type":"paragraph","inlineContent":[{"identifier":"WWDC23-10048-tracking","type":"image"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Optical flow tracking comes for free whenever you use the DataScannerViewController, however, it is only available when recognizing text, and not machine readable codes. And you‚Äôre also required to scan for text without a specific text content type set. And finally, once again, ensure high frame-rate tracking is enabled. Which is, conveniently, the default."}]},{"type":"codeListing","code":["\/\/ Recognize URLs","let recognizedDataTypes: Set<DataScannerViewController.RecognizedDataType> = [","    .text(textContentType: .URL)","]","","\/\/ Present the data scanner configured without high frame-rate tracking","let dataScanner = DataScannerViewController(recognizedDataTypes: recognizedDataTypes,","                                            isHighFrameRateTrackingEnabled: false)","present(dataScanner, animated: true) {","    try? dataScanner.startScanning()","}"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"No matter how you configure it, the data scanner provides great text tracking; but if your use case allows for this configuration, the new optical flow tracking can enhance it even further.","type":"text"}]},{"level":1,"type":"heading","anchor":"Currency","text":"Currency"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Next, the data scanner has a new option allowing users to find and interact with monetary values. It‚Äôs incredibly simple to enable. Just set the text content type to currency when specifying text recognition in the data scanner‚Äôs initializer, just as you would other content types like email addresses or telephone numbers."}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC23-10048-currency"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Now I‚Äôm going to explore this new type in more detail with a quick example. When the data scanner recognizes currency in text, It contains both a bounds and a transcript."}]},{"type":"paragraph","inlineContent":[{"identifier":"WWDC23-10048-transcript","type":"image"}]},{"type":"paragraph","inlineContent":[{"text":"The transcript has both the currency symbol and the amount.","type":"text"}]},{"type":"codeListing","code":["\/\/ Print the total of values in the current locale's currency","let formatter = NumberFormatter()","formatter.numberStyle = .currency","formatter.locale = Locale.current","guard let currencySymbol = formatter.currencySymbol else { return }","","var total: Double = 0.0","for await allItems: [RecognizedItem] in dataScannerViewController.recognizedItems {","    for recognizedItem in allItems {","        if case .text(let text) = recognizedItem {","            let transcript = text.transcript","            if transcript.contains (currencySymbol),","               let value = formatter.number(from: transcript) {","                total = total + value.doubleValue","            }","        }","    }","    print(\"total: \\(total)\")","}"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"Here‚Äôs an example where I find the total of all the values on something like a receipt. First, I get the currency symbol using the current locale.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"While awaiting the data scanner‚Äôs results in the recognizedItems stream, I can loop through each of the recognized items and grab its transcript. If the transcript contains the currency symbol I‚Äôm interested in, I‚Äôll go ahead and update the total value. And just like that, now you‚Äôll have the sum of all values. This is just a simple example, but this can very powerful.","type":"text"}]},{"level":1,"type":"heading","anchor":"Live-Text-enhancements","text":"Live Text enhancements"},{"type":"paragraph","inlineContent":[{"type":"text","text":"First off, Live Text is coming to more regions by expanding our supported languages to include Thai and Vietnamese."}]},{"type":"paragraph","inlineContent":[{"identifier":"WWDC23-10048-languages","type":"image"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Live Text includes enhancements for document structure detection as well this year. As an example, in iOS 16 Live Text supported list detection. This allows you to easily copy and paste a list into an app that understands lists, such as Notes, and the list formatting will be maintained."}]},{"type":"paragraph","inlineContent":[{"identifier":"WWDC23-10048-listDetection","type":"image"}]},{"type":"paragraph","inlineContent":[{"text":"Live Text handles several list styles, such as numbers or bullets.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"And now, Live Text is offering the same support for Tables, making it far easier to get structured table data from an image into applications like Notes or Numbers. Now I can select, copy, and paste this table into Numbers, and the structure is maintained. Notice how it merges cells automatically if necessary.","type":"text"}]},{"type":"paragraph","inlineContent":[{"identifier":"WWDC23-10048-tables","type":"image"}]},{"level":2,"type":"heading","anchor":"Context-Aware-Data-Detectors","text":"Context Aware Data Detectors"},{"type":"paragraph","inlineContent":[{"type":"text","text":"We are also adding Context Aware Data Detectors in Live Text. For this feature, data detectors and their visual relationships are used when adding contacts. Notice how when I add this contact from an email address, additional information from surrounding data detectors are now included, allowing me to easily add all this information at once. Adding a contact from a business card or flyer has never been easier."}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC23-10048-contacts"}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC23-10048-contacts2"}]},{"type":"paragraph","inlineContent":[{"text":"In addition to these great features you are also getting for free, VisionKit also has some new APIs specifically for text. Last year, you could get the entire text contents by accessing the transcript property on the image analysis.","type":"text"}]},{"type":"codeListing","code":["ImageAnalysis","    .transcript"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"You now have full access to plain and attributed text, selected ranges, and easy access to selected text. There is also a new delegate method so you can be aware when the text selection changes and update your UI as appropriate.","type":"text"}]},{"type":"codeListing","code":["ImageAnalysisInteraction","    .text","    .selectedText ","    .selectedRanges ","    .selectedAttributedText","    ","ImageAnalysisInteractionDelegate","    textSelectionDidChange(_ interaction: ImageAnalysisInteraction)"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"It is now easy to add features that rely on what the user has selected. For example, using the menu builder API, you could insert a menu item that creates a reminder based on the current text selection.","type":"text"}]},{"type":"codeListing","code":["override func buildMenu(with builder: UIMenuBuilder) {","    ","    let text = interaction.selectedText","    if text.length > 0, builder.system == UIMenuSystem.context {","        let command = UICommand(title:\"Create Reminder\", action:","                                    #selector(handleCreateReminder))","        let menu = UIMenu(options: .displayInline, children: [command])","        builder.insertSibling(menu, afterMenu: .share)","    }","    ","    super.buildMenu(with: builder)","}","@obic func handleCreateReminder() {","    createReminder(interaction.selectedText)","}"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"Start in the view controller that owns your image analysis interaction. First grab the selected text, and ensure it isn‚Äôt empty. Then create a command that calls our handler when chosen, Now create a menu object that holds the command. And finally, insert that menu as a sibling after the share menu option. Now you have a custom menu alongside system items like copy and share.","type":"text"}]},{"level":2,"type":"heading","anchor":"Expanded-platform-support","text":"Expanded platform support"},{"type":"paragraph","inlineContent":[{"text":"And this year, it‚Äôs all about the Mac. We are rolling out Catalyst support to easily bring Live Text from your iOS apps over to the Mac. And if you‚Äôre new to the native macOS API and the ImageAnalysisOverlayView, stay tuned, because I‚Äôm going to go over some specifics, as well as some tips on adopting them.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Finally, I am going to talk about a new system for menus, offering simple and seamless integration of VisionKit into your contextual menus."}]},{"level":3,"type":"heading","anchor":"Catalyst","text":"Catalyst"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Catalyst adoption is very straightforward. It should be a simple recompile to get the image analysis interaction working in Catalyst. We support, Live Text, Subject Lifting and Visual Look Up, but unfortunately QR code support is unavailable in either the Catalyst environment or native macOS API for VisionKit. However, I wanted to let you know that if you have a shared implementation, leaving the "},{"type":"codeVoice","code":".machineReadableCodes"},{"type":"text","text":" in your analyzer configuration for Catalyst is perfectly safe, and just becomes a no-op. Also, please note that QR detection support is available in the Vision Framework if you need this functionality on the Mac."}]},{"type":"paragraph","inlineContent":[{"text":"Please see also: ","type":"text"},{"isActive":true,"identifier":"https:\/\/developer.apple.com\/wwdc21\/10041","type":"reference"}]},{"level":3,"type":"heading","anchor":"The-native-macOS-API","text":"The native macOS API"},{"type":"paragraph","inlineContent":[{"text":"As with iOS, there are two major classes you need to be aware of when adopting VisionKit:","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"The ImageAnalyzer"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"The ImageAnalysisOverlayView.","type":"text"}]}]}]},{"type":"paragraph","inlineContent":[{"text":"First, the easy part. The Image Analyzer and analysis process for the Mac is identical to iOS. With the exception of machine readable codes being a no-op, as I mentioned earlier, everything is the same and is used in the same way. The main difference between the iOS ImageAnalysisInteraction, and macOS‚Äôs ImageAnalysisOverlayView is how the interaction is added to your application.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"For iOS, the ImageAnalysisInteraction is a UIInteraction that is added to a view, already existing in your apps view hierarchy."}]},{"type":"paragraph","inlineContent":[{"identifier":"WWDC23-10048-ImageAnalysisInteraction","type":"image"}]},{"type":"paragraph","inlineContent":[{"text":"But UIInteraction does not exist on the Mac. So what do you do? In this case, as the name suggests, the ","type":"text"},{"code":"ImageAnalysisOverlayView","type":"codeVoice"},{"text":" is a subclass of NSView. I simply need to add the overlay view in my view hierarchy above my image content.","type":"text"}]},{"type":"paragraph","inlineContent":[{"identifier":"WWDC23-10048-ImageAnalysisOverlayView","type":"image"}]},{"type":"paragraph","inlineContent":[{"text":"The simplest way is to add it as a sub view of my content view. Any way you choose is perfectly fine, but I‚Äôve found adding it as a subView is generally simpler, and easier to manage as you don‚Äôt have to handle repositioning the overlay view when the contents view position changes.","type":"text"}]},{"level":3,"type":"heading","anchor":"Contents-rect","text":"Contents rect"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Since the OverlayView doesn‚Äôt host or render your content, it needs to know exactly where the content exists in relation to its bounds. This is described by the contentsRect, which is in unit coordinate space with the origin at the top left."}]},{"type":"paragraph","inlineContent":[{"text":"Since the overlay view is placed directly over the imageView, they have same bounds. I‚Äôll show the bounds with this rectangle. And I‚Äôll also add its matching contents rect. Easiest case is if the content matches the bounds. Here it‚Äôs simply the unit rectangle.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC23-10048-contentsRect"}]},{"type":"paragraph","inlineContent":[{"text":"Now, here is an aspect fit.","type":"text"}]},{"type":"paragraph","inlineContent":[{"identifier":"WWDC23-10048-contentsRect2","type":"image"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Notice this portion of the imageView now has no content underneath it. And is reflected in the contents rect."}]},{"type":"paragraph","inlineContent":[{"text":"And here is an aspect fill. This portion of the image is no longer visible to the user, Notice how the contents rect changes here.","type":"text"}]},{"type":"paragraph","inlineContent":[{"identifier":"WWDC23-10048-contentsRect3","type":"image"}]},{"type":"paragraph","inlineContent":[{"text":"Just as with UIImageView on iOS, if you are using NSImageView, you can simply set the trackingImageView property on the overlay view, and it will calculate all of this for you automatically.","type":"text"}]},{"type":"codeListing","code":["override func viewDidLoad() {","","    super.viewDidLoad()","    overlayView = ImageAnalysisOverlayView(frame: imageView.bounds)","    overlayView.autoresizingMask = [.width, .height]","    overlayView.delegate = self;","    ","    imageView.addSubview(overlayView)","    overlay.trackingImageView = imageView","}"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you are not using NSImageView, no worries. You can provide the contents rect by implementing the delegate method "},{"type":"codeVoice","code":"contentsRect(for overlayView:)"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The overlay view will ask for this during layout when its bounds change. However, you can manually request this be updated by calling "},{"type":"codeVoice","code":"setContentsRectNeedsUpdate"},{"type":"text","text":" on the overlayView."}]},{"type":"codeListing","code":["func contentsRect(for overlayView: ImageAnalysisOverlayView) -> CGRect {","    return calculateOverlayContentsRect()","}","","setContentsRectNeedsUpdate()"],"syntax":"swift"},{"level":3,"type":"heading","anchor":"Contextual-menus","text":"Contextual menus"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Contextual menus are a huge part of the Mac experience. Now Its now easy to add VisionKit provided functionality directly into your menus, for features such as Live Text, Look Up, and Subject Lifting, and more. One question you may have is, why? Let‚Äôs examine the macOS Photos app. If I were to right click on the text for this iconic road sign, I would just be presented with only the VisionKit text menu."}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC23-10048-contextualMenus"}]},{"type":"paragraph","inlineContent":[{"text":"If it were not over text, I would be offered the app menu instead, without any text items. This is not ideal. Now in macOS Sonoma, items can be combined into the same menu. You can easily get to both text and image functionality, no matter where the menu event was initiated.","type":"text"}]},{"type":"paragraph","inlineContent":[{"identifier":"WWDC23-10048-contextualMenus2","type":"image"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This is a far better experience for the user, and is simple to implement. Let‚Äôs explore how this can be accomplished in your own app. You now have a new delegate method available, "},{"code":"overlayview:updatedmenu:forevent:atpoint","type":"codeVoice"},{"type":"text","text":"."}]},{"type":"codeListing","code":["func overlayView(","    _ overlayView: ImageAnalysisOverlayView, ","    updatedMenuFor menu: NSMenu, ","    for event: NSEvent, ","    at point: CGPoint","    ) -> NSMenu { return menu }"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The arguments include the event that triggered the menu, and the point in the overlay view bounds coordinate space, so you can create any menus you need. From there, you simply need to return the menu that you would like to display. The default implementation returns the VisionKit menu. However, you may wish to add your own items to that menu, or take items from that menu and add it to yours."}]},{"level":3,"type":"heading","anchor":"Menu-Tags","text":"Menu Tags"},{"type":"paragraph","inlineContent":[{"text":"VisionKit menu items are identified by tags, and there is a struct available that contains these tags. We have several items available for copying and sharing the image and subjects, and one for Look Up. We also have a special item you can use to find the suggested index to add items to the VisionKit provided menu, but more on that later.","type":"text"}]},{"type":"codeListing","code":["ImageAnalysisOverlayView.MenuTag","    .copyImage","    .shareImage","    .copySubject","    .shareSubject ","    .lookupItem ","    .recommendedAppItems"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"Here are some examples of how this is used. If I had an existing menu and all I were interested in was adding the copySubject item, it could be easily added like this. First, get your apps menu. Then get the item you are interested in. In this case, copySubject. And insert it in your menu. Now, it‚Äôs important to remember that Items will only be available if they are actually valid. For example, if there‚Äôs no subject interaction capable type present, the copySubject item will not be in the menu. Also, for system provided text items, they are included if applicable, but not all are identifiable by tag. You can even customize these items however you would wish. For example, I‚Äôve changed the item from copy image to copy photo. And worry not about changing these properties. These items are re-created each time and you can change them however you‚Äôd like.","type":"text"}]},{"type":"codeListing","code":["func overlayView(_ overlayView: ImageAnalysisOverlayView, ","    updatedMenuFor menu: NSMenu, ","    for event: NSEvent, ","    at point: CGPoint) -> NSMenu {","        let myMenu = self.menu(for: event)","        if let item = menu.item(withTag: ImageAnalysisOverlayView.MenuTag.copySubject) {","                item.title = NSLocalizedString(\"Copy Photo\", ","                                \"Copy Photo menu title\")","                myMenu.insertItem(item, at: (someIndex))","            }","        return myMenu","    }"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Now that I‚Äôve covered adding items to your existing menu, I‚Äôm going to explore an example of how to add items to the VisionKit menu."}]},{"type":"codeListing","code":["func overlayView(_ overlayView: ImageAnalysisOverlayView, ","    updatedMenuFor menu: NSMenu, ","    for event: NSEvent, ","    at point: CGPoint) -> NSMenu {","        let recommendedIndex = menu.indexOfItem(withTag: .recommendedAppItems)","        menu. insertItem(myItem, at: recommendedIndex) ","    return menu","}"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"As mentioned earlier, the overlayView will provide an item with a tag at the recommended index to insert your items called recommendedAppItems. You simply ask for the index of this item and insert your items at that index. Using this index is optional and not required. However, it is a good way to keep things consistent for your users.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"You will notice that some of these menu items have special properties. For example, when the subject related menu item are highlighted, the area surrounding my cat KiKi here dims and the glow animation begins, indicating the subject to the user before it is copied or shared."}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC23-10048-contextualMenus3"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"VisionKit uses the menu appearing as a trigger to begin subject analysis, if it hasn‚Äôt began already. This is all handled for you automatically. In order to provide these features, VisionKit will set itself as a delegate for any menu you return from the update menu method. If you were previously relying on these NSMenuDelegate callbacks, VisionKit now provides its own Delegate callbacks allowing you to retain functionality with your menu items if you were using that previously."}]},{"type":"codeListing","code":["NSMenuDelgate","    menuNeedsUpdate (NSMenu)","    menuWill0pen (NSMenu)","    menuDidClose (NSMenu)","    menu(NSMenu, willHighlight: NSMenuItem?)","","ImageAnalysisOverlayViewDelegate","    overlayView(ImageAnalysisOverlayView, needsUpdate: NSMenu)","    overlayView(ImageAnalysisOverlayView, willOpen: NSMenu)","    overlayView(ImageAnalysisOverlayView, didClose: NSMenu)","    overlayView(ImageAnalysisOverlayView,menu: NSMenu, willHighlight: NSMenuItem?)"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"And here‚Äôs a quick tip. If you are in this situation, depending on where the menu was initiated from, it may not come from VisionKit. So you‚Äôll likely want to keep your existing implementation around.","type":"text"}]},{"type":"codeListing","code":["func menuWillOpen(_ menu: NSMenu) {","    \/\/ Your fancy code.","}","","func overlayView(_ overlayView: ImageAnalysisOverlayView, willOpen menu: NSMenu){","        menuWillOpen(menu)","}"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Generally, the simplest way to keep this all in sync is to have your OverlayViewDelegate implementation call your matching NSMenuDelegate implementation, adjusting as necessary. Of course, ensure this makes sense for your app, but in general, this usually does the trick. And that‚Äôs a quick overview of what‚Äôs new in VisionKit."}]},{"level":1,"type":"heading","anchor":"Check-out-also","text":"Check out also"},{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/wwdc22\/10026"},{"type":"text","text":""},{"type":"text","text":"\n"},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/wwdc22\/10025"},{"type":"text","text":""},{"type":"text","text":"\n"},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/wwdc23\/10176"},{"type":"text","text":""},{"type":"text","text":"\n"},{"type":"reference","overridingTitle":"Extract document data using Vision -  WWDC21","isActive":true,"identifier":"https:\/\/developer.apple.com\/wwdc21\/10041","overridingTitleInlineContent":[{"type":"text","text":"Extract document data using Vision -  WWDC21"}]}]},{"level":2,"type":"heading","anchor":"Written-By","text":"Written By"},{"columns":[{"size":1,"content":[{"type":"paragraph","inlineContent":[{"identifier":"https:\/\/avatars.githubusercontent.com\/u\/29355828?v=4","type":"image"}]}]},{"size":4,"content":[{"level":3,"anchor":"laurent-b","text":"laurent b","type":"heading"},{"inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/multitudes","overridingTitleInlineContent":[{"text":"Contributed Notes","type":"text"}],"overridingTitle":"Contributed Notes"},{"type":"text","text":" "},{"isActive":true,"type":"reference","identifier":"https:\/\/x.com\/wrmultitudes"},{"type":"text","text":" "},{"isActive":true,"type":"reference","identifier":"https:\/\/laurentbrusa.hashnode.dev\/"}],"type":"paragraph"}]}],"numberOfColumns":5,"type":"row"},{"level":2,"type":"heading","anchor":"Related-Sessions","text":"Related Sessions"},{"type":"links","style":"list","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10176-Lift-subjects-from-images-in-your-app","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10026-Add-Live-Text-interaction-to-your-app","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10276-Use-the-camera-for-keyboard-input-in-your-app"]},{"type":"small","inlineContent":[{"inlineContent":[{"text":"Legal Notice","type":"text"}],"type":"strong"}]},{"type":"small","inlineContent":[{"type":"text","text":"All content copyright ¬© 2012 ‚Äì 2024 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}]}],"kind":"content"}],"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23"]]},"sections":[],"seeAlsoSections":[{"generated":true,"identifiers":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10178-Whats-new-in-App-Clips","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10117-Whats-new-in-App-Store-Connect","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10015-Whats-new-in-App-Store-preorders","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10014-Whats-new-in-App-Store-pricing","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10141-Whats-new-in-App-Store-server-APIs","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10054-Whats-new-in-AppKit","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10108-Whats-new-in-Background-Assets","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10121-Whats-new-in-CSS","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10186-Whats-new-in-Core-Data","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10179-Whats-new-in-Core-Motion","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10197-Whats-new-in-SF-Symbols-5","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10119-Whats-new-in-Safari-extensions","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10136-Whats-new-in-ScreenCaptureKit","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10140-Whats-new-in-StoreKit-2-and-StoreKit-Testing-in-Xcode","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10164-Whats-new-in-Swift","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10148-Whats-new-in-SwiftUI","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10055-Whats-new-in-UIKit","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10114-Whats-new-in-Wallet-and-Apple-Pay","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10118-Whats-new-in-Web-Inspector","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10165-Whats-new-in-Xcode-15","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10040-Whats-new-in-managing-Apple-devices","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10053-Whats-new-in-privacy","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10235-Whats-new-in-voice-processing","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10120-Whats-new-in-web-apps"],"title":"Updated Tools & Frameworks"}],"sampleCodeDownload":{"action":{"type":"reference","identifier":"https:\/\/developer.apple.com\/wwdc23\/10048","isActive":true,"overridingTitle":"Watch Video (19 min)"},"kind":"sampleDownload"},"kind":"article","metadata":{"role":"sampleCode","modules":[{"name":"WWDC Notes"}],"roleHeading":"WWDC23","title":"What‚Äôs new in VisionKit"},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc23-10048-whats-new-in-visionkit"]}],"references":{"WWDC23-10048-selection":{"alt":"Selection","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10048-selection.jpg"}],"type":"image","identifier":"WWDC23-10048-selection"},"doc://WWDCNotes/documentation/WWDCNotes":{"type":"topic","kind":"symbol","role":"collection","abstract":[{"text":"Session notes shared by the community for the community.","type":"text"}],"images":[{"type":"icon","identifier":"WWDCNotes.png"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","title":"WWDC Notes","url":"\/documentation\/wwdcnotes"},"WWDC23-10048-visualLookUp2":{"alt":"Visual Look Up","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10048-visualLookUp2.jpg"}],"type":"image","identifier":"WWDC23-10048-visualLookUp2"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10197-Whats-new-in-SF-Symbols-5":{"title":"What‚Äôs new in SF Symbols 5","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10197-Whats-new-in-SF-Symbols-5","kind":"article","abstract":[{"type":"text","text":"Explore the latest updates to SF Symbols, Apple‚Äôs library of iconography designed to integrate seamlessly with San Francisco, the system font for Apple platforms. Learn about symbol animations: a collection of expressive, configurable animations that can make your interface feel more lively and improve user feedback. See how to draw for animation when creating your own custom symbols, and discover the latest additions to the SF Symbols library. To get the most out of this session, we recommend first watching ‚ÄúWhat‚Äôs new in SF Symbols 4‚Äù from WWDC22."}],"role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc23-10197-whats-new-in-sf-symbols-5","type":"topic"},"https://developer.apple.com/wwdc22/10025":{"titleInlineContent":[{"type":"text","text":"Capture machine-readable codes and text with VisionKit -  WWDC22"}],"title":"Capture machine-readable codes and text with VisionKit -  WWDC22","url":"https:\/\/developer.apple.com\/wwdc22\/10025","type":"link","identifier":"https:\/\/developer.apple.com\/wwdc22\/10025"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10117-Whats-new-in-App-Store-Connect":{"abstract":[{"text":"Discover the latest updates to App Store Connect, the suite of tools used to manage and submit apps to the App Store. Explore how you can use the latest features to test, price, promote, and automate the management of your app more easily. We‚Äôll also share enhancements to tools like TestFlight and the App Store Connect API.","type":"text"}],"title":"What‚Äôs new in App Store Connect","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10117-Whats-new-in-App-Store-Connect","kind":"article","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc23-10117-whats-new-in-app-store-connect","role":"sampleCode"},"WWDC23-10048-contentsRect":{"alt":"Contents rect","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10048-contentsRect.jpg"}],"type":"image","identifier":"WWDC23-10048-contentsRect"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10140-Whats-new-in-StoreKit-2-and-StoreKit-Testing-in-Xcode":{"kind":"article","title":"What‚Äôs new in StoreKit 2 and StoreKit Testing in Xcode","url":"\/documentation\/wwdcnotes\/wwdc23-10140-whats-new-in-storekit-2-and-storekit-testing-in-xcode","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10140-Whats-new-in-StoreKit-2-and-StoreKit-Testing-in-Xcode","type":"topic","abstract":[{"text":"Get to know the latest enhancements to StoreKit 2 and StoreKit Testing in Xcode. Discover API updates for promoted in-app purchases, StoreKit messages, the Transaction model, the RenewalInfo model, and the App Store sheet for managing subscriptions. Learn how to upgrade to SHA-256 for on-device receipt validation and use APIs to create SwiftUI views.","type":"text"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10121-Whats-new-in-CSS":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10121-Whats-new-in-CSS","abstract":[{"type":"text","text":"Explore the latest advancements in CSS. Learn techniques and best practices for working with wide-gamut color, creating gorgeous typography, and writing simple and robust code. We‚Äôll also peer into the future and preview upcoming layout and typography features."}],"title":"What‚Äôs new in CSS","url":"\/documentation\/wwdcnotes\/wwdc23-10121-whats-new-in-css","type":"topic","role":"sampleCode","kind":"article"},"WWDC23-10048-badges":{"alt":"Badges","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10048-badges.jpg"}],"type":"image","identifier":"WWDC23-10048-badges"},"WWDC23-10048-visualLookUp4":{"alt":"Visual Look Up","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10048-visualLookUp4.jpg"}],"type":"image","identifier":"WWDC23-10048-visualLookUp4"},"WWDC23-10048-visualLookUp3":{"alt":"Visual Look Up","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10048-visualLookUp3.jpg"}],"type":"image","identifier":"WWDC23-10048-visualLookUp3"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10114-Whats-new-in-Wallet-and-Apple-Pay":{"abstract":[{"text":"Discover the latest updates to Wallet and Apple Pay. Learn how to take advantage of preauthorized payments, funds transfer, and Apple Pay Later merchandising to create great Apple Pay experiences in your app or for the web. Explore improved support for Mail, Messages, Safari, and third-party apps in Wallet Order Tracking, and find out how you can add more information to an order‚Äôs transaction or receipt details. And we‚Äôll introduce you to Tap to Present ID on iPhone (or ID Verifier), a new way to accept IDs in Wallet using iPhone ‚Äî no additional hardware needed.","type":"text"}],"title":"What‚Äôs new in Wallet and Apple Pay","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10114-Whats-new-in-Wallet-and-Apple-Pay","kind":"article","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc23-10114-whats-new-in-wallet-and-apple-pay","role":"sampleCode"},"WWDC23-10048-contextualMenus2":{"alt":"Contextual Menus","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10048-contextualMenus2.jpg"}],"type":"image","identifier":"WWDC23-10048-contextualMenus2"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10120-Whats-new-in-web-apps":{"abstract":[{"text":"Discover web apps for Mac ‚Äî a powerful way to experience your website from the Dock. Learn how you can customize your web app to give people the best experience when they add your site. We‚Äôll also share how to take advantage of push notifications and badging for web apps for Mac and Home Screen web apps for iOS and iPadOS.","type":"text"}],"title":"What‚Äôs new in web apps","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10120-Whats-new-in-web-apps","kind":"article","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc23-10120-whats-new-in-web-apps","role":"sampleCode"},"doc://WWDCNotes/documentation/WWDCNotes/multitudes":{"url":"\/documentation\/wwdcnotes\/multitudes","title":"laurent b (32 notes)","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/multitudes","abstract":[{"text":"student at 42Berlin üê¨ | üçé Swift(UI) app dev  | speciality coffee ‚òïÔ∏è & cycling üö¥üèª‚Äç‚ôÇÔ∏è","type":"text"}],"type":"topic","kind":"article"},"WWDC23-10048-listDetection":{"alt":"List detection","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10048-listDetection.jpg"}],"type":"image","identifier":"WWDC23-10048-listDetection"},"WWDC23-10048-contacts2":{"alt":"Contacts detection","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10048-contacts2.jpg"}],"type":"image","identifier":"WWDC23-10048-contacts2"},"WWDC23-10048-ImageAnalysisInteraction":{"alt":"ImageAnalysisInteraction","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10048-ImageAnalysisInteraction.jpg"}],"type":"image","identifier":"WWDC23-10048-ImageAnalysisInteraction"},"WWDC23-10048-transcript":{"alt":"New currency tracker","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10048-transcript.jpg"}],"type":"image","identifier":"WWDC23-10048-transcript"},"https://avatars.githubusercontent.com/u/29355828?v=4":{"alt":"Profile image of laurent b","variants":[{"traits":["1x","light"],"url":"https:\/\/avatars.githubusercontent.com\/u\/29355828?v=4"}],"type":"image","identifier":"https:\/\/avatars.githubusercontent.com\/u\/29355828?v=4"},"WWDC23-10048-contentsRect3":{"alt":"Contents rect","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10048-contentsRect3.jpg"}],"type":"image","identifier":"WWDC23-10048-contentsRect3"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10186-Whats-new-in-Core-Data":{"abstract":[{"text":"Elevate your app‚Äôs data persistence with improvements in Core Data. Learn how you can use composite attributes to create more intuitive data models. We‚Äôll also show you how to migrate your schema through disruptive changes, when to defer intense migrations, and how to avoid overhead on a person‚Äôs device.","type":"text"}],"title":"What‚Äôs new in Core Data","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10186-Whats-new-in-Core-Data","kind":"article","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc23-10186-whats-new-in-core-data","role":"sampleCode"},"WWDC23-10048-badges2":{"alt":"Badges","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10048-badges2.jpg"}],"type":"image","identifier":"WWDC23-10048-badges2"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10179-Whats-new-in-Core-Motion":{"abstract":[{"text":"Learn how you can use the latest Core Motion updates to expand how your app uses motion data. Discover how to stream higher-frequency sensor data when recording a HealthKit workout on Apple Watch. We‚Äôll show you how you can get submersion data ‚Äî including water depth and temperature ‚Äî during water-based activities like snorkeling. Find out how to stream motion data like attitude, user acceleration, and rotation rate from audio devices like AirPods to connected devices like iPhone and Mac.","type":"text"}],"title":"What‚Äôs new in Core Motion","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10179-Whats-new-in-Core-Motion","kind":"article","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc23-10179-whats-new-in-core-motion","role":"sampleCode"},"WWDC23-10048-contentsRect2":{"alt":"Contents rect","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10048-contentsRect2.jpg"}],"type":"image","identifier":"WWDC23-10048-contentsRect2"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10165-Whats-new-in-Xcode-15":{"abstract":[{"text":"Discover the latest productivity and performance improvements in Xcode 15. Explore enhancements to code completion and Xcode Previews, learn about the test navigator and test report, and find out more about the streamlined distribution process. We‚Äôll also highlight improved navigation, source control management, and debugging.","type":"text"}],"title":"What‚Äôs new in Xcode 15","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10165-Whats-new-in-Xcode-15","kind":"article","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc23-10165-whats-new-in-xcode-15","role":"sampleCode"},"WWDC23-10048-subjectLifting":{"alt":"Subject Lifting","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10048-subjectLifting.jpg"}],"type":"image","identifier":"WWDC23-10048-subjectLifting"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10118-Whats-new-in-Web-Inspector":{"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10118-Whats-new-in-Web-Inspector","url":"\/documentation\/wwdcnotes\/wwdc23-10118-whats-new-in-web-inspector","title":"What‚Äôs new in Web Inspector","kind":"article","role":"sampleCode","abstract":[{"text":"Web Inspector provides a powerful set of tools to debug and inspect web pages, web extensions, and WKWebViews on macOS, iOS and iPadOS. We‚Äôll share the latest updates, including improved typography inspection, editing tools for variable fonts, controls to emulate people‚Äôs preferences, element badges in the DOM node tree, and Symbolic breakpoints.","type":"text"}]},"https://x.com/wrmultitudes":{"titleInlineContent":[{"type":"text","text":"X\/Twitter"}],"title":"X\/Twitter","url":"https:\/\/x.com\/wrmultitudes","type":"link","identifier":"https:\/\/x.com\/wrmultitudes"},"WWDC23-10048-contacts":{"alt":"Contacts detection","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10048-contacts.jpg"}],"type":"image","identifier":"WWDC23-10048-contacts"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10014-Whats-new-in-App-Store-pricing":{"kind":"article","title":"What‚Äôs new in App Store pricing","url":"\/documentation\/wwdcnotes\/wwdc23-10014-whats-new-in-app-store-pricing","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10014-Whats-new-in-App-Store-pricing","type":"topic","abstract":[{"text":"Discover the latest updates to App Store pricing capabilities and tools. Learn how you can manage pricing for your apps and in-app purchases within App Store Connect and the App Store Connect API, how to set pricing by region, and more.","type":"text"}]},"WWDC23-10048-sticker1":{"alt":"Stickers","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10048-sticker1.jpg"}],"type":"image","identifier":"WWDC23-10048-sticker1"},"WWDC23-10048-selection2":{"alt":"Selection Look Up","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10048-selection2.jpg"}],"type":"image","identifier":"WWDC23-10048-selection2"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10026-Add-Live-Text-interaction-to-your-app":{"title":"Add Live Text interaction to your app","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10026-Add-Live-Text-interaction-to-your-app","url":"\/documentation\/wwdcnotes\/wwdc22-10026-add-live-text-interaction-to-your-app","abstract":[{"text":"Learn how you can bring Live Text support for still photos or paused video frames to your app. We‚Äôll share how you can easily enable text interactions, translation, data detection, and QR code scanning within any image view on iOS, iPadOS, or macOS. We‚Äôll also go over how to control interaction types, manage the supplementary interface, and resolve potential gesture conflicts.","type":"text"}],"type":"topic","kind":"article","role":"sampleCode"},"WWDC23-10048-currency":{"alt":"New currency tracker","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10048-currency.jpg"}],"type":"image","identifier":"WWDC23-10048-currency"},"https://developer.apple.com/wwdc23/10176":{"titleInlineContent":[{"type":"text","text":"Lift subjects from images in your app -  WWDC23"}],"title":"Lift subjects from images in your app -  WWDC23","url":"https:\/\/developer.apple.com\/wwdc23\/10176","type":"link","identifier":"https:\/\/developer.apple.com\/wwdc23\/10176"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10053-Whats-new-in-privacy":{"abstract":[{"text":"At Apple, we believe that privacy is a fundamental human right. Learn about new technologies on Apple platforms that make it easier for you to implement essential privacy patterns that build customer trust in your app. Discover privacy improvements for Apple‚Äôs platforms, as well as a study of how privacy shaped the software architecture and design for the input model on visionOS.","type":"text"}],"title":"What‚Äôs new in privacy","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10053-Whats-new-in-privacy","kind":"article","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc23-10053-whats-new-in-privacy","role":"sampleCode"},"https://developer.apple.com/wwdc22/10026":{"titleInlineContent":[{"type":"text","text":"Add Live Text Interaction to Your App - WWDC22"}],"title":"Add Live Text Interaction to Your App - WWDC22","url":"https:\/\/developer.apple.com\/wwdc22\/10026","type":"link","identifier":"https:\/\/developer.apple.com\/wwdc22\/10026"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10176-Lift-subjects-from-images-in-your-app":{"role":"sampleCode","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10176-Lift-subjects-from-images-in-your-app","title":"Lift subjects from images in your app","url":"\/documentation\/wwdcnotes\/wwdc23-10176-lift-subjects-from-images-in-your-app","kind":"article","abstract":[{"type":"text","text":"Discover how you can easily pull the subject of an image from its background in your apps. Learn how to lift the primary subject or to access the subject at a given point with VisionKit. We‚Äôll also share how you can lift subjects using Vision and combine that with lower-level frameworks like Core Image to create fun image effects and more complex compositing pipelines."}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10164-Whats-new-in-Swift":{"kind":"article","title":"What‚Äôs new in Swift","url":"\/documentation\/wwdcnotes\/wwdc23-10164-whats-new-in-swift","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10164-Whats-new-in-Swift","type":"topic","abstract":[{"text":"Join us for an update on Swift. We‚Äôll show you how APIs are becoming more extensible and expressive with features like parameter packs and macros. We‚Äôll also take you through improvements to interoperability and share how we‚Äôre expanding Swift‚Äôs performance and safety benefits everywhere from Foundation to large-scale distributed programs on the server.","type":"text"}]},"https://developer.apple.com/wwdc23/10048":{"checksum":null,"url":"https:\/\/developer.apple.com\/wwdc23\/10048","type":"download","identifier":"https:\/\/developer.apple.com\/wwdc23\/10048"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10054-Whats-new-in-AppKit":{"abstract":[{"text":"Discover the latest advances in Mac app development. We‚Äôll share improvements to controls and menus and explore the tools that can help you break free from your (view) bounds. Learn how to add motion to your user interface, take advantage of improvements to text input, and integrate your existing code with Swift and SwiftUI.","type":"text"}],"type":"topic","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10054-Whats-new-in-AppKit","role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc23-10054-whats-new-in-appkit","title":"What‚Äôs new in AppKit"},"WWDC23-10048-contextualMenus":{"alt":"Contextual Menus","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10048-contextualMenus.jpg"}],"type":"image","identifier":"WWDC23-10048-contextualMenus"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10108-Whats-new-in-Background-Assets":{"abstract":[{"text":"Waiting is no fun! Discover how Background Assets can help your app download content before it even launches. We‚Äôll show you how to integrate Background Assets into an existing app, explore when to use essential or non-essential assets, and learn how to make debugging your extension a breeze.","type":"text"}],"title":"What‚Äôs new in Background Assets","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10108-Whats-new-in-Background-Assets","kind":"article","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc23-10108-whats-new-in-background-assets","role":"sampleCode"},"WWDC23-10048-recap2022":{"alt":"Recap of WWDC 2022","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10048-recap2022.jpg"}],"type":"image","identifier":"WWDC23-10048-recap2022"},"WWDCNotes.png":{"alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes.png"}],"type":"image","identifier":"WWDCNotes.png"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10178-Whats-new-in-App-Clips":{"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10178-Whats-new-in-App-Clips","url":"\/documentation\/wwdcnotes\/wwdc23-10178-whats-new-in-app-clips","title":"What‚Äôs new in App Clips","kind":"article","role":"sampleCode","abstract":[{"text":"Explore the latest updates to App Clips. We‚Äôll show you how to build App Clips more easily using default App Clip links. Learn how you can take advantage of the increased App Clip size limit to build richer and more engaging experiences, and find out how you can launch App Clips directly from your app.","type":"text"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10141-Whats-new-in-App-Store-server-APIs":{"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10141-Whats-new-in-App-Store-server-APIs","url":"\/documentation\/wwdcnotes\/wwdc23-10141-whats-new-in-app-store-server-apis","title":"What‚Äôs new in App Store server APIs","kind":"article","role":"sampleCode","abstract":[{"text":"Discover the latest updates to the App Store Server API and App Store Server Notifications. Explore the current API offerings and learn how to track subscription status with notifications, work with transactions on your server, and efficiently recover missed notifications. We‚Äôll also show you how your server can support apps using StoreKit or StoreKit 2, and share an important deprecation in the API and suggested migration workflow.","type":"text"}]},"WWDC23-10048-tracking":{"alt":"New Tracking","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10048-tracking.jpg"}],"type":"image","identifier":"WWDC23-10048-tracking"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10136-Whats-new-in-ScreenCaptureKit":{"abstract":[{"text":"Level up your screen sharing experience with the latest features in ScreenCaptureKit. Explore the built-in system picker, Presenter Overlay, and screenshot capabilities, and learn how to incorporate these features into your existing ScreenCaptureKit app or game.","type":"text"}],"title":"What‚Äôs new in ScreenCaptureKit","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10136-Whats-new-in-ScreenCaptureKit","kind":"article","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc23-10136-whats-new-in-screencapturekit","role":"sampleCode"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10055-Whats-new-in-UIKit":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10055-Whats-new-in-UIKit","title":"What‚Äôs new in UIKit","role":"sampleCode","type":"topic","abstract":[{"text":"Explore enhancements and updates to UIKit and learn how to build better iOS, iPadOS, and Mac Catalyst apps. We‚Äôll show you the latest features and improvements in UIKit and share API refinements, performance improvements, and much more.","type":"text"}],"kind":"article","url":"\/documentation\/wwdcnotes\/wwdc23-10055-whats-new-in-uikit"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10040-Whats-new-in-managing-Apple-devices":{"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10040-Whats-new-in-managing-Apple-devices","url":"\/documentation\/wwdcnotes\/wwdc23-10040-whats-new-in-managing-apple-devices","title":"What‚Äôs new in managing Apple devices","kind":"article","role":"sampleCode","abstract":[{"text":"Learn about the latest management capabilities for iOS, iPadOS, and macOS. Discover how you can streamline the setup experience with enhancements to automated device enrollment and a new return-to-service option for iOS and iPadOS devices. We‚Äôll share how to use your identity provider in even more places on macOS and show you how Apple Configurator can help automate tasks.","type":"text"}]},"WWDC23-10048-tables":{"alt":"Tables detection","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10048-tables.jpg"}],"type":"image","identifier":"WWDC23-10048-tables"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10276-Use-the-camera-for-keyboard-input-in-your-app":{"kind":"article","title":"Use the camera for keyboard input in your app","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10276-Use-the-camera-for-keyboard-input-in-your-app","role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc21-10276-use-the-camera-for-keyboard-input-in-your-app","abstract":[{"type":"text","text":"Learn how you can support Live Text and intelligently pull information from the camera to fill out forms and text fields in your app. We‚Äôll show you how to apply content filtering to capture the correct information when someone uses the camera as keyboard input and apply it to a relevant UITextField, helping your app input data like phone numbers, addresses, and flight information. And we‚Äôll explore how you can create a custom interface, extend other controls like UIImageViews to support this capability, and more."}]},"WWDC23-10048-contextualMenus3":{"alt":"Contextual Menus","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10048-contextualMenus3.jpg"}],"type":"image","identifier":"WWDC23-10048-contextualMenus3"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10119-Whats-new-in-Safari-extensions":{"abstract":[{"text":"Learn about the latest improvements to Safari extensions. We‚Äôll take you through new APIs, explore per-site permissions for Safari app extensions, and share how you can make sure your extensions work great in both Private Browsing and Profiles.","type":"text"}],"title":"What‚Äôs new in Safari extensions","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10119-Whats-new-in-Safari-extensions","kind":"article","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc23-10119-whats-new-in-safari-extensions","role":"sampleCode"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23":{"images":[{"identifier":"WWDCNotes.png","type":"icon"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23","abstract":[{"type":"text","text":"Xcode 15, Swift 5.9, iOS 17, macOS 14, tvOS 17, visionOS 1, watchOS 10."},{"type":"text","text":" "},{"type":"text","text":"New APIs: "},{"type":"codeVoice","code":"SwiftData"},{"type":"text","text":", "},{"type":"codeVoice","code":"Observation"},{"type":"text","text":", "},{"type":"codeVoice","code":"StoreKit"},{"type":"text","text":" views, and more."}],"role":"collectionGroup","kind":"article","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc23","title":"WWDC23"},"WWDC23-10048-interactionTypes":{"alt":"Interaction Types","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10048-interactionTypes.jpg"}],"type":"image","identifier":"WWDC23-10048-interactionTypes"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10235-Whats-new-in-voice-processing":{"abstract":[{"text":"Learn how to use the Apple voice processing APIs to achieve the best possible audio experience in your VoIP apps. We‚Äôll show you how to detect when someone is talking while muted, adjust ducking behavior of other audio, and more.","type":"text"}],"title":"What‚Äôs new in voice processing","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10235-Whats-new-in-voice-processing","kind":"article","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc23-10235-whats-new-in-voice-processing","role":"sampleCode"},"https://developer.apple.com/wwdc21/10041":{"titleInlineContent":[{"type":"text","text":"Extract document data using Vision -  WWDC21"}],"title":"Extract document data using Vision -  WWDC21","url":"https:\/\/developer.apple.com\/wwdc21\/10041","type":"link","identifier":"https:\/\/developer.apple.com\/wwdc21\/10041"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10015-Whats-new-in-App-Store-preorders":{"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10015-Whats-new-in-App-Store-preorders","url":"\/documentation\/wwdcnotes\/wwdc23-10015-whats-new-in-app-store-preorders","title":"What‚Äôs new in App Store pre-orders","kind":"article","role":"sampleCode","abstract":[{"text":"Discover the latest enhancements to App Store pre-orders, including regional publishing. We‚Äôll show you how to use App Store Connect to set up pre-orders to simultaneously soft launch your app and offer it in different regions.","type":"text"}]},"WWDC23-10048-visualLookUp":{"alt":"Visual Look Up","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10048-visualLookUp.jpg"}],"type":"image","identifier":"WWDC23-10048-visualLookUp"},"WWDC23-10048-languages":{"alt":"Live Text enhancements","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10048-languages.jpg"}],"type":"image","identifier":"WWDC23-10048-languages"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10148-Whats-new-in-SwiftUI":{"kind":"article","title":"What‚Äôs new in SwiftUI","abstract":[{"type":"text","text":"Learn how you can use SwiftUI to build great apps for all Apple platforms. Explore the latest updates to SwiftUI and discover new scene types for visionOS. Simplify your data models with the latest data flow options and learn about the Inspector view. We‚Äôll also take you through enhanced animation APIs, powerful ScrollView improvements, and a host of refinements to help you make tidier tables, improve focus and keyboard input, and so much more."}],"role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10148-Whats-new-in-SwiftUI","url":"\/documentation\/wwdcnotes\/wwdc23-10148-whats-new-in-swiftui","type":"topic"},"WWDC23-10048-ImageAnalysisOverlayView":{"alt":"ImageAnalysisOverlayView","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10048-ImageAnalysisOverlayView.jpg"}],"type":"image","identifier":"WWDC23-10048-ImageAnalysisOverlayView"},"https://laurentbrusa.hashnode.dev/":{"titleInlineContent":[{"type":"text","text":"Blog"}],"title":"Blog","url":"https:\/\/laurentbrusa.hashnode.dev\/","type":"link","identifier":"https:\/\/laurentbrusa.hashnode.dev\/"}}}