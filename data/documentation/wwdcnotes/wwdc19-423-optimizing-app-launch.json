{"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-423-Optimizing-App-Launch"},"kind":"article","hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19"]]},"variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc19-423-optimizing-app-launch"],"traits":[{"interfaceLanguage":"swift"}]}],"metadata":{"modules":[{"name":"WWDC Notes"}],"roleHeading":"WWDC19","title":"Optimizing App Launch","role":"sampleCode"},"sections":[],"schemaVersion":{"minor":3,"patch":0,"major":0},"abstract":[{"type":"text","text":"Slow app launches are frustrating. Learn about the new app launch instrument and discover how to make your app launch fast. Gain insights into what happens during app launch and how to minimize, prioritize, and optimize work at this critical time. Hear tips and tricks from the engineers making iOS apps launch fast."}],"primaryContentSections":[{"kind":"content","content":[{"type":"heading","level":2,"anchor":"Launch-phases","text":"Launch phases"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"System InterfaceSeparate in two phases:"}]}]}],"type":"orderedList"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"DYLD3Dynamic Linker: loads shared libraries and frameworks"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"libSystem Init: initializes app low level components"}]}]}],"type":"unorderedList"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Static Runtime init"}]}]}],"type":"orderedList","start":2},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Separate in two phases:","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Initializes the language runtime (objc\/swift)","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Expose dedicate initialization API in frameworks.","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Reduce impact to launch by avoiding ","type":"text"},{"code":"+[Class load]","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Use ","type":"text"},{"type":"codeVoice","code":"[Class initialize]"},{"text":" to lazily conduct static initialization","type":"text"}],"type":"paragraph"}]}]}]}],"type":"unorderedList"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"UIKit init"}],"type":"paragraph"}]}],"type":"orderedList","start":3},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"This is when the system initializes "},{"code":"UIApplication","type":"codeVoice"},{"type":"text","text":" and "},{"code":"UIApplicationDelegate","type":"codeVoice"}]}]}],"type":"unorderedList"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Application init"}],"type":"paragraph"}]}],"type":"orderedList","start":4},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Invokes "},{"type":"codeVoice","code":"UIApplicationDelegate"},{"type":"text","text":" app lifecycle callbacks "},{"type":"codeVoice","code":"UIApplicationWillFinishLaunching"},{"type":"text","text":" \/ "},{"type":"codeVoice","code":"didFinish"},{"type":"text","text":" \/ "},{"type":"codeVoice","code":"DidBecomeActive"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"(iOS 13 and later) We now get UISceneDelegate UI lifecycle callbacks for each scene: ","type":"text"},{"code":"willConnectToSession:","type":"codeVoice"},{"text":", ","type":"text"},{"code":"sceneWillEnterForeground:","type":"codeVoice"},{"text":", ","type":"text"},{"code":"sceneDidBecomeActive","type":"codeVoice"},{"text":".","type":"text"}]}]}],"type":"unorderedList"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Initial Frame Render"}]}]}],"type":"orderedList","start":5},{"items":[{"content":[{"inlineContent":[{"text":"this is when the app views are created, their layout is performed, and they’re drawn. ","type":"text"},{"code":"loadView","type":"codeVoice"},{"text":" ","type":"text"},{"code":"viewDidLoad","type":"codeVoice"},{"text":" ","type":"text"},{"code":"layoutSubviews","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"tips:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"reduce the number of views launched at the beginning","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"flat view hierarchies and lazily load views not needed during launch"}]}]}]}]}],"type":"unorderedList"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Extended","type":"text"}]}]}],"type":"orderedList","start":6},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"apps specific logic"}]}]}],"type":"unorderedList"},{"type":"heading","level":2,"anchor":"How-to-test-our-app-launch-time","text":"How to test our app launch time"},{"type":"paragraph","inlineContent":[{"text":"We have an instrument entirely dedicated to analyze launch times: this will split the app launch in all the sections seen above and highlight our code that executes during this phase.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The new XCTest Metrics is also a very useful and lightweight way to make sure to not incur in some huge slowdowns during development."}]},{"type":"heading","level":2,"anchor":"Written-By","text":"Written By"},{"type":"row","numberOfColumns":5,"columns":[{"size":1,"content":[{"type":"paragraph","inlineContent":[{"identifier":"zntfdr","type":"image"}]}]},{"size":4,"content":[{"level":3,"anchor":"Federico-Zanetello","type":"heading","text":"Federico Zanetello"},{"inlineContent":[{"isActive":true,"type":"reference","overridingTitle":"Contributed Notes","overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"isActive":true,"type":"reference","identifier":"https:\/\/github.com\/zntfdr"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"isActive":true,"type":"reference","identifier":"https:\/\/zntfdr.dev"}],"type":"paragraph"}]}]},{"type":"thematicBreak"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Missing anything? Corrections? "},{"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"reference","isActive":true}]},{"type":"small","inlineContent":[{"type":"strong","inlineContent":[{"text":"Legal Notice","type":"text"}]}]},{"type":"small","inlineContent":[{"text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved.","type":"text"},{"text":" ","type":"text"},{"text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries.","type":"text"},{"text":" ","type":"text"},{"text":"This website is not made by, affiliated with, nor endorsed by Apple.","type":"text"}]}]}],"sampleCodeDownload":{"kind":"sampleDownload","action":{"identifier":"https:\/\/developer.apple.com\/wwdc19\/423","isActive":true,"type":"reference","overridingTitle":"Watch Video (43 min)"}},"references":{"https://developer.apple.com/wwdc19/423":{"type":"download","identifier":"https:\/\/developer.apple.com\/wwdc19\/423","url":"https:\/\/developer.apple.com\/wwdc19\/423","checksum":null},"doc://WWDCNotes/documentation/WWDCNotes/zntfdr":{"kind":"article","type":"topic","abstract":[{"type":"text","text":"Software engineer with a strong passion for well-written code, thought-out composable architectures, automation, tests, and more."}],"role":"sampleCode","title":"Federico Zanetello (332 notes)","url":"\/documentation\/wwdcnotes\/zntfdr","images":[{"type":"card","identifier":"zntfdr.jpeg"},{"type":"icon","identifier":"zntfdr.jpeg"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19":{"kind":"article","type":"topic","abstract":[{"type":"text","text":"Xcode 11, Swift 5.1, iOS 13, macOS 10.15 (Catalina), tvOS 13, watchOS 6."},{"type":"text","text":" "},{"type":"text","text":"New APIs: "},{"type":"codeVoice","code":"Combine"},{"type":"text","text":", "},{"code":"Core Haptics","type":"codeVoice"},{"text":", ","type":"text"},{"code":"Create ML","type":"codeVoice"},{"text":", and more.","type":"text"}],"role":"collectionGroup","title":"WWDC19","url":"\/documentation\/wwdcnotes\/wwdc19","images":[{"type":"icon","identifier":"WWDC19-Icon.png"},{"type":"card","identifier":"WWDC19.jpeg"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19"},"WWDCNotes.png":{"type":"image","alt":null,"variants":[{"url":"\/images\/WWDCNotes\/WWDCNotes.png","traits":["1x","light"]}],"identifier":"WWDCNotes.png"},"https://github.com/zntfdr":{"type":"link","identifier":"https:\/\/github.com\/zntfdr","title":"GitHub","titleInlineContent":[{"type":"text","text":"GitHub"}],"url":"https:\/\/github.com\/zntfdr"},"zntfdr.jpeg":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/zntfdr.jpeg"}],"type":"image","identifier":"zntfdr.jpeg","alt":null},"WWDC19.jpeg":{"type":"image","alt":null,"variants":[{"url":"\/images\/WWDCNotes\/WWDC19.jpeg","traits":["1x","light"]}],"identifier":"WWDC19.jpeg"},"doc://WWDCNotes/documentation/WWDCNotes":{"abstract":[{"text":"Session notes shared by the community for the community.","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","url":"\/documentation\/wwdcnotes","kind":"symbol","role":"collection","images":[{"type":"icon","identifier":"WWDCNotes.png"}],"type":"topic","title":"WWDC Notes"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"type":"link","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","title":"Contributions are welcome!","titleInlineContent":[{"type":"text","text":"Contributions are welcome!"}],"url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"},"zntfdr":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/zntfdr.jpeg"}],"type":"image","identifier":"zntfdr","alt":"Profile image of Federico Zanetello"},"WWDC19-Icon.png":{"type":"image","alt":null,"variants":[{"url":"\/images\/WWDCNotes\/WWDC19-Icon.png","traits":["1x","light"]}],"identifier":"WWDC19-Icon.png"},"https://zntfdr.dev":{"type":"link","identifier":"https:\/\/zntfdr.dev","title":"Blog","titleInlineContent":[{"type":"text","text":"Blog"}],"url":"https:\/\/zntfdr.dev"}}}