{"abstract":[{"type":"text","text":"The Instruments app in Xcode provides a rich set of tools and templates for profiling your app performance. Learn all about Instruments and gain strategies for identifying bottlenecks in your code. See just how to leverage the power of time profiling and points of interest tracking to make meaningful changes to your code that can dramatically improve app responsiveness."}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-411-Getting-Started-with-Instruments"},"schemaVersion":{"major":0,"minor":3,"patch":0},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19"]]},"metadata":{"roleHeading":"WWDC19","title":"Getting Started with Instruments","role":"sampleCode","modules":[{"name":"WWDC Notes"}]},"sampleCodeDownload":{"kind":"sampleDownload","action":{"identifier":"https:\/\/developer.apple.com\/wwdc19\/411","type":"reference","overridingTitle":"Watch Video (34 min)","isActive":true}},"sections":[],"variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc19-411-getting-started-with-instruments"],"traits":[{"interfaceLanguage":"swift"}]}],"kind":"article","primaryContentSections":[{"content":[{"anchor":"Time-Profiler","type":"heading","text":"Time Profiler","level":2},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"uses infrastructure provided by the operating system to collect call stacks of relevant threads at a fixed interval."}]}]}],"type":"unorderedList"},{"anchor":"Points-of-Interest","type":"heading","text":"Points of Interest","level":2},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"collects data from important areas of the app that we can highlight using various APIs such as Signpost API."}]}]}],"type":"unorderedList"},{"anchor":"Time-Profile-Template","type":"heading","text":"Time Profile Template","level":2},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"This template is used to profile both time and POI","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"lets us add even more instruments to get more insights on the app.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"great tool for looking at issues that occur over a particular window of time."},{"type":"text","text":" "},{"type":"text","text":"￼"}],"type":"paragraph"}]}],"type":"unorderedList"},{"anchor":"Track-Viewer","type":"heading","text":"Track Viewer","level":2},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC19-411-trackViewer"},{"type":"text","text":" "},{"type":"text","text":"￼"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"A Track shows time series trace data corresponding to one source of events, such as the process, thread, or CPU core."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"A single Instrument may contribute trace data to multiple Tracks."}]}]},{"content":[{"inlineContent":[{"type":"text","text":"The top Track is a summary of our application’s CPU utilization provided by the Time Profiler Instrument."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Spinning is how Instruments refers to your main thread being blocked:"},{"type":"text","text":" "},{"type":"image","identifier":"WWDC19-411-spinning"}],"type":"paragraph"}]}],"type":"unorderedList"},{"anchor":"Details-View","type":"heading","text":"Details View","level":2},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC19-411-details"}]},{"items":[{"content":[{"inlineContent":[{"text":"allows to explore the trace data for the selected Track.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"when a time profiler trace is selected, it shows us a call graph:","type":"text"},{"text":" ","type":"text"},{"text":"these are all the functions that were invoked during the time of the profile.","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"anchor":"Detail-inspector","type":"heading","text":"Detail inspector","level":2},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"When exploring the detail inspector (right column), we can click on a closure row to see it selected in the Detail view:"},{"type":"text","text":" "},{"type":"image","identifier":"WWDC19-411-inspector"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Double clicking the closure in the inspector jumps right into the line of code in the source."}]}]}],"type":"unorderedList"},{"anchor":"Profiling-tips","type":"heading","text":"Profiling tips","level":2},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"If you have response issues, check the main thread in the time profile.","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"profile in release mode"}],"type":"paragraph"}]}],"type":"unorderedList"},{"anchor":"Using-Signposts","type":"heading","text":"Using Signposts","level":2},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"More performant the print statements and the likes"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Natively supported by Instruments"}]}]},{"content":[{"inlineContent":[{"text":"Has its own dedicated trace: Point of interestsThe POI trace shows a region of interest that corresponds to a Signpost interval that I added to my code.","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"anchor":"Profile-Tests","type":"heading","text":"Profile Tests","level":2},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC19-411-test"}]},{"anchor":"Written-By","type":"heading","text":"Written By","level":2},{"columns":[{"content":[{"inlineContent":[{"type":"image","identifier":"zntfdr"}],"type":"paragraph"}],"size":1},{"content":[{"text":"Federico Zanetello","anchor":"Federico-Zanetello","level":3,"type":"heading"},{"inlineContent":[{"isActive":true,"overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","overridingTitle":"Contributed Notes","type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"isActive":true,"identifier":"https:\/\/github.com\/zntfdr","type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"isActive":true,"identifier":"https:\/\/zntfdr.dev","type":"reference"}],"type":"paragraph"}],"size":4}],"numberOfColumns":5,"type":"row"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Missing anything? Corrections? "},{"isActive":true,"type":"reference","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"}]},{"anchor":"Related-Sessions","type":"heading","text":"Related Sessions","level":2},{"items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10248-Analyze-hangs-with-Instruments","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10119-Optimize-your-use-of-Core-Data-and-CloudKit","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10180-Detect-and-diagnose-memory-issues","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10181-Ultimate-application-performance-survival-guide","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10221-Get-your-test-results-faster","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-401-Whats-New-in-Xcode-11"],"type":"links","style":"list"},{"type":"small","inlineContent":[{"inlineContent":[{"text":"Legal Notice","type":"text"}],"type":"strong"}]},{"type":"small","inlineContent":[{"text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved.","type":"text"},{"text":" ","type":"text"},{"text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries.","type":"text"},{"text":" ","type":"text"},{"text":"This website is not made by, affiliated with, nor endorsed by Apple.","type":"text"}]}],"kind":"content"}],"references":{"doc://WWDCNotes/documentation/WWDCNotes":{"kind":"symbol","type":"topic","title":"WWDC Notes","role":"collection","images":[{"type":"icon","identifier":"WWDCNotes.png"}],"abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","url":"\/documentation\/wwdcnotes"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-401-Whats-New-in-Xcode-11":{"type":"topic","title":"What’s New in Xcode 11","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-401-Whats-New-in-Xcode-11","abstract":[{"text":"Start the week with a tour of new features in Xcode 11, designed to help you get from idea to product faster than ever. Discover new ways to edit and organize your source code, new capabilities for designing and previewing user interfaces, and great improvements for debugging and testing. Get an overview for sessions covering developer tools this year.","type":"text"}],"url":"\/documentation\/wwdcnotes\/wwdc19-401-whats-new-in-xcode-11","role":"sampleCode","kind":"article"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"type":"link","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","title":"Contributions are welcome!","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","titleInlineContent":[{"type":"text","text":"Contributions are welcome!"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10181-Ultimate-application-performance-survival-guide":{"type":"topic","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10181-Ultimate-application-performance-survival-guide","title":"Ultimate application performance survival guide","url":"\/documentation\/wwdcnotes\/wwdc21-10181-ultimate-application-performance-survival-guide","abstract":[{"type":"text","text":"Performance optimization can seem like a daunting task — with many metrics to track and tools to use. Fear not: Our survival guide to app performance is here to help you understand tooling, metrics, and paradigms that can help smooth your development process and contribute to a great experience for people using your app."}],"role":"sampleCode"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10248-Analyze-hangs-with-Instruments":{"url":"\/documentation\/wwdcnotes\/wwdc23-10248-analyze-hangs-with-instruments","kind":"article","role":"sampleCode","title":"Analyze hangs with Instruments","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10248-Analyze-hangs-with-Instruments","abstract":[{"text":"User interface elements often mimic real-world interactions, including real-time responses. Apps with a noticeable delay in user interaction — a hang — can break that illusion and create frustration. We’ll show you how to use Instruments to analyze, understand, and fix hangs in your apps on all Apple platforms. Discover how you can efficiently navigate an Instruments trace document, interpret trace data, and record additional profiling data to better understand your specific hang.","type":"text"}],"type":"topic"},"WWDCNotes.png":{"type":"image","alt":null,"variants":[{"url":"\/images\/WWDCNotes.png","traits":["1x","light"]}],"identifier":"WWDCNotes.png"},"WWDC19-411-test":{"type":"image","alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC19-411-test.png"}],"identifier":"WWDC19-411-test"},"https://github.com/zntfdr":{"type":"link","url":"https:\/\/github.com\/zntfdr","title":"GitHub","identifier":"https:\/\/github.com\/zntfdr","titleInlineContent":[{"type":"text","text":"GitHub"}]},"https://developer.apple.com/wwdc19/411":{"type":"download","url":"https:\/\/developer.apple.com\/wwdc19\/411","checksum":null,"identifier":"https:\/\/developer.apple.com\/wwdc19\/411"},"zntfdr":{"identifier":"zntfdr","type":"image","variants":[{"url":"\/images\/zntfdr.jpeg","traits":["1x","light"]}],"alt":"Profile image of Federico Zanetello"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10221-Get-your-test-results-faster":{"abstract":[{"text":"Improve your testing suite to speed up your feedback loop and get fixes in faster. Learn more about the latest improvements to testing in Xcode, including how to leverage test plans, Xcodebuild updates, and APIs to eliminate never-ending and badly-behaved tests. We’ll explore Test Timeouts and Execution Time Allowances in XCTest, examine device parallelization, and detail recommended practices for balancing performance with clear fault localization.","type":"text"}],"url":"\/documentation\/wwdcnotes\/wwdc20-10221-get-your-test-results-faster","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10221-Get-your-test-results-faster","kind":"article","title":"Get your test results faster","role":"sampleCode"},"WWDC19.jpeg":{"identifier":"WWDC19.jpeg","type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC19.jpeg"}],"alt":null},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10180-Detect-and-diagnose-memory-issues":{"title":"Detect and diagnose memory issues","url":"\/documentation\/wwdcnotes\/wwdc21-10180-detect-and-diagnose-memory-issues","type":"topic","abstract":[{"type":"text","text":"Discover how you can understand and diagnose memory performance problems with Xcode. We’ll take you through the latest updates to Xcode’s tools, explore Metrics, check out the memgraph collection feature in XCTest, and learn how to catch regressions using a Performance XCTest."}],"role":"sampleCode","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10180-Detect-and-diagnose-memory-issues"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19":{"abstract":[{"type":"text","text":"Xcode 11, Swift 5.1, iOS 13, macOS 10.15 (Catalina), tvOS 13, watchOS 6."},{"type":"text","text":" "},{"type":"text","text":"New APIs: "},{"type":"codeVoice","code":"Combine"},{"type":"text","text":", "},{"code":"Core Haptics","type":"codeVoice"},{"text":", ","type":"text"},{"code":"Create ML","type":"codeVoice"},{"text":", and more.","type":"text"}],"kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19","title":"WWDC19","images":[{"identifier":"WWDC19-Icon.png","type":"icon"},{"identifier":"WWDC19.jpeg","type":"card"}],"type":"topic","url":"\/documentation\/wwdcnotes\/wwdc19","role":"collectionGroup"},"WWDC19-411-inspector":{"identifier":"WWDC19-411-inspector","type":"image","variants":[{"url":"\/images\/WWDC19-411-inspector.png","traits":["1x","light"]}],"alt":null},"WWDC19-411-details":{"identifier":"WWDC19-411-details","type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC19-411-details.png"}],"alt":null},"zntfdr.jpeg":{"identifier":"zntfdr.jpeg","type":"image","variants":[{"url":"\/images\/zntfdr.jpeg","traits":["1x","light"]}],"alt":null},"doc://WWDCNotes/documentation/WWDCNotes/zntfdr":{"url":"\/documentation\/wwdcnotes\/zntfdr","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","title":"Federico Zanetello (332 notes)","kind":"article","images":[{"identifier":"zntfdr.jpeg","type":"card"},{"identifier":"zntfdr.jpeg","type":"icon"}],"role":"sampleCode","abstract":[{"text":"Software engineer with a strong passion for well-written code, thought-out composable architectures, automation, tests, and more.","type":"text"}],"type":"topic"},"https://zntfdr.dev":{"url":"https:\/\/zntfdr.dev","identifier":"https:\/\/zntfdr.dev","type":"link","title":"Blog","titleInlineContent":[{"type":"text","text":"Blog"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10119-Optimize-your-use-of-Core-Data-and-CloudKit":{"url":"\/documentation\/wwdcnotes\/wwdc22-10119-optimize-your-use-of-core-data-and-cloudkit","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10119-Optimize-your-use-of-Core-Data-and-CloudKit","kind":"article","abstract":[{"text":"Join us as we explore the three parts of the development cycle that can help you optimize your Core Data and CloudKit implementation. We’ll show you how you can analyze your app’s architecture and feature set to verify assumptions, explore changes in behavior after ingesting large data sets, and get actionable feedback to make improvements to your workflow.","type":"text"}],"type":"topic","title":"Optimize your use of Core Data and CloudKit","role":"sampleCode"},"WWDC19-411-trackViewer":{"identifier":"WWDC19-411-trackViewer","type":"image","variants":[{"url":"\/images\/WWDC19-411-trackViewer.png","traits":["1x","light"]}],"alt":null},"WWDC19-Icon.png":{"identifier":"WWDC19-Icon.png","type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC19-Icon.png"}],"alt":null},"WWDC19-411-spinning":{"identifier":"WWDC19-411-spinning","type":"image","variants":[{"url":"\/images\/WWDC19-411-spinning.png","traits":["1x","light"]}],"alt":null}}}