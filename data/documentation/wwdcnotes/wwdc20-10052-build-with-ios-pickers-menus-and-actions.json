{"metadata":{"roleHeading":"WWDC20","role":"sampleCode","title":"Build with iOS pickers, menus and actions","modules":[{"name":"WWDC Notes"}]},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20"]]},"schemaVersion":{"major":0,"minor":3,"patch":0},"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10052-Build-with-iOS-pickers-menus-and-actions","interfaceLanguage":"swift"},"primaryContentSections":[{"content":[{"type":"heading","anchor":"UIControls-New-Design-and-Appearance","text":"`UIControl`s New Design and Appearance","level":2},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/uislider"},{"type":"text","text":" and "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/UIProgressView"},{"type":"text","text":" have now more consistent UI across all platforms"}]}]},{"content":[{"inlineContent":[{"isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/UIActivityIndicatorView"},{"text":" and ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/UIPickerView","isActive":true,"type":"reference"},{"text":" have new designs as well","type":"text"}],"type":"paragraph"}]}]},{"type":"heading","anchor":"UIPageControl","text":"`UIPageControl`","level":2},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"UIPageControl"},{"type":"text","text":" can now be scrubbed and scrolled when the number of pages doesn’t fit the available space."}]}]},{"content":[{"inlineContent":[{"code":"UIPageControl","type":"codeVoice"},{"type":"text","text":" components such as indicators can now be customized via the following API:"}],"type":"paragraph"}]}]},{"type":"codeListing","code":["let pageControl = UIPageControl()","pageControl.numberOfPages = 5","","pageControl.backgroundStyle = .prominent","","pageControl.preferredIndicatorImage =","    UIImage(systemName: \"bookmark.fill\")","","pageControl.setIndicatorImage(","    UIImage(systemName: \"heart.fill\"), forPage: 0)"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"identifier":"WWDC20-10052-UIPageControl","type":"image"}]},{"type":"heading","anchor":"UIColorPickerViewController","text":"`UIColorPickerViewController`","level":2},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"New "},{"type":"codeVoice","code":"UIColorPickerViewController"},{"type":"text","text":", presented as a sheet and featuring eyedropper, favorites, and hexadecimal specification"}]}]}]},{"type":"codeListing","code":["var color = UIColor.blue","var colorPicker = UIColorPickerViewController()","","func pickColor() {","    colorPicker.supportsAlpha = true","    colorPicker.selectedColor = color","    self.present(","        colorPicker,","        animated: true,","        completion: nil","    )","}","","func colorPickerViewControllerDidSelectColor(","    _ viewController: UIColorPickerViewController",") {","    color = viewController.selectedColor","}","","func colorPickerViewControllerDidFinish(","    _ viewController: UIColorPickerViewController",") {","    \/\/ Do nothing","}"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"identifier":"WWDC20-10052-UIColorPickerController","type":"image"}]},{"type":"heading","anchor":"UIDatePicker","text":"`UIDatePicker`","level":2},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"UIDatePicker"},{"type":"text","text":" now offers a compact style, and we can optionally limit selection to just a date or time."}]}]}]},{"type":"codeListing","code":["let datePicker = UIDatePicker()","datePicker.date = Date(","    timeIntervalSinceReferenceDate: timeInterval",")","","datePicker.preferredDatePickerStyle = .compact","","datePicker.calendar = Calendar(identifier: .japanese)","datePicker.datePickerMode = .date","","datePicker.addTarget(","    self,","    action: #selector(dateSet),","    for: .valueChanged",")"],"syntax":"swift"},{"type":"table","rows":[[[{"type":"paragraph","inlineContent":[{"identifier":"WWDC20-10052-UIDatePicker-iOS","type":"image"}]}],[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC20-10052-UIDatePicker-macOS"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"iOS \/ iPadOS"}]}],[{"type":"paragraph","inlineContent":[{"text":"macOS","type":"text"}]}]]],"header":"row"},{"type":"heading","anchor":"UIMenu","text":"`UIMenu`","level":2},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"In iOS, we can now add "},{"type":"codeVoice","code":"UIMenu"},{"type":"text","text":"s to "},{"type":"codeVoice","code":"UIButtons"},{"type":"text","text":" and "},{"type":"codeVoice","code":"UIBarButtonItem"},{"type":"text","text":"s displayed to the user on a long press:"}]}]}]},{"type":"codeListing","code":["button.menu = UIMenu(...)","","barButtonItem.menu = UIMenu(...)"],"syntax":"swift"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"We can also adjust the behavior of menus to show immediately on touch down instead of waiting for a long press by:","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"codeVoice","code":"button.showsMenuAsPrimaryAction = true"},{"text":" for ","type":"text"},{"type":"codeVoice","code":"UIButton"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Not providing a primary action for ","type":"text"},{"code":"UIBarButtonItem","type":"codeVoice"}]}]}]}]},{"content":[{"inlineContent":[{"code":"UINavigationBar","type":"codeVoice"},{"type":"text","text":" back button now gets a default menu as well (to let the user jumps back to a previous controller quickly). Menu titles are automatically chosen, if we’re currently using a custom title view in our controller, consider setting:"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"code":".backBarButtonItem.title","type":"codeVoice"}]}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":".backButtonTitle"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":".title"}]}]}],"type":"unorderedList"}]}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC20-10052-NavigationBarBackButtonMenu"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"We can access "},{"code":"UIControl","type":"codeVoice"},{"type":"text","text":" interactions and their properties, and we can subclass "},{"code":"UIControl","type":"codeVoice"},{"type":"text","text":" and provide a custom implementation for our custom menu based UIs"}]}]},{"content":[{"inlineContent":[{"text":"We can use ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/UIDeferredMenuElement","isActive":true,"type":"reference"},{"text":" to add the ability to load menu items asynchronously while showing a standard loading UI.","type":"text"}],"type":"paragraph"}]}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC20-10052-UIDeferredMenuElement"},{"type":"text","text":" "}]},{"type":"heading","anchor":"UIAction","text":"`UIAction`","level":2},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"code":"UIAction","type":"codeVoice"},{"text":" can now be directly passed to ","type":"text"},{"code":"UIButton","type":"codeVoice"},{"text":", ","type":"text"},{"code":"UIBarButtonItem","type":"codeVoice"},{"text":", and ","type":"text"},{"code":"UISegmentedControl","type":"codeVoice"},{"text":" initializers.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"UIButton"},{"type":"text","text":" initializer "},{"type":"codeVoice","code":"init(type:primaryAction:)"},{"type":"text","text":" defaults the "},{"type":"codeVoice","code":"UIButton"},{"type":"text","text":" type to "},{"type":"codeVoice","code":".system"},{"type":"text","text":", which sets the button’s title and image to that of the primary action ("},{"type":"codeVoice","code":"primaryAction.title"},{"type":"text","text":" and "},{"type":"codeVoice","code":"primaryAction.image"},{"type":"text","text":")"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"We can now create "},{"code":"UISegmentedControl","type":"codeVoice"},{"type":"text","text":" as easy as:"}]}]}]},{"type":"codeListing","code":["let control = UISegmentedControl(frame: .zero, actions: Colors.allCases.map { color in ","\tUIAction(title: color.description) { [unowned imageView] _ in ","\t\timageView.tintColor = color.color()","\t}","})"],"syntax":"swift"},{"type":"heading","anchor":"Written-By","text":"Written By","level":2},{"type":"row","numberOfColumns":5,"columns":[{"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"ATahhan"}]}],"size":1},{"content":[{"anchor":"Ammar-AlTahhan","level":3,"type":"heading","text":"Ammar AlTahhan"},{"inlineContent":[{"type":"reference","overridingTitle":"Contributed Notes","overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/ATahhan","isActive":true},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","identifier":"https:\/\/github.com\/ATahhan","isActive":true},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","identifier":"https:\/\/","isActive":true}],"type":"paragraph"}],"size":4}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Missing anything? Corrections? "},{"isActive":true,"type":"reference","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"}]},{"type":"heading","anchor":"Related-Sessions","text":"Related Sessions","level":2},{"type":"links","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10056-Optimize-the-interface-of-your-Mac-Catalyst-app","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10093-Build-for-the-iPadOS-pointer","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10107-Whats-new-in-PencilKit","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10205-Design-with-iOS-pickers-menus-and-actions","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10652-Meet-the-new-Photos-picker"],"style":"list"},{"type":"small","inlineContent":[{"type":"strong","inlineContent":[{"text":"Legal Notice","type":"text"}]}]},{"inlineContent":[{"type":"text","text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}],"type":"small"}],"kind":"content"}],"variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc20-10052-build-with-ios-pickers-menus-and-actions"],"traits":[{"interfaceLanguage":"swift"}]}],"sections":[],"sampleCodeDownload":{"action":{"identifier":"https:\/\/developer.apple.com\/wwdc20\/10052","overridingTitle":"Watch Video (20 min)","isActive":true,"type":"reference"},"kind":"sampleDownload"},"abstract":[{"type":"text","text":"Build iPhone and iPad apps with fluid interfaces and easily-accessible contextual information. We’ll show you how to integrate the latest UIKit controls into your app to best take advantage of menus, date pickers, page controls, and segmented controllers. Learn how to adopt Menus throughly your user interface, and explore how UIAction can help unify your event handling."}],"kind":"article","references":{"https://developer.apple.com/documentation/uikit/UIPickerView":{"identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/UIPickerView","url":"https:\/\/developer.apple.com\/documentation\/uikit\/UIPickerView","type":"link","title":"UIPickerView","titleInlineContent":[{"type":"codeVoice","code":"UIPickerView"}]},"WWDC20-10052-UIDatePicker-iOS":{"variants":[{"url":"\/images\/WWDC20-10052-UIDatePicker-iOS.png","traits":["1x","light"]}],"alt":null,"type":"image","identifier":"WWDC20-10052-UIDatePicker-iOS"},"WWDC20-Icon.png":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC20-Icon.png"}],"type":"image","identifier":"WWDC20-Icon.png","alt":null},"WWDC20-10052-UIDeferredMenuElement":{"type":"image","identifier":"WWDC20-10052-UIDeferredMenuElement","alt":null,"variants":[{"url":"\/images\/WWDC20-10052-UIDeferredMenuElement.png","traits":["1x","light"]}]},"https://developer.apple.com/documentation/uikit/UIDeferredMenuElement":{"url":"https:\/\/developer.apple.com\/documentation\/uikit\/UIDeferredMenuElement","type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/UIDeferredMenuElement","title":"UIDeferredMenuElement","titleInlineContent":[{"code":"UIDeferredMenuElement","type":"codeVoice"}]},"https://developer.apple.com/wwdc20/10052":{"type":"download","checksum":null,"url":"https:\/\/developer.apple.com\/wwdc20\/10052","identifier":"https:\/\/developer.apple.com\/wwdc20\/10052"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10107-Whats-new-in-PencilKit":{"kind":"article","url":"\/documentation\/wwdcnotes\/wwdc20-10107-whats-new-in-pencilkit","type":"topic","role":"sampleCode","abstract":[{"text":"PencilKit helps power creativity, writing, drawing, and animation in your iPad apps. Explore the latest improvements to our drawing and annotation framework, and discover how you can take advantage of APIs like PKToolPicker, PKCanvasView, and PKStroke to support new features in illustration and writing apps.","type":"text"}],"title":"What’s new in PencilKit","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10107-Whats-new-in-PencilKit"},"ATahhan":{"variants":[{"url":"\/images\/ATahhan.jpeg","traits":["1x","light"]}],"alt":"Profile image of Ammar AlTahhan","type":"image","identifier":"ATahhan"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20","role":"collectionGroup","title":"WWDC20","type":"topic","abstract":[{"type":"text","text":"Xcode 12, Swift 5.3, iOS 14, macOS 11 (Big Sur), tvOS 14, watchOS 7."},{"type":"text","text":" "},{"text":"New APIs: ","type":"text"},{"code":"WidgetKit","type":"codeVoice"},{"text":", ","type":"text"},{"code":"StoreKit Testing","type":"codeVoice"},{"text":", and more.","type":"text"}],"kind":"article","images":[{"identifier":"WWDC20-Icon.png","type":"icon"},{"identifier":"WWDC20.jpeg","type":"card"}],"url":"\/documentation\/wwdcnotes\/wwdc20"},"https://":{"type":"link","title":"Blog","url":"https:\/\/","titleInlineContent":[{"text":"Blog","type":"text"}],"identifier":"https:\/\/"},"WWDC20-10052-NavigationBarBackButtonMenu":{"identifier":"WWDC20-10052-NavigationBarBackButtonMenu","alt":null,"type":"image","variants":[{"url":"\/images\/WWDC20-10052-NavigationBarBackButtonMenu.png","traits":["1x","light"]}]},"ATahhan.jpeg":{"alt":null,"type":"image","identifier":"ATahhan.jpeg","variants":[{"url":"\/images\/ATahhan.jpeg","traits":["1x","light"]}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10056-Optimize-the-interface-of-your-Mac-Catalyst-app":{"url":"\/documentation\/wwdcnotes\/wwdc20-10056-optimize-the-interface-of-your-mac-catalyst-app","type":"topic","title":"Optimize the interface of your Mac Catalyst app","kind":"article","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10056-Optimize-the-interface-of-your-Mac-Catalyst-app","abstract":[{"type":"text","text":"Discover how to tailor your Mac Catalyst app so that it looks and feels even more at home on the Mac by using the new “Optimize Interface for Mac” option in Xcode. Explore new layout and appearance options for Catalyst apps, and learn how they can provide you with graphical performance gains, sharper text, and an interface designed specifically for Apple’s desktops and laptops. We’ll show you how to take advantage of these options and provide best practices for organizing your code when developing for multiple platforms."}]},"WWDC20-10052-UIPageControl":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC20-10052-UIPageControl.png"}],"type":"image","identifier":"WWDC20-10052-UIPageControl","alt":null},"WWDCNotes.png":{"type":"image","identifier":"WWDCNotes.png","alt":null,"variants":[{"url":"\/images\/WWDCNotes.png","traits":["1x","light"]}]},"https://developer.apple.com/documentation/uikit/uislider":{"url":"https:\/\/developer.apple.com\/documentation\/uikit\/uislider","title":"UISlider","titleInlineContent":[{"type":"codeVoice","code":"UISlider"}],"type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/uislider"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"type":"link","title":"Contributions are welcome!","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","titleInlineContent":[{"text":"Contributions are welcome!","type":"text"}],"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10205-Design-with-iOS-pickers-menus-and-actions":{"url":"\/documentation\/wwdcnotes\/wwdc20-10205-design-with-ios-pickers-menus-and-actions","abstract":[{"text":"Create iPhone and iPad apps that look great and help people move quickly and directly to the information they need. Discover how you can integrate menus into your app for quick access to actions and settings, and learn where and when you should use them in your app. We’ll also walk you through the new Date Picker and Color Picker controls, and show you how to integrate them into your app.","type":"text"}],"kind":"article","title":"Design with iOS pickers, menus and actions","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10205-Design-with-iOS-pickers-menus-and-actions","type":"topic","role":"sampleCode"},"WWDC20.jpeg":{"identifier":"WWDC20.jpeg","alt":null,"type":"image","variants":[{"url":"\/images\/WWDC20.jpeg","traits":["1x","light"]}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10652-Meet-the-new-Photos-picker":{"abstract":[{"text":"Let people select photos and videos to use in your app without requiring full Photo Library access. Discover how the PHPicker API for iOS and Mac Catalyst ensures privacy while providing your app the features you need.","type":"text"}],"title":"Meet the new Photos picker","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10652-Meet-the-new-Photos-picker","type":"topic","kind":"article","url":"\/documentation\/wwdcnotes\/wwdc20-10652-meet-the-new-photos-picker"},"https://developer.apple.com/documentation/uikit/UIProgressView":{"url":"https:\/\/developer.apple.com\/documentation\/uikit\/UIProgressView","type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/UIProgressView","title":"UIProgressView","titleInlineContent":[{"code":"UIProgressView","type":"codeVoice"}]},"WWDC20-10052-UIDatePicker-macOS":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC20-10052-UIDatePicker-macOS.png"}],"type":"image","identifier":"WWDC20-10052-UIDatePicker-macOS","alt":null},"https://github.com/ATahhan":{"type":"link","url":"https:\/\/github.com\/ATahhan","identifier":"https:\/\/github.com\/ATahhan","titleInlineContent":[{"text":"GitHub","type":"text"}],"title":"GitHub"},"WWDC20-10052-UIColorPickerController":{"variants":[{"url":"\/images\/WWDC20-10052-UIColorPickerController.png","traits":["1x","light"]}],"alt":null,"type":"image","identifier":"WWDC20-10052-UIColorPickerController"},"doc://WWDCNotes/documentation/WWDCNotes":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","role":"collection","title":"WWDC Notes","type":"topic","abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"kind":"symbol","images":[{"identifier":"WWDCNotes.png","type":"icon"}],"url":"\/documentation\/wwdcnotes"},"doc://WWDCNotes/documentation/WWDCNotes/ATahhan":{"role":"sampleCode","images":[{"type":"card","identifier":"ATahhan.jpeg"},{"type":"icon","identifier":"ATahhan.jpeg"}],"title":"Ammar AlTahhan (12 notes)","kind":"article","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/ATahhan","url":"\/documentation\/wwdcnotes\/atahhan","abstract":[{"type":"text","text":"Software Engineer"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10093-Build-for-the-iPadOS-pointer":{"role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc20-10093-build-for-the-ipados-pointer","type":"topic","title":"Build for the iPadOS pointer","abstract":[{"text":"Help people who use iPad with a Magic Keyboard, mouse, trackpad or other input device get the most out of your app. We’ll show you how to add customizations to the pointer on iPad using pointer interaction APIs, create pointer effects for your buttons and custom views, and change the pointer shape in specific areas of your app to highlight them.","type":"text"}],"kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10093-Build-for-the-iPadOS-pointer"},"https://developer.apple.com/documentation/uikit/UIActivityIndicatorView":{"type":"link","title":"UIActivityIndicatorView","url":"https:\/\/developer.apple.com\/documentation\/uikit\/UIActivityIndicatorView","titleInlineContent":[{"type":"codeVoice","code":"UIActivityIndicatorView"}],"identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/UIActivityIndicatorView"}}}