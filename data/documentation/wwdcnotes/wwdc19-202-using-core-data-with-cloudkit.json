{"metadata":{"roleHeading":"WWDC19","modules":[{"name":"WWDC Notes"}],"role":"sampleCode","title":"Using Core Data With CloudKit"},"kind":"article","sampleCodeDownload":{"action":{"isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/wwdc19\/202","overridingTitle":"Watch Video (31 min)"},"kind":"sampleDownload"},"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-202-Using-Core-Data-With-CloudKit","interfaceLanguage":"swift"},"abstract":[{"text":"CloudKit offers powerful, cloud-syncing technology while Core Data provides extensive data modeling and persistence APIs. Learn about combining these complementary technologies to easily build cloud-backed applications. See how new Core Data APIs make it easy to manage the flow of data through your application, as well as in and out of CloudKit. Join us to learn more about combining these frameworks to provide a great experience across all your customers‚Äô devices.","type":"text"}],"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19"]]},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc19-202-using-core-data-with-cloudkit"]}],"schemaVersion":{"minor":3,"major":0,"patch":0},"primaryContentSections":[{"content":[{"type":"heading","text":"Overview","level":2,"anchor":"overview"},{"type":"paragraph","inlineContent":[{"text":"Data we create on one device is naturally trapped. To solve this, we typically want to turn to cloud storage, because it offers us the promise of moving data from one device, seamlessly and transparently, to all the other devices that we owned.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Cloud storage has benefit even if we only have a single device such as data backup and restore."}]},{"type":"heading","text":"Using Core Data with CloudKit","level":2,"anchor":"Using-Core-Data-with-CloudKit"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Everything should sync"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Sync should be easy"}]}]}]},{"type":"heading","text":"Existing Technologies","level":2,"anchor":"Existing-Technologies"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Core Data provides local persistence"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"CloudKit provides distributed persistence","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Both exist on all platforms"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Both support a wide variety of applications","type":"text"}],"type":"paragraph"}]}]},{"type":"paragraph","inlineContent":[{"identifier":"https:\/\/user-images.githubusercontent.com\/8705231\/158109333-3f1bd098-d754-4400-a150-230c9c438f96.png","type":"image"}]},{"type":"heading","text":"What‚Äôs New","level":2,"anchor":"Whats-New"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you ever built a CoreData application before, you would have seen "},{"isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/coredata\/nspersistentcontainer"},{"type":"text","text":" here. With the new subclass "},{"isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/coredata\/nspersistentcloudkitcontainer\/"},{"type":"text","text":" , you can add CloudKit functionality to existing CoreData applications by changing as little as one line of code."}]},{"code":["\/\/ before","let container = NSPersistentContainer(name: \"WWDCDemo\")","","\/\/ after","let container = NSPersistentCloudKitContainer(name: \"WWDCDemo\")"],"type":"codeListing","syntax":"swift"},{"type":"heading","text":"What Is `NSPersistentCloudKitContainer`?","level":3,"anchor":"What-Is-NSPersistentCloudKitContainer"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Encapsulation of common patterns"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Save thousands lines of code"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Foundation we can build on"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Help us help you! Submit feedback!","type":"text"}],"type":"paragraph"}]}]},{"type":"heading","text":"NSPersistentCloudKitContainer","level":4,"anchor":"NSPersistentCloudKitContainer"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"A local replica of CloudKit data","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Robust scheduling and error recovery","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Transformation of NSManagedObject to CKRecord"}]}]}]},{"type":"heading","text":"Life After Adopting NSPersistentCloudKitContainer","level":2,"anchor":"Life-After-Adopting-NSPersistentCloudKitContainer"},{"type":"heading","text":"Build Great Apps with Core Data","level":3,"anchor":"Build-Great-Apps-with-Core-Data"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Responsive user interfaces with NSFetchResultsController","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Stable views with query generations","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Change processing with history tracking"}]}]}]},{"type":"aside","style":"note","name":"Note","content":[{"inlineContent":[{"type":"text","text":"more on "},{"type":"reference","identifier":"https:\/\/www.wwdcnotes.com\/notes\/wwdc19\/230\/","isActive":true}],"type":"paragraph"}]},{"type":"heading","text":"Add on to our foundation","level":3,"anchor":"Add-on-to-our-foundation"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Working with multiple stores"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Data Segregation"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Enforcement of different types of constraints"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Throttling\/Coalescing"}]}]}]}]},{"content":[{"inlineContent":[{"text":"Working with the CloudKit Schema","type":"text"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Record types and entity names"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Asset externalization","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Relationships","type":"text"}],"type":"paragraph"}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Data Modeling for collaboration","type":"text"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Collaboration is not conflict resolution","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"NSPersistentCloudKitContainer resolves conflicts automatically","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Get better merge behavior with relationships","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"}]}]},{"type":"heading","text":"Multiple Stores","level":4,"anchor":"Multiple-Stores"},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"https:\/\/user-images.githubusercontent.com\/8705231\/158109444-15de4ec7-cb83-40ce-b836-cb4eaa7bd711.png"}]},{"type":"paragraph","inlineContent":[{"text":"By adding new configurations in ","type":"text"},{"text":"xcdatamodel","type":"text"},{"text":" with a few lines of code, you can manage which entities you want to sync.","type":"text"}]},{"code":["let container = NSPersistentCloudKitContainer(name: \"CloudKitContainer\"Ôºâ","","let local = NSPersistentStoreDescription(url: URL(fileURLWithPath:\"\/files\/local.sqlite\")Ôºâ","local.configuration = \"Local\"","","let cloud = NSPersistentStoreDescription(url: URL(fileURLWithPath: \"\/files\/cloud.sqlite\"ÔºâÔºâ","cloud.configuration = \"Cloud\"","cloud.cloudKitContainerOptions = NSPersistentCloudKitContainerOptions(containerIdentifier:\"iCloud.com.wwdc.demo\")","","container.persistentStoreDescriptions = [ local, cloud ]"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"What if we want to share some data in CloudKit across multiply applications we happened to work on? We can do this by just adding three lines of code."}]},{"code":["\/\/ ...","","let shared = NSPersistentStoreDescription(url: URL(fileURLWithPath: \"\/files\/shared.sqlite\"ÔºâÔºâ","cloud.configuration = \"Shared\"","cloud.cloudKitContainerOptions = NSPersistentCloudKitContainerOptions(containerIdentifier:\"iCloud.com.wwdc.shared\")","","container.persistentStoreDescriptions = [ local, cloud, shared ]"],"type":"codeListing","syntax":"swift"},{"type":"heading","text":"`NSPersistentCloudKitContainer`‚Äôs Schema","level":4,"anchor":"NSPersistentCloudKitContainers-Schema"},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"https:\/\/user-images.githubusercontent.com\/8705231\/158109577-adfae8fb-5ef0-4237-9fe9-92ccb3cc30bd.png"}]},{"type":"paragraph","inlineContent":[{"text":"Core Data generates subclasses of ","type":"text"},{"code":"NSManagedObject","type":"codeVoice"},{"text":" for us to use in code. Take ","type":"text"},{"code":"Post","type":"codeVoice"},{"text":" for example, the class Core Data generates and the record along with it that CloudKit generates will look like this:","type":"text"}]},{"type":"paragraph","inlineContent":[{"identifier":"https:\/\/user-images.githubusercontent.com\/8705231\/158109620-c7e554a9-ed39-4a45-9c7f-b945c81bbc91.png","type":"image"}]},{"type":"paragraph","inlineContent":[{"text":"Core Data owns the ","type":"text"},{"code":"recordID","type":"codeVoice"},{"text":" for all of the objects that it creates in CloudKit, and for each one CloudKit will generates a UUID to use as its record name. When the record name is combined with a zone identifier, you get a ","type":"text"},{"code":"CKRecordID","type":"codeVoice"},{"text":".","type":"text"}]},{"type":"aside","style":"note","name":"Funny thing","content":[{"type":"paragraph","inlineContent":[{"text":"Core Data will prefix everything with ","type":"text"},{"inlineContent":[{"type":"text","text":"CD_ to s"}],"type":"emphasis"},{"text":"egregate the things it manages.","type":"text"}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"In order to implement entity inheritance, the actual entity name will be stored in "},{"type":"codeVoice","code":"CD_entityName"},{"type":"text","text":" ."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"You will not see "},{"type":"codeVoice","code":"CD_xxx"},{"type":"text","text":" and "},{"type":"codeVoice","code":"CD_xxx_ckAsset"},{"type":"text","text":" in the same time. If the strings are very short, it will be stored directly in "},{"type":"codeVoice","code":"CD_xxx"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"identifier":"https:\/\/user-images.githubusercontent.com\/8705231\/158109635-2b2c23d0-eed9-469e-bb28-ca7afefb9f3b.png","type":"image"}]},{"type":"paragraph","inlineContent":[{"text":"But if one of them grows to be very large, approximately larger than 750KB, or if the total size of the record exceeds CloudKit‚Äôs maximum 1MB limit, you will begin to see ","type":"text"},{"code":"CD_xxx_ckAsset","type":"codeVoice"},{"text":" fields.","type":"text"}]},{"type":"paragraph","inlineContent":[{"identifier":"https:\/\/user-images.githubusercontent.com\/8705231\/158109655-6067ae3f-3c21-47bf-9bbc-84249584ae42.png","type":"image"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"For a to-one relationship, in this case the "},{"type":"codeVoice","code":"post"},{"type":"text","text":" field in "},{"type":"codeVoice","code":"Attachment"},{"type":"text","text":" , the record will look like this:"}]},{"type":"paragraph","inlineContent":[{"identifier":"https:\/\/user-images.githubusercontent.com\/8705231\/158109666-b74c4783-39af-4649-9775-dd79e87ae1aa.png","type":"image"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The UUID of the related record in CloudKit will always be stored on the object it‚Äôs linked to, since "},{"type":"codeVoice","code":"CKReference"},{"type":"text","text":" has some limitations that will not work well for Core Data Clients."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"For many-to-many relationships, in this case the one between a "},{"type":"codeVoice","code":"Post"},{"type":"text","text":" and a "},{"type":"codeVoice","code":"Tag"},{"type":"text","text":" , a custom joint record will be created:"}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"https:\/\/user-images.githubusercontent.com\/8705231\/158109681-69843ac2-ab05-4941-99ae-4878a0021cbf.png"}]},{"type":"heading","text":"Data Modeling for collaboration","level":4,"anchor":"Data-Modeling-for-collaboration"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Avoid collisions on ‚Äúflat‚Äù values"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Instead model values as contributions"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Leverage relationships for eventual consistency","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Order contributions","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Iterate as necessary","type":"text"}],"type":"paragraph"}]}]},{"type":"paragraph","inlineContent":[{"identifier":"https:\/\/user-images.githubusercontent.com\/8705231\/158109704-6a0a26a1-4400-4901-b6f5-8b08f964d629.png","type":"image"}]},{"type":"heading","text":"Written By","level":2,"anchor":"Written-By"},{"type":"row","columns":[{"content":[{"type":"paragraph","inlineContent":[{"identifier":"davidleee","type":"image"}]}],"size":1},{"content":[{"text":"David Lee","anchor":"David-Lee","level":3,"type":"heading"},{"inlineContent":[{"overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/davidleee","type":"reference","overridingTitle":"Contributed Notes","isActive":true},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"identifier":"https:\/\/github.com\/davidleee","type":"reference","isActive":true},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"identifier":"https:\/\/davidleee.com","type":"reference","isActive":true}],"type":"paragraph"}],"size":4}],"numberOfColumns":5},{"type":"paragraph","inlineContent":[{"text":"Missing anything? Corrections? ","type":"text"},{"type":"reference","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","isActive":true}]},{"type":"heading","text":"Related Sessions","level":2,"anchor":"Related-Sessions"},{"type":"links","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10119-Optimize-your-use-of-Core-Data-and-CloudKit","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10650-Sync-a-Core-Data-store-with-the-CloudKit-public-database","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-230-Making-Apps-with-Core-Data","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-419-Optimizing-Storage-in-Your-App"],"style":"list"},{"type":"small","inlineContent":[{"inlineContent":[{"text":"Legal Notice","type":"text"}],"type":"strong"}]},{"type":"small","inlineContent":[{"type":"text","text":"All content copyright ¬© 2012 ‚Äì 2024 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}]}],"kind":"content"}],"sections":[],"references":{"https://user-images.githubusercontent.com/8705231/158109635-2b2c23d0-eed9-469e-bb28-ca7afefb9f3b.png":{"variants":[{"url":"https:\/\/user-images.githubusercontent.com\/8705231\/158109635-2b2c23d0-eed9-469e-bb28-ca7afefb9f3b.png","traits":["1x","light"]}],"identifier":"https:\/\/user-images.githubusercontent.com\/8705231\/158109635-2b2c23d0-eed9-469e-bb28-ca7afefb9f3b.png","alt":"schema3","type":"image"},"https://user-images.githubusercontent.com/8705231/158109577-adfae8fb-5ef0-4237-9fe9-92ccb3cc30bd.png":{"variants":[{"url":"https:\/\/user-images.githubusercontent.com\/8705231\/158109577-adfae8fb-5ef0-4237-9fe9-92ccb3cc30bd.png","traits":["1x","light"]}],"identifier":"https:\/\/user-images.githubusercontent.com\/8705231\/158109577-adfae8fb-5ef0-4237-9fe9-92ccb3cc30bd.png","alt":"schema1","type":"image"},"davidleee.jpeg":{"variants":[{"url":"\/images\/davidleee.jpeg","traits":["1x","light"]}],"identifier":"davidleee.jpeg","alt":null,"type":"image"},"https://user-images.githubusercontent.com/8705231/158109333-3f1bd098-d754-4400-a150-230c9c438f96.png":{"variants":[{"url":"https:\/\/user-images.githubusercontent.com\/8705231\/158109333-3f1bd098-d754-4400-a150-230c9c438f96.png","traits":["1x","light"]}],"identifier":"https:\/\/user-images.githubusercontent.com\/8705231\/158109333-3f1bd098-d754-4400-a150-230c9c438f96.png","alt":"existing-technologies","type":"image"},"WWDC19.jpeg":{"variants":[{"url":"\/images\/WWDC19.jpeg","traits":["1x","light"]}],"identifier":"WWDC19.jpeg","alt":null,"type":"image"},"davidleee":{"variants":[{"url":"\/images\/davidleee.jpeg","traits":["1x","light"]}],"identifier":"davidleee","alt":"Profile image of David Lee","type":"image"},"WWDCNotes.png":{"variants":[{"url":"\/images\/WWDCNotes.png","traits":["1x","light"]}],"identifier":"WWDCNotes.png","alt":null,"type":"image"},"https://user-images.githubusercontent.com/8705231/158109655-6067ae3f-3c21-47bf-9bbc-84249584ae42.png":{"variants":[{"url":"https:\/\/user-images.githubusercontent.com\/8705231\/158109655-6067ae3f-3c21-47bf-9bbc-84249584ae42.png","traits":["1x","light"]}],"identifier":"https:\/\/user-images.githubusercontent.com\/8705231\/158109655-6067ae3f-3c21-47bf-9bbc-84249584ae42.png","alt":"schema4","type":"image"},"https://developer.apple.com/wwdc19/202":{"url":"https:\/\/developer.apple.com\/wwdc19\/202","identifier":"https:\/\/developer.apple.com\/wwdc19\/202","checksum":null,"type":"download"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"titleInlineContent":[{"text":"Contributions are welcome!","type":"text"}],"url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","title":"Contributions are welcome!","type":"link"},"doc://WWDCNotes/documentation/WWDCNotes":{"title":"WWDC Notes","kind":"symbol","images":[{"identifier":"WWDCNotes.png","type":"icon"}],"type":"topic","role":"collection","abstract":[{"text":"Session notes shared by the community for the community.","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","url":"\/documentation\/wwdcnotes"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10119-Optimize-your-use-of-Core-Data-and-CloudKit":{"title":"Optimize your use of Core Data and CloudKit","kind":"article","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc22-10119-optimize-your-use-of-core-data-and-cloudkit","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10119-Optimize-your-use-of-Core-Data-and-CloudKit","abstract":[{"text":"Join us as we explore the three parts of the development cycle that can help you optimize your Core Data and CloudKit implementation. We‚Äôll show you how you can analyze your app‚Äôs architecture and feature set to verify assumptions, explore changes in behavior after ingesting large data sets, and get actionable feedback to make improvements to your workflow.","type":"text"}],"role":"sampleCode"},"doc://WWDCNotes/documentation/WWDCNotes/davidleee":{"url":"\/documentation\/wwdcnotes\/davidleee","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/davidleee","images":[{"identifier":"davidleee.jpeg","type":"card"},{"identifier":"davidleee.jpeg","type":"icon"}],"abstract":[{"text":"Indie iOS developerüßëüèª‚Äçüíª","type":"text"}],"title":"David Lee (3 notes)","kind":"article","role":"sampleCode"},"https://user-images.githubusercontent.com/8705231/158109666-b74c4783-39af-4649-9775-dd79e87ae1aa.png":{"variants":[{"url":"https:\/\/user-images.githubusercontent.com\/8705231\/158109666-b74c4783-39af-4649-9775-dd79e87ae1aa.png","traits":["1x","light"]}],"identifier":"https:\/\/user-images.githubusercontent.com\/8705231\/158109666-b74c4783-39af-4649-9775-dd79e87ae1aa.png","alt":"schema5","type":"image"},"WWDC19-Icon.png":{"variants":[{"url":"\/images\/WWDC19-Icon.png","traits":["1x","light"]}],"identifier":"WWDC19-Icon.png","alt":null,"type":"image"},"https://github.com/davidleee":{"titleInlineContent":[{"text":"GitHub","type":"text"}],"url":"https:\/\/github.com\/davidleee","identifier":"https:\/\/github.com\/davidleee","title":"GitHub","type":"link"},"https://www.wwdcnotes.com/notes/wwdc19/230/":{"titleInlineContent":[{"text":"Making Apps with Core Data","type":"text"}],"url":"https:\/\/www.wwdcnotes.com\/notes\/wwdc19\/230\/","identifier":"https:\/\/www.wwdcnotes.com\/notes\/wwdc19\/230\/","title":"Making Apps with Core Data","type":"link"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19":{"title":"WWDC19","url":"\/documentation\/wwdcnotes\/wwdc19","abstract":[{"type":"text","text":"Xcode 11, Swift 5.1, iOS 13, macOS 10.15 (Catalina), tvOS 13, watchOS 6."},{"type":"text","text":" "},{"type":"text","text":"New APIs: "},{"code":"Combine","type":"codeVoice"},{"type":"text","text":", "},{"code":"Core Haptics","type":"codeVoice"},{"type":"text","text":", "},{"code":"Create ML","type":"codeVoice"},{"type":"text","text":", and more."}],"kind":"article","images":[{"type":"icon","identifier":"WWDC19-Icon.png"},{"type":"card","identifier":"WWDC19.jpeg"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19","role":"collectionGroup","type":"topic"},"https://developer.apple.com/documentation/coredata/nspersistentcontainer":{"titleInlineContent":[{"code":"NSPersistentContainer","type":"codeVoice"}],"url":"https:\/\/developer.apple.com\/documentation\/coredata\/nspersistentcontainer","identifier":"https:\/\/developer.apple.com\/documentation\/coredata\/nspersistentcontainer","title":"NSPersistentContainer","type":"link"},"https://user-images.githubusercontent.com/8705231/158109681-69843ac2-ab05-4941-99ae-4878a0021cbf.png":{"variants":[{"url":"https:\/\/user-images.githubusercontent.com\/8705231\/158109681-69843ac2-ab05-4941-99ae-4878a0021cbf.png","traits":["1x","light"]}],"identifier":"https:\/\/user-images.githubusercontent.com\/8705231\/158109681-69843ac2-ab05-4941-99ae-4878a0021cbf.png","alt":"schema6","type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-230-Making-Apps-with-Core-Data":{"title":"Making Apps with Core Data","abstract":[{"type":"text","text":"Core Data helps manage the flow of data throughout your app. Hear about new features in Core Data that make your code simpler and more powerful, including derived attributes, history tracking, change notifications and batch operations. Learn more about using these facilities and the new diffing APIs in UIKit and Foundation to make your apps run more efficiently."}],"type":"topic","url":"\/documentation\/wwdcnotes\/wwdc19-230-making-apps-with-core-data","role":"sampleCode","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-230-Making-Apps-with-Core-Data"},"https://user-images.githubusercontent.com/8705231/158109444-15de4ec7-cb83-40ce-b836-cb4eaa7bd711.png":{"variants":[{"url":"https:\/\/user-images.githubusercontent.com\/8705231\/158109444-15de4ec7-cb83-40ce-b836-cb4eaa7bd711.png","traits":["1x","light"]}],"identifier":"https:\/\/user-images.githubusercontent.com\/8705231\/158109444-15de4ec7-cb83-40ce-b836-cb4eaa7bd711.png","alt":"multiple-stores","type":"image"},"https://davidleee.com":{"titleInlineContent":[{"text":"Blog","type":"text"}],"url":"https:\/\/davidleee.com","identifier":"https:\/\/davidleee.com","title":"Blog","type":"link"},"https://developer.apple.com/documentation/coredata/nspersistentcloudkitcontainer/":{"titleInlineContent":[{"code":"NSPersistentCloudKitContainer","type":"codeVoice"}],"url":"https:\/\/developer.apple.com\/documentation\/coredata\/nspersistentcloudkitcontainer\/","identifier":"https:\/\/developer.apple.com\/documentation\/coredata\/nspersistentcloudkitcontainer\/","title":"NSPersistentCloudKitContainer","type":"link"},"https://user-images.githubusercontent.com/8705231/158109620-c7e554a9-ed39-4a45-9c7f-b945c81bbc91.png":{"variants":[{"url":"https:\/\/user-images.githubusercontent.com\/8705231\/158109620-c7e554a9-ed39-4a45-9c7f-b945c81bbc91.png","traits":["1x","light"]}],"identifier":"https:\/\/user-images.githubusercontent.com\/8705231\/158109620-c7e554a9-ed39-4a45-9c7f-b945c81bbc91.png","alt":"schema2","type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10650-Sync-a-Core-Data-store-with-the-CloudKit-public-database":{"abstract":[{"type":"text","text":"Discover how Core Data can help you adopt the CloudKit public database in your app with as little as one line of code. Learn how to easily manage the flow of data through your app and in and out of CloudKit. We‚Äôll show you how to combine the complementary power of Core Data and the CloudKit public database to allow people to access ‚Äî and contribute to ‚Äî data, such as high scores or application templates."}],"title":"Sync a Core Data store with the CloudKit public database","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10650-Sync-a-Core-Data-store-with-the-CloudKit-public-database","url":"\/documentation\/wwdcnotes\/wwdc20-10650-sync-a-core-data-store-with-the-cloudkit-public-database","kind":"article","role":"sampleCode"},"https://user-images.githubusercontent.com/8705231/158109704-6a0a26a1-4400-4901-b6f5-8b08f964d629.png":{"variants":[{"url":"https:\/\/user-images.githubusercontent.com\/8705231\/158109704-6a0a26a1-4400-4901-b6f5-8b08f964d629.png","traits":["1x","light"]}],"identifier":"https:\/\/user-images.githubusercontent.com\/8705231\/158109704-6a0a26a1-4400-4901-b6f5-8b08f964d629.png","alt":"data-modeling","type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-419-Optimizing-Storage-in-Your-App":{"url":"\/documentation\/wwdcnotes\/wwdc19-419-optimizing-storage-in-your-app","role":"sampleCode","type":"topic","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-419-Optimizing-Storage-in-Your-App","abstract":[{"text":"How you store data in your app affects not only disk footprint, but also the performance of your app and the battery life of the device. Learn techniques for optimizing data serialization, working with images, and syncing to disk. Find out how to take advantage of features in SQLite to improve performance and safety.","type":"text"}],"title":"Optimizing Storage in Your App"}}}