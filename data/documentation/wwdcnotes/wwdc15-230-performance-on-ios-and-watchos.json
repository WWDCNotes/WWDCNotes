{"metadata":{"roleHeading":"WWDC15","title":"Performance on iOS and watchOS","modules":[{"name":"WWDC Notes"}],"role":"sampleCode"},"kind":"article","abstract":[{"type":"text","text":"Great performance is a prerequisite for delivering a compelling and immersive app experience that keeps users engaged. Learn best practices and strategies for characterizing and improving the performance of your code for iPhone, iPad, and Apple Watch."}],"variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc15-230-performance-on-ios-and-watchos"],"traits":[{"interfaceLanguage":"swift"}]}],"sampleCodeDownload":{"kind":"sampleDownload","action":{"isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/wwdc15\/230","overridingTitle":"Watch Video (37 min)"}},"sections":[],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC15-230-Performance-on-iOS-and-watchOS"},"primaryContentSections":[{"kind":"content","content":[{"anchor":"Why-should-I-think-about-performance","type":"heading","level":2,"text":"Why should I think about performance?"},{"inlineContent":[{"type":"text","text":"It’s a feature in your app that you should have on your mind all the time:"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Responsiveness delights and engages users"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Be a good neighbor, especially in Multitasking on iPad","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Efficient apps extend battery life"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Supports the whole range of iOS 9 hardware"}]}]}]},{"anchor":"Thinking-About-Performance","type":"heading","level":2,"text":"Thinking About Performance"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Choosing technologies","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Know the technologies","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Pick the best ones for your app","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Apple technologies are optimized (we use them)","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Benifit from updating","type":"text"}]}]}],"type":"unorderedList"}]},{"content":[{"inlineContent":[{"type":"text","text":"Taking measurements"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Animations: Instruments: Core Animation"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Responsiveness: Core instrumentation, Instruments: System Trace"},{"type":"text","text":" "},{"type":"text","text":"- Don’t ship your instrumentation: Create a copy of release scheme in Xcode, and define one additional define, so you could build a release version of the app with performance instrumentation quickly and easily."},{"type":"text","text":" "},{"type":"text","text":"- Collect start and end times: CFAbsoluteTimeGetCurrent"},{"type":"text","text":" "},{"type":"text","text":"- Taps and button presses: IBAction, touchesEnded, UIGestureRecognizer target"},{"type":"text","text":" "},{"type":"text","text":"- Tabs and modal views: viewWillAppear, viewDidAppear, will show how long it takes to display a the view."}]}]}]}]},{"content":[{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Memory: Xcode debugger, Instruments Allocations, Instruments Leaks","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Allocate, Reallocate memory takes time.","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Ref: iOS App Performance: Memory, WWDC12"}]}]},{"content":[{"inlineContent":[{"text":"Ref: Improving Your App with Instruments, WWDC14","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Ref: Optimzing Your App Multitasking on iPad in iOS 9","type":"text"}]}]}]}]}]}]}],"type":"unorderedList"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Setting goals"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"60fps scrolling and animations."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Respond to user actiosn in 100ms"}]}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Performance Workflow","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Reproduce -> Profil -> Measure -> Change code -> Reproduce"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Profiling vs Measuring"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Profiling: Unsderstanding overall app activity"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Xcode debugger","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Instruments: Time Profiler"}]}]}]}]}]}]}]}]},{"content":[{"type":"unorderedList","items":[{"content":[{"items":[{"content":[{"inlineContent":[{"text":"Measuring: Instrumenting a specific action","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"CGAbsoluteTimeGetCurrent","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Instruments: System Trace","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"}]}],"type":"unorderedList"}]}]}]},{"content":[{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Avoid Using the Main Thread for","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"CPU-intensive work"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Tasks that depend on external resource"}],"type":"paragraph"}]}]}]}]}]},{"content":[{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Common Blocking Calls","type":"text"}]},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Any code path that ends up making a syscall"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Accessing resources not currently in memory: Disk I\/O, Network access","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Waiting for work to complete on another thread","type":"text"}]}]}],"type":"unorderedList"}]}],"type":"unorderedList"}]},{"content":[{"items":[{"content":[{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Networking: ","type":"text"},{"code":"NSURLConnection","type":"codeVoice"},{"text":" and friends","type":"text"}]},{"items":[{"content":[{"inlineContent":[{"text":"Use asynchronous API","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Use GCD, Ref: Building Responsive and Efficient Apps with GCD","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"code":"NSURLSession","type":"codeVoice"},{"text":" background session","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"}]}],"type":"unorderedList"}]}],"type":"unorderedList"}]},{"content":[{"items":[{"content":[{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Foundation initializers"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"contentsOfFile:"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"contentsOfURL:","type":"text"}]}]}],"type":"unorderedList"}]}],"type":"unorderedList"}]}],"type":"unorderedList"}]},{"content":[{"items":[{"content":[{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Core Data","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"Move some Core Data work to different concurrency modes. Ref: What’s New in Core Data, Mission.","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"}]}]}]}],"type":"unorderedList"}]}]},{"text":"Written By","level":2,"anchor":"Written-By","type":"heading"},{"numberOfColumns":5,"columns":[{"content":[{"inlineContent":[{"type":"image","identifier":"antonio081014"}],"type":"paragraph"}],"size":1},{"content":[{"text":"Yi","anchor":"Yi","level":3,"type":"heading"},{"inlineContent":[{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/antonio081014","isActive":true,"type":"reference","overridingTitle":"Contributed Notes","overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}]},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/github.com\/antonio081014","isActive":true,"type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/medium.com\/@antonio081014","isActive":true,"type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/x.com\/antonio081014","isActive":true,"type":"reference"}],"type":"paragraph"}],"size":4}],"type":"row"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Missing anything? Corrections? "},{"isActive":true,"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"reference"}]},{"type":"small","inlineContent":[{"inlineContent":[{"type":"text","text":"Legal Notice"}],"type":"strong"}]},{"type":"small","inlineContent":[{"type":"text","text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}]}]}],"schemaVersion":{"minor":3,"major":0,"patch":0},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC15"]]},"references":{"WWDC15.jpeg":{"alt":null,"type":"image","identifier":"WWDC15.jpeg","variants":[{"url":"\/images\/WWDC15.jpeg","traits":["1x","light"]}]},"https://medium.com/@antonio081014":{"url":"https:\/\/medium.com\/@antonio081014","title":"Blog","type":"link","identifier":"https:\/\/medium.com\/@antonio081014","titleInlineContent":[{"type":"text","text":"Blog"}]},"https://x.com/antonio081014":{"url":"https:\/\/x.com\/antonio081014","title":"X\/Twitter","type":"link","identifier":"https:\/\/x.com\/antonio081014","titleInlineContent":[{"type":"text","text":"X\/Twitter"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC15":{"title":"WWDC15","kind":"article","abstract":[{"type":"text","text":"Xcode 7, Swift 2.0, iOS 9, macOS 10.11 (El Capitan), watchOS 2."}],"type":"topic","url":"\/documentation\/wwdcnotes\/wwdc15","role":"collectionGroup","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC15","images":[{"identifier":"WWDC15-Icon.png","type":"icon"},{"identifier":"WWDC15.jpeg","type":"card"}]},"doc://WWDCNotes/documentation/WWDCNotes/antonio081014":{"title":"Yi (16 notes)","role":"sampleCode","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/antonio081014","url":"\/documentation\/wwdcnotes\/antonio081014","images":[{"identifier":"antonio081014.jpeg","type":"card"},{"identifier":"antonio081014.jpeg","type":"icon"}],"kind":"article","abstract":[{"text":"Reveal a brilliant idea in a very mobile engineer way.","type":"text"}]},"antonio081014.jpeg":{"alt":null,"type":"image","identifier":"antonio081014.jpeg","variants":[{"url":"\/images\/antonio081014.jpeg","traits":["1x","light"]}]},"antonio081014":{"alt":"Profile image of Yi","type":"image","identifier":"antonio081014","variants":[{"url":"\/images\/antonio081014.jpeg","traits":["1x","light"]}]},"https://github.com/antonio081014":{"url":"https:\/\/github.com\/antonio081014","title":"GitHub","type":"link","identifier":"https:\/\/github.com\/antonio081014","titleInlineContent":[{"type":"text","text":"GitHub"}]},"WWDCNotes.png":{"alt":null,"type":"image","identifier":"WWDCNotes.png","variants":[{"url":"\/images\/WWDCNotes.png","traits":["1x","light"]}]},"WWDC15-Icon.png":{"alt":null,"type":"image","identifier":"WWDC15-Icon.png","variants":[{"url":"\/images\/WWDC15-Icon.png","traits":["1x","light"]}]},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","title":"Contributions are welcome!","type":"link","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","titleInlineContent":[{"type":"text","text":"Contributions are welcome!"}]},"doc://WWDCNotes/documentation/WWDCNotes":{"kind":"symbol","url":"\/documentation\/wwdcnotes","abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"title":"WWDC Notes","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","role":"collection","images":[{"identifier":"WWDCNotes.png","type":"icon"}]},"https://developer.apple.com/wwdc15/230":{"url":"https:\/\/developer.apple.com\/wwdc15\/230","checksum":null,"type":"download","identifier":"https:\/\/developer.apple.com\/wwdc15\/230"}}}