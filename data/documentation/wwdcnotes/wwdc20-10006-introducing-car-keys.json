{"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10006-Introducing-Car-Keys","interfaceLanguage":"swift"},"metadata":{"title":"Introducing Car Keys","modules":[{"name":"WWDC Notes"}],"role":"sampleCode","roleHeading":"WWDC20"},"seeAlsoSections":[{"title":"New Tools & Frameworks","generated":true,"identifiers":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10659-Introducing-StoreKit-Testing-in-Xcode","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10224-Meet-Audio-Workgroups","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10670-Meet-Face-ID-and-Touch-ID-for-the-web","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10668-Meet-Nearby-Interaction","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10665-Meet-Safari-Web-Extensions","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10106-Meet-Scribble-for-iPad","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10100-Meet-Watch-Face-Sharing","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10028-Meet-WidgetKit","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10652-Meet-the-new-Photos-picker"]}],"primaryContentSections":[{"kind":"content","content":[{"level":2,"anchor":"overview","text":"Overview","type":"heading"},{"inlineContent":[{"type":"text","text":"For specifications refer to the "},{"identifier":"http:\/\/carconnectivity.org","type":"reference","isActive":true},{"type":"text","text":"."}],"type":"paragraph"},{"level":2,"anchor":"Whats-Car-Keys","text":"What’s Car Keys?","type":"heading"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"With Car Keys you can lock, unlock and start supported cars via iPhone and Apple Watch.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Securely stored on device and iCloud","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Shareable and manageable remotely"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Supports multiple radio technology: NFC (for now), Ultrawide-band soon","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Designed to work without a network connection","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Works with Power Reserve (aka even when your device is out of battery and switched off)","type":"text"}],"type":"paragraph"}]}]},{"level":2,"anchor":"Car-compatibility","text":"Car compatibility","type":"heading"},{"inlineContent":[{"text":"Three requirements:","type":"text"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Owner pairing"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Transactions"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Server interfaces"}]}]}]},{"level":3,"anchor":"Owner-pairing","text":"Owner pairing","type":"heading"},{"inlineContent":[{"text":"Required to setup (additional) car keys on the iPhone.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Steps:"}],"type":"paragraph"},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"the user must prove ownership of the car (this step is up to the automaker)","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"initiate pairing (via app or email by automaker)"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"place iPhone nearby the car radio sensor","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Car key appears in Wallet.app"}]}]}]},{"level":3,"anchor":"Transactions","text":"Transactions","type":"heading"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Used to lock. unlock, and start the car engine"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Cars are required to provide radio sensors in the door handle and dashboard","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Express mode"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"makes the transaction work without user identification first (face\/touch id or password)"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"on by default, the user can turn it off","type":"text"}]}]}]}]},{"content":[{"inlineContent":[{"type":"text","text":"completely offline"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"No data is sent to Apple (a.k.a Apple doesn’t know when the user uses the car)","type":"text"}],"type":"paragraph"}]}]},{"level":3,"anchor":"Service-interfaces","text":"Service interfaces","type":"heading"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"required for car key sharing and management"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Share keys via Messages.app","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The car can be offline when the sharing happens"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Fully encrypted: Apple has no info who the user shares the key with","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Automakers can provide different access levels to different car keys, for example to limit the car speed","type":"text"}]}]}]},{"level":2,"anchor":"Key-Management","text":"Key Management","type":"heading"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"the owner can create, manage, revoke, and share keys on iPhone","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"some functionality can be added in the dashboard"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"car keys removed on iPhone stop working immediately, even if the device is offline","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"iCloud lost mode temporarily suspends car keys on iPhone or Apple Watch (by locking the car key applet on the Secure Element)"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"when purchasing a new phone, the owner needs to pair the new device to the car and all previous keys will be automatically transferred, shared keys will keep working seamlessly"}],"type":"paragraph"}]}]},{"level":2,"anchor":"System-Architecture","text":"System Architecture","type":"heading"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"All key management is integrated in iOS, doesn’t relay on automakers"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"keys are created and stored on Secure Element (NFC\/ApplePay chip)"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"use AES and Elliptic curve (EC) cryptography","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Offline design based on PKI (Public Key infrastructure)","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Automaker TSM (Trusted service manager) not required"}]}]}]},{"level":3,"anchor":"Key-lifecycle","text":"Key lifecycle","type":"heading"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Elliptic curve private\/public key created in the device’s Secure Element","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"The private key never leaves the Secure Element","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"The public key is exported in a X.509 certificate for authenticity certification","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"A Secure Element Applet implements the car key:","type":"text"}]},{"items":[{"content":[{"inlineContent":[{"text":"stores key pair and binds it to the car","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"implements transactions and manages secure mailboxes which store key attestations and security tokens that prevent a revoked car key from being re-activated"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Mailboxes also support immobilizer tokens for compatibility with existing car architectures","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"For memory efficiency all car keys are hosted in a single applet instance","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"}]}]},{"level":2,"anchor":"Written-By","text":"Written By","type":"heading"},{"columns":[{"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"https:\/\/avatars.githubusercontent.com\/u\/5277837?v=4"}]}],"size":1},{"content":[{"anchor":"Federico-Zanetello","text":"Federico Zanetello","level":3,"type":"heading"},{"inlineContent":[{"isActive":true,"type":"reference","overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}],"overridingTitle":"Contributed Notes","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"isActive":true,"type":"reference","identifier":"https:\/\/github.com\/zntfdr"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"isActive":true,"type":"reference","identifier":"https:\/\/zntfdr.dev"}],"type":"paragraph"}],"size":4}],"type":"row","numberOfColumns":5},{"inlineContent":[{"type":"text","text":"Missing anything? Corrections? "},{"identifier":"https:\/\/wwdcnotes.github.io\/WWDCNotes\/documentation\/wwdcnotes\/contributing","isActive":true,"type":"reference"}],"type":"paragraph"},{"level":2,"anchor":"Related-Sessions","text":"Related Sessions","type":"heading"},{"style":"list","type":"links","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10084-Explore-UWBbased-car-keys"]},{"inlineContent":[{"inlineContent":[{"text":"Legal Notice","type":"text"}],"type":"strong"}],"type":"small"},{"inlineContent":[{"text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved.","type":"text"},{"text":" ","type":"text"},{"text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries.","type":"text"},{"text":" ","type":"text"},{"text":"This website is not made by, affiliated with, nor endorsed by Apple.","type":"text"}],"type":"small"}]}],"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20"]]},"schemaVersion":{"patch":0,"minor":3,"major":0},"variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc20-10006-introducing-car-keys"],"traits":[{"interfaceLanguage":"swift"}]}],"sections":[],"sampleCodeDownload":{"action":{"type":"reference","overridingTitle":"Watch Video (21 min)","identifier":"https:\/\/developer.apple.com\/wwdc20\/10006","isActive":true},"kind":"sampleDownload"},"kind":"article","abstract":[{"text":"You can now store car keys on iPhone or Apple Watch. You no longer have to bring your key fob to unlock and start your car. And with digital keys, it’s easy to share them with family or friends, and manage keys remotely.","type":"text"}],"references":{"https://github.com/zntfdr":{"titleInlineContent":[{"text":"GitHub","type":"text"}],"identifier":"https:\/\/github.com\/zntfdr","type":"link","title":"GitHub","url":"https:\/\/github.com\/zntfdr"},"doc://WWDCNotes/documentation/WWDCNotes":{"kind":"symbol","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","role":"collection","title":"WWDC Notes","url":"\/documentation\/wwdcnotes","abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"images":[{"identifier":"WWDCNotes.png","type":"icon"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10652-Meet-the-new-Photos-picker":{"role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10652-Meet-the-new-Photos-picker","abstract":[{"type":"text","text":"Let people select photos and videos to use in your app without requiring full Photo Library access. Discover how the PHPicker API for iOS and Mac Catalyst ensures privacy while providing your app the features you need."}],"title":"Meet the new Photos picker","url":"\/documentation\/wwdcnotes\/wwdc20-10652-meet-the-new-photos-picker","kind":"article","type":"topic"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10665-Meet-Safari-Web-Extensions":{"title":"Meet Safari Web Extensions","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10665-Meet-Safari-Web-Extensions","kind":"article","url":"\/documentation\/wwdcnotes\/wwdc20-10665-meet-safari-web-extensions","abstract":[{"type":"text","text":"When you create a Safari Web Extension, you can help people get common online tasks done more quickly and efficiently. We’ll show you how to build a new Safari Web Extension and host it on the App Store, as well as how to use the safari-web-extension-converter tool to migrate existing extensions from other web browsers like Chrome, Firefox, or Edge with very little effort."}],"type":"topic"},"https://developer.apple.com/wwdc20/10006":{"identifier":"https:\/\/developer.apple.com\/wwdc20\/10006","url":"https:\/\/developer.apple.com\/wwdc20\/10006","checksum":null,"type":"download"},"doc://WWDCNotes/documentation/WWDCNotes/zntfdr":{"abstract":[{"text":"Software engineer with a strong passion for well-written code, thought-out composable architectures, automation, tests, and more.","type":"text"}],"role":"sampleCode","kind":"article","url":"\/documentation\/wwdcnotes\/zntfdr","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","title":"Federico Zanetello (214 notes)","type":"topic"},"WWDCNotes.png":{"alt":null,"identifier":"WWDCNotes.png","type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes.png"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20":{"type":"topic","url":"\/documentation\/wwdcnotes\/wwdc20","role":"collectionGroup","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20","abstract":[{"text":"Xcode 12, Swift 5.3, iOS 13, macOS 11, tvOS 14, watchOS 7.","type":"text"},{"text":" ","type":"text"},{"text":"New APIs: ","type":"text"},{"type":"codeVoice","code":"WidgetKit"},{"text":", ","type":"text"},{"type":"codeVoice","code":"StoreKit Testing"},{"text":", and more.","type":"text"}],"kind":"article","images":[{"identifier":"WWDCNotes.png","type":"icon"}],"title":"WWDC20"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10659-Introducing-StoreKit-Testing-in-Xcode":{"abstract":[{"text":"Discover StoreKit Testing in Xcode — a local environment for testing your in-app purchases without needing to connect to App Store servers. We’ll show you how to set up a test environment, create a StoreKit configuration file, and prepare to validate receipts locally. We’ll also explain how to test a variety of in-app purchase scenarios and automate those tests with the StoreKitTest framework, and cover the latest improvements to testing in the sandbox environment.","type":"text"}],"kind":"article","type":"topic","role":"sampleCode","title":"Introducing StoreKit Testing in Xcode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10659-Introducing-StoreKit-Testing-in-Xcode","url":"\/documentation\/wwdcnotes\/wwdc20-10659-introducing-storekit-testing-in-xcode"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10106-Meet-Scribble-for-iPad":{"abstract":[{"type":"text","text":"Scribble offers a lightweight, ergonomic, and enjoyable way of entering text on iPad with Apple Pencil. Discover how people can take advantage of Scribble and handwritten text in apps that use standard text input controls or that implement a custom text editing experience. You’ll learn how it integrates into TextKit, and when you’ll need to adopt the new UIScribbleInteraction and UIIndirectScribbleInteraction APIs to provide a delightful and consistent experience with Scribble in your app."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10106-Meet-Scribble-for-iPad","kind":"article","url":"\/documentation\/wwdcnotes\/wwdc20-10106-meet-scribble-for-ipad","role":"sampleCode","title":"Meet Scribble for iPad","type":"topic"},"http://carconnectivity.org":{"titleInlineContent":[{"text":"Car Connectivity Consortium","type":"text"}],"identifier":"http:\/\/carconnectivity.org","title":"Car Connectivity Consortium","url":"http:\/\/carconnectivity.org","type":"link"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10668-Meet-Nearby-Interaction":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10668-Meet-Nearby-Interaction","role":"sampleCode","title":"Meet Nearby Interaction","abstract":[{"text":"The Nearby Interaction framework streams distance and direction between opted-in Apple devices containing the U1 chip. Discover how this powerful combination of hardware and software allow you to create intuitive spatial interactions based on the relative position of two or more devices. We’ll walk you through this session-based API and show you how to deliver entirely new interactive experiences — all with privacy in mind.","type":"text"}],"url":"\/documentation\/wwdcnotes\/wwdc20-10668-meet-nearby-interaction","kind":"article","type":"topic"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10670-Meet-Face-ID-and-Touch-ID-for-the-web":{"abstract":[{"type":"text","text":"Face ID and Touch ID provide a frictionless experience when logging in — and now you can use them on your websites in Safari with the Web Authentication API. Discover how to add this convenient and secure login alternative to your website."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10670-Meet-Face-ID-and-Touch-ID-for-the-web","kind":"article","url":"\/documentation\/wwdcnotes\/wwdc20-10670-meet-face-id-and-touch-id-for-the-web","role":"sampleCode","title":"Meet Face ID and Touch ID for the web","type":"topic"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10028-Meet-WidgetKit":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10028-Meet-WidgetKit","title":"Meet WidgetKit","abstract":[{"text":"Meet WidgetKit: the best way to bring your app’s most useful information directly to the home screen. We’ll show you what makes a great widget and take a look at WidgetKit’s features and functionality. Learn how to get started creating a widget, and find out how WidgetKit leverages the power of SwiftUI to provide a stateless experience. Discover how to harness your existing proactive technologies to make sure your widget surfaces relevant material. And create a Timeline that ensures your content is always fresh.","type":"text"}],"kind":"article","role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc20-10028-meet-widgetkit","type":"topic"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10224-Meet-Audio-Workgroups":{"abstract":[{"type":"text","text":"Fine-tune your audio app or plug-in for Apple silicon Macs: We’ll show you how to register your realtime threads using Audio Workgroups and make your app sing. Learn more about the power efficiency of System on a Chip (SoC) and how you can take advantage of new APIs to improve the speed and sound of your apps and plug-ins."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10224-Meet-Audio-Workgroups","kind":"article","url":"\/documentation\/wwdcnotes\/wwdc20-10224-meet-audio-workgroups","role":"sampleCode","title":"Meet Audio Workgroups","type":"topic"},"https://wwdcnotes.github.io/WWDCNotes/documentation/wwdcnotes/contributing":{"type":"link","titleInlineContent":[{"type":"text","text":"Contributions are welcome!"}],"url":"https:\/\/wwdcnotes.github.io\/WWDCNotes\/documentation\/wwdcnotes\/contributing","identifier":"https:\/\/wwdcnotes.github.io\/WWDCNotes\/documentation\/wwdcnotes\/contributing","title":"Contributions are welcome!"},"https://zntfdr.dev":{"titleInlineContent":[{"text":"Blog","type":"text"}],"identifier":"https:\/\/zntfdr.dev","type":"link","title":"Blog","url":"https:\/\/zntfdr.dev"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10100-Meet-Watch-Face-Sharing":{"kind":"article","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10100-Meet-Watch-Face-Sharing","abstract":[{"text":"Show off your watchOS app’s complications and create a watch face worth sharing. Learn how to share watch faces inside your watchOS and iOS apps or host them on the web for anyone to find and download. We’ll also explore best practices for using watch face preview images, and show you how to create a smooth installation experience.","type":"text"}],"url":"\/documentation\/wwdcnotes\/wwdc20-10100-meet-watch-face-sharing","title":"Meet Watch Face Sharing","type":"topic"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10084-Explore-UWBbased-car-keys":{"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10084-Explore-UWBbased-car-keys","title":"Explore UWB-based car keys","url":"\/documentation\/wwdcnotes\/wwdc21-10084-explore-uwbbased-car-keys","role":"sampleCode","kind":"article","abstract":[{"text":"Discover how to create digital car keys that support Ultra Wideband (UWB), allowing people to unlock and start their car while leaving iPhone in their bag or pocket or Apple Watch on their wrist. We’ll show you how to integrate UWB, add proximity actions and distance unlock features, and help people personalize their vehicle settings by identifying which key someone uses on the driver-side door.","type":"text"}]},"https://avatars.githubusercontent.com/u/5277837?v=4":{"alt":"Profile image of Federico Zanetello","variants":[{"url":"https:\/\/avatars.githubusercontent.com\/u\/5277837?v=4","traits":["1x","light"]}],"type":"image","identifier":"https:\/\/avatars.githubusercontent.com\/u\/5277837?v=4"}}}