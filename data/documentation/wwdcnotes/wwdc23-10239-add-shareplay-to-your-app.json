{"metadata":{"roleHeading":"WWDC23","modules":[{"name":"WWDC Notes"}],"role":"sampleCode","title":"Add SharePlay to your app"},"kind":"article","schemaVersion":{"patch":0,"minor":3,"major":0},"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10239-Add-SharePlay-to-your-app","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Discover how your app can take advantage of SharePlay to turn any activity into a shareable experience with friends! We’ll share the latest updates to SharePlay, explore the benefits of creating shared activities, dive into some exciting use cases, and take you through best practices to create engaging and fun moments of connection in your app."}],"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23"]]},"primaryContentSections":[{"content":[{"text":"Overview","level":2,"type":"heading","anchor":"overview"},{"inlineContent":[{"type":"text","text":"SharePlay is all about any activity done with others."}],"type":"paragraph"},{"text":"New to SharePlay","level":2,"type":"heading","anchor":"New-to-SharePlay"},{"inlineContent":[{"type":"text","text":"Groups are often already together when they use SharePlay, and the activities will often change over the duration of the group. SharePlay enables your app to take advantage of the group that’s already present."}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"New: SharePlay over AirDrop","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"AirDrop joins FaceTime & iMessage as existing group contexts you can use in SharePlay"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"tvOS 17 brings FaceTime to tvOS - and SharePlay works there too"}]}]}]}]}],"type":"unorderedList"},{"inlineContent":[{"type":"text","text":"When defining your Group Activity type, you’ll need to provide metadata so the system can best represent your activity:"}],"type":"paragraph"},{"syntax":"swift","code":["var metadata: GroupActivityMetadata {","\tvar metadata = GroupActivityMetadata()","\tmetadata.title = \"Order Tacos Together\"","\tmetadata.type = .generic","\treturn metadata","}"],"type":"codeListing"},{"inlineContent":[{"text":"In this piece of metadata, the type is set to ","type":"text"},{"code":".generic","type":"codeVoice"},{"text":" - and this tells the system (for example) what type of icon to use. In new OS versions, there are 6 additional types you can use.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"Related WWDC videos:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"identifier":"https:\/\/developer.apple.com\/videos\/play\/wwdc2023\/10087","type":"reference","isActive":true}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/videos\/play\/wwdc2023\/10241"}],"type":"paragraph"}]}],"type":"unorderedList"},{"text":"Add SharePlay to your app","level":2,"type":"heading","anchor":"Add-SharePlay-to-your-app"},{"inlineContent":[{"text":"Adopting SharePlay brings a group directly into your app. Activities can be ephemeral, and switching between experiences is seamless.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"identifier":"WWDC23-10239-GroupActivityShareSheet","type":"image"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"New: in iOS 17, tapping Share in an active FaceTime call presents a new share sheet showing apps that support SharePlay","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Adopting Group Activities gives your app all the necessary UI elements for managing a group:","type":"text"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"People picker"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Notifications"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"State changes","type":"text"}]}]}],"type":"unorderedList"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"You also get the fully encrypted, low-latency data channel for syncing your group’s activity"}]}]}],"type":"unorderedList"},{"text":"Adopting SharePlay","level":3,"type":"heading","anchor":"Adopting-SharePlay"},{"inlineContent":[{"text":"First, import the ","type":"text"},{"type":"codeVoice","code":"GroupActivities"},{"text":" framework and create an activity that follows the ","type":"text"},{"type":"codeVoice","code":"GroupActivity"},{"text":" protocol:","type":"text"}],"type":"paragraph"},{"syntax":"swift","code":["import GroupActivities","","struct OrderTogether: GroupActivity {","\t\/\/ Define a unique activity identifier for system to reference","\tstatic let activityIdentifier = \"com.example.apple-samplecode.TacoTruck.OrderTogether\"","\t\/\/ App-specific data so your app can launch the activity on others' devices","\tlet orderUUID: UUID","\tlet truckName: String","","\tvar metadata: GroupActivityMetadata {","\t\tvar metadata = GroupActivityMetadata ()","\t\tmetadata.title = \"Order Tacos Together\"","\t\tmetadata.subtitle = truckName","\t\tmetadata.previewImage = UIImage (named: \"ActivityImage\" )?.cgImage","\t\tmetadata.type = .shopTogether","\t\treturn metadata","\t}","}"],"type":"codeListing"},{"inlineContent":[{"type":"text","text":"The metadata is also used to provide joining options:"}],"type":"paragraph"},{"inlineContent":[{"identifier":"WWDC23-10239-GroupActivityJoin","type":"image"}],"type":"paragraph"},{"inlineContent":[{"text":"For more details on integrating SharePlay, see the ","type":"text"},{"isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/GroupActivities\/","type":"reference"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"For more detail on using SharePlay to adapt to your use case: "},{"isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/wwdc21\/10187"}],"type":"paragraph"},{"text":"Best practices","level":2,"type":"heading","anchor":"Best-practices"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Be specific to your use case"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Think about how you would share this experience with friends - without any devices"}]}]},{"content":[{"inlineContent":[{"text":"Take notes of the parts of these experiences that make you feel connected to the people you’re sharing them with","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Add elements to your apps design that might help preserves that feeling of togetherness","type":"text"}]}]}],"type":"unorderedList"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"For more details: ","type":"text"},{"type":"reference","identifier":"https:\/\/developer.apple.com\/wwdc22\/10139","isActive":true}]}]}],"type":"unorderedList"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Design for all platforms your app supports"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"iOS, iPadOS, macOS, tvOS are all supported","type":"text"}]}]}],"type":"unorderedList"}]},{"content":[{"inlineContent":[{"type":"text","text":"Consider SharePlay for experiences far and near"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Add an in-app SharePlay button","type":"text"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Don’t forget to adopt NSItemProvider"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"This will allow users to start a SharePlay sessions from the share sheet or via AirDrop","type":"text"}]}]}],"type":"unorderedList"}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Define descriptive, contextual metadata, and state changes","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Test your experience","type":"text"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"You’ll need 2 or more devices to test effectively"}],"type":"paragraph"}]}]}]}],"type":"unorderedList"},{"text":"Wrap Up","level":2,"type":"heading","anchor":"Wrap-Up"},{"inlineContent":[{"text":"Every app has an opportunity for SharePlay:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Gives you access to existing groups via FaceTime, Messages, and now even AirDrop"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Provides a performant and private data channel for syncing your app’s data","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Takes care of group management UI like people pickers, notifications, and state management","type":"text"}]}]}],"type":"unorderedList"},{"text":"Written By","level":2,"type":"heading","anchor":"Written-By"},{"numberOfColumns":5,"columns":[{"content":[{"type":"paragraph","inlineContent":[{"identifier":"NinjaLikesCheez","type":"image"}]}],"size":1},{"content":[{"level":3,"text":"NinjaLikesCheez","anchor":"NinjaLikesCheez","type":"heading"},{"type":"paragraph","inlineContent":[{"overridingTitle":"Contributed Notes","overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/NinjaLikesCheez","isActive":true,"type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/github.com\/NinjaLikesCheez","isActive":true,"type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/","isActive":true,"type":"reference"}]}],"size":4}],"type":"row"},{"inlineContent":[{"type":"text","text":"Missing anything? Corrections? "},{"isActive":true,"type":"reference","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"}],"type":"paragraph"},{"text":"Related Sessions","level":2,"type":"heading","anchor":"Related-Sessions"},{"items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10075-Design-spatial-SharePlay-experiences","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10087-Build-spatial-SharePlay-experiences","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10241-Share-files-with-SharePlay"],"type":"links","style":"list"},{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Legal Notice"}]}],"type":"small"},{"inlineContent":[{"text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved.","type":"text"},{"text":" ","type":"text"},{"text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries.","type":"text"},{"text":" ","type":"text"},{"text":"This website is not made by, affiliated with, nor endorsed by Apple.","type":"text"}],"type":"small"}],"kind":"content"}],"variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc23-10239-add-shareplay-to-your-app"],"traits":[{"interfaceLanguage":"swift"}]}],"sections":[],"sampleCodeDownload":{"kind":"sampleDownload","action":{"isActive":true,"type":"reference","overridingTitle":"Watch Video (13 min)","identifier":"https:\/\/developer.apple.com\/wwdc23\/10239"}},"references":{"https://developer.apple.com/videos/play/wwdc2023/10241":{"url":"https:\/\/developer.apple.com\/videos\/play\/wwdc2023\/10241","titleInlineContent":[{"text":"Share files with SharePlay","type":"text"}],"title":"Share files with SharePlay","type":"link","identifier":"https:\/\/developer.apple.com\/videos\/play\/wwdc2023\/10241"},"NinjaLikesCheez.jpeg":{"alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/NinjaLikesCheez.jpeg"}],"type":"image","identifier":"NinjaLikesCheez.jpeg"},"https://developer.apple.com/wwdc22/10139":{"url":"https:\/\/developer.apple.com\/wwdc22\/10139","titleInlineContent":[{"text":"Make a Great SharePlay Experience - WWDC22","type":"text"}],"title":"Make a Great SharePlay Experience - WWDC22","type":"link","identifier":"https:\/\/developer.apple.com\/wwdc22\/10139"},"WWDC23.jpeg":{"alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23.jpeg"}],"type":"image","identifier":"WWDC23.jpeg"},"WWDCNotes.png":{"alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes.png"}],"type":"image","identifier":"WWDCNotes.png"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23":{"title":"WWDC23","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc23","abstract":[{"type":"text","text":"Xcode 15, Swift 5.9, iOS 17, macOS 14 (Sonoma), tvOS 17, visionOS 1, watchOS 10."},{"type":"text","text":" "},{"type":"text","text":"New APIs: "},{"code":"SwiftData","type":"codeVoice"},{"type":"text","text":", "},{"code":"Observation","type":"codeVoice"},{"type":"text","text":", "},{"code":"StoreKit","type":"codeVoice"},{"type":"text","text":" views, and more."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23","kind":"article","role":"collectionGroup","images":[{"type":"icon","identifier":"WWDC23-Icon.png"},{"type":"card","identifier":"WWDC23.jpeg"}]},"WWDC23-10239-GroupActivityJoin":{"alt":"Group Activity join notification, along with the source code for the Group Activity","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-10239-GroupActivityJoin.png"}],"type":"image","identifier":"WWDC23-10239-GroupActivityJoin"},"doc://WWDCNotes/documentation/WWDCNotes/NinjaLikesCheez":{"images":[{"identifier":"NinjaLikesCheez.jpeg","type":"card"},{"identifier":"NinjaLikesCheez.jpeg","type":"icon"}],"title":"NinjaLikesCheez (3 notes)","kind":"article","role":"sampleCode","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/NinjaLikesCheez","url":"\/documentation\/wwdcnotes\/ninjalikescheez","abstract":[{"text":"No Bio on GitHub","type":"text"}]},"https://developer.apple.com/videos/play/wwdc2023/10087":{"url":"https:\/\/developer.apple.com\/videos\/play\/wwdc2023\/10087","titleInlineContent":[{"text":"Build spatial SharePlay experiences","type":"text"}],"title":"Build spatial SharePlay experiences","type":"link","identifier":"https:\/\/developer.apple.com\/videos\/play\/wwdc2023\/10087"},"WWDC23-Icon.png":{"alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-Icon.png"}],"type":"image","identifier":"WWDC23-Icon.png"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10075-Design-spatial-SharePlay-experiences":{"title":"Design spatial SharePlay experiences","type":"topic","role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc23-10075-design-spatial-shareplay-experiences","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10075-Design-spatial-SharePlay-experiences","abstract":[{"type":"text","text":"Explore the types of shared activities you can create in your visionOS apps and find out how your apps can use Spatial Persona templates to support meaningful interactions between people. Discover how to design your UI around a shared context, handle immersive content in a shared activity, and more."}],"kind":"article"},"https://developer.apple.com/wwdc21/10187":{"url":"https:\/\/developer.apple.com\/wwdc21\/10187","titleInlineContent":[{"text":"Build Custom Experiences with Group Activities - WWDC21","type":"text"}],"title":"Build Custom Experiences with Group Activities - WWDC21","type":"link","identifier":"https:\/\/developer.apple.com\/wwdc21\/10187"},"NinjaLikesCheez":{"alt":"Profile image of NinjaLikesCheez","variants":[{"traits":["1x","light"],"url":"\/images\/NinjaLikesCheez.jpeg"}],"type":"image","identifier":"NinjaLikesCheez"},"doc://WWDCNotes/documentation/WWDCNotes":{"title":"WWDC Notes","type":"topic","url":"\/documentation\/wwdcnotes","abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","kind":"symbol","role":"collection","images":[{"type":"icon","identifier":"WWDCNotes.png"}]},"https://developer.apple.com/documentation/GroupActivities/":{"url":"https:\/\/developer.apple.com\/documentation\/GroupActivities\/","titleInlineContent":[{"text":"SharePlay documentation","type":"text"}],"title":"SharePlay documentation","type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/GroupActivities\/"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10087-Build-spatial-SharePlay-experiences":{"type":"topic","title":"Build spatial SharePlay experiences","url":"\/documentation\/wwdcnotes\/wwdc23-10087-build-spatial-shareplay-experiences","abstract":[{"text":"Discover how you can use the GroupActivities framework to build unique sharing and collaboration experiences for visionOS. We’ll introduce you to SharePlay on this platform, learn how to create experiences that make people feel present as if they were in the same space, and explore how immersive apps can respect shared context between participants.","type":"text"}],"kind":"article","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10087-Build-spatial-SharePlay-experiences"},"https://developer.apple.com/wwdc23/10239":{"url":"https:\/\/developer.apple.com\/wwdc23\/10239","type":"download","identifier":"https:\/\/developer.apple.com\/wwdc23\/10239","checksum":null},"https://":{"url":"https:\/\/","titleInlineContent":[{"text":"Blog","type":"text"}],"title":"Blog","type":"link","identifier":"https:\/\/"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","titleInlineContent":[{"text":"Contributions are welcome!","type":"text"}],"title":"Contributions are welcome!","type":"link","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"},"https://github.com/NinjaLikesCheez":{"url":"https:\/\/github.com\/NinjaLikesCheez","titleInlineContent":[{"text":"GitHub","type":"text"}],"title":"GitHub","type":"link","identifier":"https:\/\/github.com\/NinjaLikesCheez"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10241-Share-files-with-SharePlay":{"url":"\/documentation\/wwdcnotes\/wwdc23-10241-share-files-with-shareplay","kind":"article","abstract":[{"text":"Discover how to work with files and attachments in a SharePlay activity. We’ll explain how to use the GroupSessionJournal API to sync large amounts of data faster and show you how to adopt it in a demo of the sample app DrawTogether.","type":"text"}],"title":"Share files with SharePlay","role":"sampleCode","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10241-Share-files-with-SharePlay"},"WWDC23-10239-GroupActivityShareSheet":{"alt":"New Group Activity Share Sheet in iOS 17","type":"image","identifier":"WWDC23-10239-GroupActivityShareSheet","variants":[{"url":"\/images\/WWDC23-10239-GroupActivityShareSheet.png","traits":["1x","light"]}]}}}