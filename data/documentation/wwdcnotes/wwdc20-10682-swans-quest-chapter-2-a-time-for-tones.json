{"kind":"article","sampleCodeDownload":{"kind":"sampleDownload","action":{"isActive":true,"overridingTitle":"Watch Video (5 min)","identifier":"https:\/\/developer.apple.com\/wwdc20\/10682","type":"reference"}},"sections":[],"metadata":{"title":"Swan’s Quest, Chapter 2: A time for tones","role":"sampleCode","modules":[{"name":"WWDC Notes"}],"roleHeading":"WWDC20"},"abstract":[{"type":"text","text":"Swift Playgrounds presents “Swan’s Quest,” an interactive adventure in four chapters for all ages. In this chapter, our Hero needs your help decoding the Swan’s scroll. Call forth the best of your audio abilities on this one — you’re going to need them."}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10682-Swans-Quest-Chapter-2-A-time-for-tones"},"primaryContentSections":[{"kind":"content","content":[{"anchor":"overview","level":2,"type":"heading","text":"Overview"},{"name":"Note","type":"aside","style":"note","content":[{"type":"paragraph","inlineContent":[{"text":"Swan’s Quest is a series of challenges where each chapter has a specific programming challenge for you that will build on the prior chapters.","type":"text"}]}]},{"type":"paragraph","inlineContent":[{"text":"Download the ","type":"text"},{"code":".playgroundbook","type":"codeVoice"},{"text":" ","type":"text"},{"isActive":true,"identifier":"https:\/\/developer.apple.com\/sample-code\/swift\/swans-quest\/a-time-for-tones.zip","type":"reference"},{"text":".","type":"text"}]},{"anchor":"Tones","level":2,"type":"heading","text":"Tones"},{"type":"paragraph","inlineContent":[{"text":"For this first challenge, a ","type":"text"},{"code":"SPCAudio","type":"codeVoice"},{"text":" ","type":"text"},{"code":"PlaygroundModule","type":"codeVoice"},{"text":" has been built, this module is part of the ","type":"text"},{"type":"reference","identifier":"https:\/\/developer.apple.com\/sample-code\/swift\/swans-quest\/quest-create.zip","isActive":true},{"text":" Playground Book.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"In this challenge you will need to play a tone with the secret code given in the previous quest. All of this is done via a "},{"code":"Timer","type":"codeVoice"},{"type":"text","text":" and a "},{"code":"SPCAudio","type":"codeVoice"},{"type":"text","text":"‘s’ "},{"type":"codeVoice","code":"Tone"},{"text":".","type":"text"}]},{"anchor":"Solution","level":2,"type":"heading","text":"Solution"},{"anchor":"Advice-from-the-Lizard","level":3,"type":"heading","text":"Advice from the Lizard"},{"syntax":"swift","code":["let toneOutput = ToneOutput()","","func performance(owner: Assessable) {","    ","    let tones = [","        Tone(pitch: 440.00, volume: 0.3),","        Tone(pitch: 493.88, volume: 0.3),","        Tone(pitch: 523.25, volume: 0.3) ","    ]","    ","    var toneIndex = 0","    Timer.scheduledTimer(withTimeInterval: 0.4, repeats: true) { timer in","        guard toneIndex < tones.count else {","            toneOutput.stopTones()","            timer.invalidate()","            owner.endPerformance()","            return","        }","        ","        toneOutput.play(tone: tones[toneIndex])","        toneIndex += 1","    }","    \/\/ Let it be known your performance has ended.","    owner.endPerformance()","}"],"type":"codeListing"},{"anchor":"Performance-at-Swan-Hall","level":3,"type":"heading","text":"Performance at Swan Hall"},{"syntax":"swift","code":["func performance(owner: Assessable) {","    let toneOutput = ToneOutput()","    ","    \/\/ TODO: Code your performance here.","    let tones = [261.63, 293.66, 329.63, 349.23, 392.00, 440.00, 493.88, 523.25].map({ Tone(pitch: $0, volume: 0.3)})","    ","    var toneIndex = 0","    Timer.scheduledTimer(withTimeInterval: 0.4, repeats: true) { timer in","        guard toneIndex < tones.count else {","            toneOutput.stopTones()","            timer.invalidate()","            owner.endPerformance()","            return","        }","        ","        toneOutput.play(tone: tones[toneIndex])","        toneIndex += 1","    }","    ","    \/\/ Let it be known your performance has ended.","    owner.endPerformance()","}"],"type":"codeListing"},{"anchor":"Written-By","level":2,"type":"heading","text":"Written By"},{"columns":[{"content":[{"inlineContent":[{"type":"image","identifier":"zntfdr"}],"type":"paragraph"}],"size":1},{"content":[{"type":"heading","level":3,"text":"Federico Zanetello","anchor":"Federico-Zanetello"},{"inlineContent":[{"type":"reference","overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}],"overridingTitle":"Contributed Notes","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","isActive":true},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","identifier":"https:\/\/github.com\/zntfdr","isActive":true},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","identifier":"https:\/\/zntfdr.dev","isActive":true}],"type":"paragraph"}],"size":4}],"numberOfColumns":5,"type":"row"},{"type":"paragraph","inlineContent":[{"text":"Missing anything? Corrections? ","type":"text"},{"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"reference","isActive":true}]},{"anchor":"Related-Sessions","level":2,"type":"heading","text":"Related Sessions"},{"type":"links","style":"list","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10643-Build-a-SwiftUI-view-in-Swift-Playgrounds","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10654-Create-Swift-Playgrounds-content-for-iPad-and-Mac","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10681-Swans-Quest-Chapter-1-Voices-in-the-dark","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10683-Swans-Quest-Chapter-3-The-notable-scroll","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10684-Swans-Quest-Chapter-4-The-sequence-completes"]},{"type":"small","inlineContent":[{"inlineContent":[{"text":"Legal Notice","type":"text"}],"type":"strong"}]},{"type":"small","inlineContent":[{"text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved.","type":"text"},{"text":" ","type":"text"},{"text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}]}]}],"schemaVersion":{"minor":3,"patch":0,"major":0},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20"]]},"variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc20-10682-swans-quest-chapter-2-a-time-for-tones"],"traits":[{"interfaceLanguage":"swift"}]}],"references":{"doc://WWDCNotes/documentation/WWDCNotes/WWDC20":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20","role":"collectionGroup","title":"WWDC20","type":"topic","abstract":[{"type":"text","text":"Xcode 12, Swift 5.3, iOS 14, macOS 11 (Big Sur), tvOS 14, watchOS 7."},{"type":"text","text":" "},{"text":"New APIs: ","type":"text"},{"code":"WidgetKit","type":"codeVoice"},{"text":", ","type":"text"},{"code":"StoreKit Testing","type":"codeVoice"},{"text":", and more.","type":"text"}],"kind":"article","images":[{"identifier":"WWDC20-Icon.png","type":"icon"},{"identifier":"WWDC20.jpeg","type":"card"}],"url":"\/documentation\/wwdcnotes\/wwdc20"},"doc://WWDCNotes/documentation/WWDCNotes/zntfdr":{"title":"Federico Zanetello (332 notes)","url":"\/documentation\/wwdcnotes\/zntfdr","abstract":[{"type":"text","text":"Software engineer with a strong passion for well-written code, thought-out composable architectures, automation, tests, and more."}],"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","kind":"article","role":"sampleCode","images":[{"type":"card","identifier":"zntfdr.jpeg"},{"type":"icon","identifier":"zntfdr.jpeg"}]},"WWDCNotes.png":{"alt":null,"identifier":"WWDCNotes.png","type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes.png"}]},"https://developer.apple.com/wwdc20/10682":{"checksum":null,"identifier":"https:\/\/developer.apple.com\/wwdc20\/10682","type":"download","url":"https:\/\/developer.apple.com\/wwdc20\/10682"},"https://developer.apple.com/sample-code/swift/swans-quest/quest-create.zip":{"identifier":"https:\/\/developer.apple.com\/sample-code\/swift\/swans-quest\/quest-create.zip","type":"link","title":"Create Quest","url":"https:\/\/developer.apple.com\/sample-code\/swift\/swans-quest\/quest-create.zip","titleInlineContent":[{"text":"Create Quest","type":"text"}]},"doc://WWDCNotes/documentation/WWDCNotes":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","role":"collection","title":"WWDC Notes","type":"topic","abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"kind":"symbol","images":[{"identifier":"WWDCNotes.png","type":"icon"}],"url":"\/documentation\/wwdcnotes"},"WWDC20-Icon.png":{"alt":null,"identifier":"WWDC20-Icon.png","type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC20-Icon.png"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10654-Create-Swift-Playgrounds-content-for-iPad-and-Mac":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10654-Create-Swift-Playgrounds-content-for-iPad-and-Mac","abstract":[{"text":"Learn how to create Swift Playgrounds books that work fluidly across both Mac and iPad and help people of all ages explore the fun of coding in Swift. We’ll walk you through how to customize content for each platform while considering platform settings, and help you take advantage of them in your playgrounds while still providing a smooth cross-platform experience.","type":"text"}],"role":"sampleCode","title":"Create Swift Playgrounds content for iPad and Mac","url":"\/documentation\/wwdcnotes\/wwdc20-10654-create-swift-playgrounds-content-for-ipad-and-mac","type":"topic","kind":"article"},"https://zntfdr.dev":{"identifier":"https:\/\/zntfdr.dev","type":"link","title":"Blog","url":"https:\/\/zntfdr.dev","titleInlineContent":[{"text":"Blog","type":"text"}]},"https://developer.apple.com/sample-code/swift/swans-quest/a-time-for-tones.zip":{"identifier":"https:\/\/developer.apple.com\/sample-code\/swift\/swans-quest\/a-time-for-tones.zip","type":"link","title":"here","url":"https:\/\/developer.apple.com\/sample-code\/swift\/swans-quest\/a-time-for-tones.zip","titleInlineContent":[{"text":"here","type":"text"}]},"zntfdr":{"alt":"Profile image of Federico Zanetello","identifier":"zntfdr","type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/zntfdr.jpeg"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10681-Swans-Quest-Chapter-1-Voices-in-the-dark":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10681-Swans-Quest-Chapter-1-Voices-in-the-dark","abstract":[{"text":"Swift Playgrounds presents “Swan’s Quest,” an interactive adventure in four chapters for all ages. In this chapter, our Hero must navigate a dark cave — and the only way to light the torches is to make them accessible.","type":"text"}],"role":"sampleCode","title":"Swan’s Quest, Chapter 1: Voices in the dark","url":"\/documentation\/wwdcnotes\/wwdc20-10681-swans-quest-chapter-1-voices-in-the-dark","type":"topic","kind":"article"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10684-Swans-Quest-Chapter-4-The-sequence-completes":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10684-Swans-Quest-Chapter-4-The-sequence-completes","title":"Swan’s Quest, Chapter 4: The sequence completes","type":"topic","role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc20-10684-swans-quest-chapter-4-the-sequence-completes","kind":"article","abstract":[{"text":"Swift Playgrounds presents “Swan’s Quest,” an interactive adventure in four chapters for all ages. It’s time for the grand finale: You’ve honed your skills with tones, but in this chapter our Hero needs to sequence multi-part harmony.","type":"text"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10683-Swans-Quest-Chapter-3-The-notable-scroll":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10683-Swans-Quest-Chapter-3-The-notable-scroll","abstract":[{"type":"text","text":"Swift Playgrounds presents “Swan’s Quest,” an interactive adventure in four chapters for all ages. Calling all musicians! In this chapter, our Hero has found a mysterious scroll of music, and only you can help decode it. (Don’t worry if you can’t read music, our clever Lizard is standing by to assist. It’s sure to be a note-worthy experience.)"}],"role":"sampleCode","title":"Swan’s Quest, Chapter 3: The notable scroll","url":"\/documentation\/wwdcnotes\/wwdc20-10683-swans-quest-chapter-3-the-notable-scroll","type":"topic","kind":"article"},"WWDC20.jpeg":{"alt":null,"identifier":"WWDC20.jpeg","type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC20.jpeg"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10643-Build-a-SwiftUI-view-in-Swift-Playgrounds":{"type":"topic","abstract":[{"text":"Easily prototype and play around with SwiftUI views when you use them with Swift Playgrounds. We’ll show you how to build a SwiftUI view in a Xcode-compatible playground, and explore tools to help you easily edit and preview your code.","type":"text"}],"url":"\/documentation\/wwdcnotes\/wwdc20-10643-build-a-swiftui-view-in-swift-playgrounds","title":"Build a SwiftUI view in Swift Playgrounds","kind":"article","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10643-Build-a-SwiftUI-view-in-Swift-Playgrounds"},"https://github.com/zntfdr":{"identifier":"https:\/\/github.com\/zntfdr","type":"link","title":"GitHub","url":"https:\/\/github.com\/zntfdr","titleInlineContent":[{"text":"GitHub","type":"text"}]},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"link","title":"Contributions are welcome!","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","titleInlineContent":[{"text":"Contributions are welcome!","type":"text"}]},"zntfdr.jpeg":{"alt":null,"identifier":"zntfdr.jpeg","type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/zntfdr.jpeg"}]}}}