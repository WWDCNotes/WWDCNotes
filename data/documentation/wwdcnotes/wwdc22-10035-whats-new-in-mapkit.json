{"variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc22-10035-whats-new-in-mapkit"],"traits":[{"interfaceLanguage":"swift"}]}],"sections":[],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10035-Whats-new-in-MapKit"},"seeAlsoSections":[{"title":"Updated Tools & Frameworks","identifiers":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10097-Whats-new-in-App-Clips","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10043-Whats-new-in-App-Store-Connect","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10074-Whats-new-in-AppKit","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110332-Whats-new-in-Create-ML","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10005-Whats-new-in-HealthKit","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10008-Whats-new-in-Nearby-Interaction","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10089-Whats-new-in-PDFKit","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10157-Whats-new-in-SF-Symbols-4","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10048-Whats-new-in-Safari-and-WebKit","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110336-Whats-new-in-Screen-Time-API","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10140-Whats-new-in-SharePlay","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10039-Whats-new-in-StoreKit-testing","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110354-Whats-new-in-Swift","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110368-Whats-new-in-SwiftDocC","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10052-Whats-new-in-SwiftUI","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10090-Whats-new-in-TextKit-and-text-views","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10068-Whats-new-in-UIKit","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10024-Whats-new-in-Vision","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10049-Whats-new-in-WKWebView","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110427-Whats-new-in-Xcode","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10045-Whats-new-in-managing-Apple-devices","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10023-Whats-new-in-the-Photos-picker","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10153-Whats-new-in-web-accessibility","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10149-Whats-new-in-AVQT","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10115-Whats-new-in-CloudKit-Console","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110345-Whats-new-in-Endpoint-Security","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10145-Whats-new-in-HLS-Interstitials","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10099-Whats-new-in-Safari-Web-Extensions","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10041-Whats-new-in-Wallet-and-Apple-Pay","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10009-Whats-new-in-iPad-app-design","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10109-Whats-new-in-notarization-for-Mac-apps","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10096-Whats-new-in-privacy"],"generated":true}],"metadata":{"role":"sampleCode","title":"What’s new in MapKit","roleHeading":"WWDC22","modules":[{"name":"WWDC Notes"}]},"abstract":[{"text":"Come along with us as MapKit enters a new dimension. We’ll show you how you can upgrade your app to use the latest map and support the highly-detailed 3D City Experience. Learn how you can visualize data using overlays while ensuring they integrate smoothly into the 3D map. We’ll also cover how to create interactive and immersive experiences with Selectable Map Features and Look Around APIs.","type":"text"}],"kind":"article","sampleCodeDownload":{"action":{"identifier":"https:\/\/developer.apple.com\/wwdc22\/10035","overridingTitle":"Watch Video (41 min)","type":"reference","isActive":true},"kind":"sampleDownload"},"primaryContentSections":[{"kind":"content","content":[{"type":"heading","level":2,"anchor":"overview","text":"Overview"},{"inlineContent":[{"text":"Originally launched with U.S. support, the all-new map and Look Around coverage has been expanding since and now includes Canada, many European countries, Japan, and more.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"image","identifier":"WWDC22-10035-maps1"}],"type":"paragraph"},{"inlineContent":[{"text":"Last year, Apple Maps introduced the 3D City Experiences, featuring turn lanes, crosswalks, bike lanes, and handcrafted 3D landmarks like the Ferry Building.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"identifier":"WWDC22-10035-ferryBuilding","type":"image"}],"type":"paragraph"},{"inlineContent":[{"text":"The additional detail of the map allows to provide context and precision and a high level of realism.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"image","identifier":"WWDC22-10035-london"}],"type":"paragraph"},{"inlineContent":[{"type":"image","identifier":"WWDC22-10035-goldenGate"}],"type":"paragraph"},{"type":"heading","level":1,"anchor":"New-MapKit-features","text":"New MapKit features."},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"The Map Configuration API.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Improvements to the overlay APIs","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"New blend modes support"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"brand-new Selectable Map Features API."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Integrating the immersive Look Around experience"}],"type":"paragraph"}]}]},{"type":"heading","level":2,"anchor":"Map-Configuration-API","text":"Map Configuration API."},{"inlineContent":[{"type":"text","text":"To adopt the all-new map is easy and we just need to recompile our app with the new SDK; it will be automatically opted in to the all-new Apple map, including the 3D City Experience, where available."}],"type":"paragraph"},{"inlineContent":[{"text":"In iOS 15, the way to configure the map is through various properties on MKMapView. In iOS 16, however, those properties are being softly deprecated.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"image","identifier":"WWDC22-10035-DeprecatedAPI"}],"type":"paragraph"},{"inlineContent":[{"text":"and a new Map Configuration API is being introduced as a replacement.","type":"text"}],"type":"paragraph"},{"type":"codeListing","code":["\/\/ Configuring your map view","class MKMapView {","    ...","    var preferredConfiguration: MKMapConfiguration","}"],"syntax":"swift"},{"inlineContent":[{"type":"codeVoice","code":"MKMapConfiguration"},{"text":" is the central class of the new Map Configuration API. ","type":"text"},{"type":"codeVoice","code":"MKMapConfiguration"},{"text":" is an abstract base class with three concrete subclasses.","type":"text"}],"type":"paragraph"},{"type":"codeListing","code":["class MKMapConfiguration {","}","","class MKImageryMapConfiguration : MKMapConfiguration {","}","","class MKHybridMapConfiguration : MKMapConfiguration {","}","","class MKStandardMapConfiguration : MKMapConfiguration {","}"],"syntax":"swift"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The imagery map configuration is used to present satellite-style imagery."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The hybrid map configuration is used to present an imagery-based map with added map features such as road labels and points of interest."}]}]},{"content":[{"inlineContent":[{"type":"text","text":"The standard map configuration is used to present a fully graphics-based map."}],"type":"paragraph"}]}]},{"inlineContent":[{"identifier":"WWDC22-10035-mapsImagery","type":"image"}],"type":"paragraph"},{"type":"heading","level":3,"anchor":"The-elevation-style-property","text":"The elevation style property."},{"inlineContent":[{"text":"The base map configuration class supports an ","type":"text"},{"code":"elevationStyle","type":"codeVoice"},{"text":" property, which can be either flat or realistic. A flat elevation style means that the ground appears flat. Roads, including bridges and overpasses, also appear flat.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"Flat is the default elevation style. A realistic elevation style means that the ground terrain reproduces the real-world elevation such as hills and mountains. Roads are depicted with realistic elevation details.","type":"text"}],"type":"paragraph"},{"type":"codeListing","code":["class MKMapConfiguration {","    var elevationStyle: ElevationStyle","}","","extension MKMapConfiguration {","    enum ElevationStyle {","        case flat ","        case realistic","    }","}"],"syntax":"swift"},{"type":"heading","level":3,"anchor":"The-map-configuration-subclasses","text":"The map configuration subclasses."},{"inlineContent":[{"type":"text","text":"The imagery map configuration only shows satellite imagery with no additional map features, so it doesn’t have any other properties."}],"type":"paragraph"},{"type":"codeListing","code":["class MKImageryMapConfiguration : MKMapConfiguration {","    ","}"],"syntax":"swift"},{"inlineContent":[{"text":"The hybrid map configuration has additional properties to control filtering of point of interest categories and whether to show traffic or not.","type":"text"}],"type":"paragraph"},{"type":"codeListing","code":["class MKHybridMapConfiguration : MKMapConfiguration {","    var point0fInterestFilter: MKPointOfInterestFilter?","    var showsTraffic: Bool","}"],"syntax":"swift"},{"inlineContent":[{"text":"The standard map configuration supports an ","type":"text"},{"code":"emphasisStyle","type":"codeVoice"},{"text":" property which can be either default or muted.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"class MKStandardMapConfiguration : MKMapConfiguration {"},{"type":"text","text":" "},{"type":"text","text":"var emphasisStyle: EmphasisStyle"},{"type":"text","text":" "},{"type":"text","text":"}"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"As the name implies, this is the default emphasis style unless otherwise stated. The muted emphasis style softens the contrasts of the map details."}],"type":"paragraph"},{"inlineContent":[{"identifier":"WWDC22-10035-standardMapConfig","type":"image"}],"type":"paragraph"},{"inlineContent":[{"text":"The standard map configuration also has additional properties to control filtering of point of interest categories and whether to show traffic or not.","type":"text"}],"type":"paragraph"},{"type":"codeListing","code":["class MKStandardMapConfiguration : MKMapConfiguration {","    var emphasisStyle: EmphasisStyle ","    var pointOfInterestFilter: MKPoint0fInterestFilter?","    var showsTraffic: Bool","}"],"syntax":"swift"},{"type":"heading","level":2,"anchor":"Map-type-mapping","text":"Map type mapping"},{"inlineContent":[{"text":"Here’s a table that shows the correspondence between the new map configuration classes and the ","type":"text"},{"code":"MKMapType","type":"codeVoice"},{"text":" property.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"image","identifier":"WWDC22-10035-mapTypeMapping"}],"type":"paragraph"},{"inlineContent":[{"text":"The all-new map with the 3D City Experience requires compatible hardware. On iOS, the new map support requires A12-based iPhones and iPads or later. On macOS, the new map support requires any M1-based computer or later.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"identifier":"WWDC22-10035-deviceSupport","type":"image"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"In areas where the 3D City Experience is not available, the map will automatically fall back to present the all-new map with a flat elevation. On all other devices, the all-new map will be presented with a flat elevation."}],"type":"paragraph"},{"inlineContent":[{"text":"On M1 Macs, Xcode allows you to simulate both experiences simply by changing the OS version.","type":"text"}],"type":"paragraph"},{"level":2,"type":"heading","text":"3D City Experience","anchor":"3D-City-Experience"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"San Francisco Bay Area"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Los Angeles"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"New York","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"London"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Washington, DC","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"San Diego"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Philadelphia"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Toronto"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Montreal","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Vancouver"}]}]}],"type":"unorderedList"},{"level":1,"type":"heading","text":"Overlays","anchor":"Overlays"},{"inlineContent":[{"text":"MapKit has supported overlays with several styling options for years. In iOS 16, there are some additions.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Overlays can be rendered at two different levels: above roads and above labels. You can specify the rendering level at insertion time using one of MapKit’s many overlay insertion functions."}],"type":"paragraph"},{"code":["\/\/ Overlay levels","class MKMapView {","    func addOverlay(_: MKOverlay, level: MKOverlayLevel)","    \/\/ ...","}","","public enum MKOverlayLevel {","    case aboveLabels ","    case aboveRoads","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"type":"text","text":"Above labels renders the overlay above everything, including labels. Since labels provide important context information, only use above labels in those rare cases where we don’t want the data to interact with the map at all. Consider using the muted map emphasis or the blend modes."}],"type":"paragraph"},{"inlineContent":[{"text":"Above roads means the overlay will be shown on top of the terrain, including roads, land cover, or bodies of water. It will, however, be shown below labels and, to some degree, trees and buildings. See the screenshot on the right below.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Above roads will be the new default mode in iOS 16."}],"type":"paragraph"},{"inlineContent":[{"identifier":"WWDC22-10035-aboveLevels","type":"image"}],"type":"paragraph"},{"level":1,"type":"heading","text":"Transparent buildings","anchor":"Transparent-buildings"},{"inlineContent":[{"type":"text","text":"There is a new feature in iOS 16 called transparent buildings."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Regardless of whether the overlay level is above roads or above labels, it will always be rendered on top of buildings when viewed top-down with no pitch."}],"type":"paragraph"},{"inlineContent":[{"type":"image","identifier":"WWDC22-10035-aboveLevels2"}],"type":"paragraph"},{"inlineContent":[{"text":"Ground objects such as trees and buildings are now automatically rendered with transparency when appearing above overlays, so as not to fully obscure them. The alpha value varies with the map’s pitch angle. Reverting to showing the map top-down with a 0º pitch angle, colliding ground objects effectively disappear from view, leaving the overlays fully visible.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Transparent buildings also work for semi-transparent overlays. The alpha value of the overlay will be added to combine with the alpha value of the transparent buildings."}],"type":"paragraph"},{"inlineContent":[{"identifier":"WWDC22-10035-aboveLevels3","type":"image"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"There’s one more change to overlays. When adding an overlay to a map with realistic terrain,"}],"type":"paragraph"},{"inlineContent":[{"type":"image","identifier":"WWDC22-10035-aboveLevels4"}],"type":"paragraph"},{"inlineContent":[{"text":"MapKit will automatically transition the map to a flat representation.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"image","identifier":"WWDC22-10035-aboveLevels5"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"The map will automatically go back to realistic when removing the last overlay. One notable exception to this rule are overlays sourced through MapKit’s directions API. Those overlays automatically follow the terrain."}],"type":"paragraph"},{"inlineContent":[{"identifier":"WWDC22-10035-aboveLevels6","type":"image"}],"type":"paragraph"},{"level":2,"type":"heading","text":"Adding Polygon Overlays","anchor":"Adding-Polygon-Overlays"},{"inlineContent":[{"type":"text","text":"Using the sample app, which helps users rent scooters to tour San Francisco."}],"type":"paragraph"},{"inlineContent":[{"text":"The app offers a number of features, as shown by the rows in this table view. “Operating Area” allows the user to see where they can take our scooters. “Ride” takes the user on a tour across the Golden Gate Bridge. “Explore” gives the user an interactive map of downtown San Francisco, which they can use to explore attractions near the waterfront. “Highlights” offers a closer look at must-see places. We will implement or upgrade these features throughout this session.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"We are going to use the Operating Area feature.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"image","identifier":"WWDC22-10035-sampleApp1"}],"type":"paragraph"},{"inlineContent":[{"text":"let’s add a polygon overlay to visualize the operating area. When the view is loaded, we’ll first set the region and the camera boundary.","type":"text"}],"type":"paragraph"},{"code":["import MapKit","","\/\/ This class displays elevated route line overlay loaded from MapKit server on a map view.","","class PolygonOverlayViewController: UIViewController, MKMapViewDelegate {","","    @IBOutlet var mapView: MKMapView!","    ","    private let dataSource: OverlayDataSource","","    required init? (coder: NSCoder) {","        dataSource = OverlavDataSource()","        super.init (coder: coder)","    }","        ","    override func viewDidLoad() {","        super.viewDidLoad ()","        mapView.region = .overlay","        ","        mapView.cameraBoundary = MKMapView.CameraBoundary(coordinateRegion: .overlayCameraBoundary)","        ","        mapView.addOverlays(dataSource.overlays, level: .aboveRoads)","    }","","    \/\/ MARK: - MKMapViewDelegate","    func mapView(_ mapView: MKMapView, rendererFor overlay: MKOverlay) -> MKOverlayRenderer {","        let renderer: MKOverlayPathRenderer","        ","        if let multiPolygon = overlay as? MKMultiPolygon {","            renderer = MKMultiPolygonRenderer(multiPolygon: multiPolygon)","            renderer.fillColor = UIColor(red: 1, green: 0.59, blue: 0.7, alpha: 1.0)","            renderer.strokeColor = UIColor(red: 0.63, green: 0.27, blue: 0.63, alpha: 1.0)","            renderer.linewidth = 3.0","        else {","            renderer = MKOverlayPathRenderer(overlay: overlay)","        return renderer","        }","    }","    \/\/...","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"type":"text","text":"The polygon overlay is opaque when viewed straight down. As we zoom in and pitch, the buildings begin to show, with the transparency increasing as we pitch further. This effect is only available when using the overlay level AboveRoads."}],"type":"paragraph"},{"inlineContent":[{"identifier":"WWDC22-10035-sampleApp2","type":"image"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"To want to leverage transparent buildings and trees, choose the correct overlay level."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Let’s go back to the code and make the overlay semi-transparent with alpha to 0.8."}],"type":"paragraph"},{"inlineContent":[{"text":"Now we have a transparent overlay and we can see roads and buildings even when not pitched.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"identifier":"WWDC22-10035-sampleApp3","type":"image"}],"type":"paragraph"},{"level":2,"type":"heading","text":"Integrate realistic terrain and show adding an elevated route line","anchor":"Integrate-realistic-terrain-and-show-adding-an-elevated-route-line"},{"inlineContent":[{"type":"text","text":"We will integrate realistic terrain and add an elevated route line. This will complete our “Ride” feature of the app, a tour across the Golden Gate Bridge."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Start by configuring the map view. We can change the elevation style in code, or we can just open the Interface Builder inspector on the right-hand side."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Here are the available map view configuration settings. Let’s select “elevation: realistic”."}],"type":"paragraph"},{"inlineContent":[{"identifier":"WWDC22-10035-sampleApp4","type":"image"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Next, let’s work on the route."}],"type":"paragraph"},{"inlineContent":[{"text":"For this feature, we want to show a route when the user toggles the Show Route switch. We will also animate the camera to focus on the route.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Since we want to show a route across the Golden Gate Bridge, we’ll use the Presidio Park entry as the start point and the Battery Spencer as the end point."}],"type":"paragraph"},{"code":["imроrt UIKit","import MapKit","","","\/\/This class displays elevated route line overlay loaded from MapKit server on a map view.","","class Polyline0verlayViewController: UIViewController, MKMapViewDelegate {","    @IBOutlet private var mapView: MKMapView!","    ","    let presidioEntry = CLLocationCoordinate2D(latitude: 37.79190, longitude: -122.44776)","    let batterySpencer = CLLocationCoordinate2D(latitude: 37.82798, longitude: -122.48201)","","    \/\/..."],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"When the map view is loaded, we’ll create annotations to mark the start and destination points.","type":"text"}],"type":"paragraph"},{"code":["","override func viewDidLoad() {","    super.viewDidLoad()","    configureCamera()","    \/\/ Create annotations","    addAnnotationsAtStartAndEnd()"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"Set coordinates and title, append it to the annotation array, then add them to the map view.","type":"text"}],"type":"paragraph"},{"code":["func addAnnotationsAtStartAndEnd() {","    \/\/ Create annotations for start location and destination.","    var annotations = [MKAnnotation]()","    ","    let startAnnotation = MKPointAnnotation()","    startAnnotation.coordinate = presidioEntry","    startAnnotation.title = \"Presidio Gate\"","    annotations.append(startAnnotation)","    ","    let endAnnotation = MKPointAnnotation( )","    endAnnotation.coordinate = batterySpencer","    endAnnotation.title = \"Battery Spencer\"","    annotations.append(endAnnotation)","    ","    \/\/ Add annotations to map view. ","    mapView.addAnnotations (annotations)","    }"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"type":"text","text":"While normal overlays will flatten the map, the polyline returned by MapKit’s Directions API will preserve the realistic terrain."}],"type":"paragraph"},{"inlineContent":[{"text":"In this action function, once the switch is turned on, it will create place marks with the coordinates defined above.","type":"text"},{"text":" ","type":"text"},{"text":"Then create a direction request, with source and destination. Finally, we request the directions.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"If the fetch operation succeeds, we add the route polyline as an overlay."}],"type":"paragraph"},{"code":["@IBAction func routeSwitchToggled(_ sender: UISwitch) {","    if sender.isOn {","","        \/\/ Create MKPlaceMark for start position and destination","        let origin = MKPlacemark(coordinate: presidioEntry)","        let destination = MKPlacemark(coordinate: batterySpencer)","    ","        \/\/ Create MDirections request with locations defined above.","        let request = MKDirections.Request()","        request. source = MKMapItem(placemark: origin)","        request.destination = MKMapItem(placemark: destination)","    ","        Task {","    ","            \/\/ Make direction request.","            let direction = MDirections(request: request)","            do {","                guard let response = try await direction.calculate() else { return }","    ","                \/\/ Add route polyline","                for route in response.routes {","                    self.mapView.addOverlay(route.polyline, level: .aboveRoads)","                }","        ","                \/\/ Animate map camera for a closer look at elevated route polyline ","                animateCamera()","        ","            } catch {","            \/\/ ...","            }","        }","    }","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"The annotations are automatically upgraded to the new gradient look.. Once we toggle show route, the camera will pitch. Then, you can get a better view of them.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"The route line follows the elevated terrain. It also follows the road across the bridge. Also, the route subtly shows through the bridge pillars."}],"type":"paragraph"},{"inlineContent":[{"identifier":"WWDC22-10035-sampleApp5","type":"image"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Finally, we can see the route show through the trees that stand in front of it."}],"type":"paragraph"},{"inlineContent":[{"type":"image","identifier":"WWDC22-10035-sampleApp6"}],"type":"paragraph"},{"inlineContent":[{"text":"Here a part of the route goes through a tunnel, so we get transparency for it. ElevationRealisticStyle and the elevated route line feature are supported on A12-based iOS devices. The same app on an older iOS device, will automatically get a 2D route on a 2D map…","type":"text"}],"type":"paragraph"},{"level":1,"type":"heading","text":"Blend modes","anchor":"Blend-modes"},{"inlineContent":[{"text":"This new API gives you more control over the look and feel of overlays. During a blend operation, two graphical layers are combined following a set of equations specified by the blend mode.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"In this scenario, we want to highlight the area of the Presidio National Park in San Francisco in the center of this map. First, we create an overlay covering the entire map area, with a cutout in the shape of the Presidio."}],"type":"paragraph"},{"inlineContent":[{"type":"image","identifier":"WWDC22-10035-blendModes"}],"type":"paragraph"},{"inlineContent":[{"identifier":"WWDC22-10035-blendModes2","type":"image"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"We are not using any blend modes yet. This is just a plain overlay, in the shape of a big square doughnut. Next, we assign a hue blend mode to the overlay, with a gray fill. This desaturates the map outside of the Presidio."}],"type":"paragraph"},{"inlineContent":[{"identifier":"WWDC22-10035-blendModes3","type":"image"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Next, we are going to duplicate that overlay and assign it a hard light blend mode, with a dark gray fill."}],"type":"paragraph"},{"inlineContent":[{"text":"This has the effect of darkening the area around the Presidio. This already looks nice, but lets add another overlay. This time, we’ll add an overlay in the shape of the Presidio and assign a saturation blend mode, with a yellow fill. But the colors are way too bright. We’ll apply a color burn blend mode with a gray fill.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"identifier":"WWDC22-10035-blendModes4","type":"image"}],"type":"paragraph"},{"inlineContent":[{"text":"We added a property to MKOverlayRenderer, called blendMode. All we need to do is set the desired CoreGraphics blend mode on the overlay renderer.","type":"text"}],"type":"paragraph"},{"code":["class MKOverlayRenderer {","    ","    var blendMode: CGBlendMode","}","","class MKMapView {","    func insertOverlay(_ overlay: MKOverlay, at index: Int, level: MKOverlayLevel) ","    func insertOverlay(_ overlay: MKOverlay, above sibling: MKOverlay) ","    func insertOverlay(_ overlay: MKOverlay, below sibling: MKOverlay)","    \/\/...","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"Blend modes are order dependent. The overlay at the bottom of the stack is blended with the map, the second-to-last overlay is then blended with the result of the previous blend operation, and so on.","type":"text"},{"text":"\n","type":"text"},{"text":"In MapKit, the order of overlays is determined at insertion time. we can use either absolute or relative positioning using one of MKMapView’s many overlay insertion functions.","type":"text"}],"type":"paragraph"},{"level":2,"type":"heading","text":"Blend modes:","anchor":"Blend-modes"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Multiply"}]}]},{"content":[{"inlineContent":[{"text":"Screen","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Overlay"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Darken"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Lighten","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"ColorDodge"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"ColorBurn"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"LinearBurn"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"SoftLight"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"HardLight","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Difference"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Exclusion"}]}]},{"content":[{"inlineContent":[{"text":"Hue","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Saturation","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Color"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Luminosity"}]}]}],"type":"unorderedList"},{"level":1,"type":"heading","text":"Selectable Map Features","anchor":"Selectable-Map-Features"},{"inlineContent":[{"type":"text","text":"Using MapKit we leverage annotations to show the location of cities, points of interest, or physical objects. Unless using POI filtering, we are placing those annotations on a map which already contains a number of similar annotations provided by Apple. Up until now, users could only interact with the annotations we provided."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"In iOS 16, using the new Selectable Map Features API, we’ll have the option to let our users select features on the map."}],"type":"paragraph"},{"inlineContent":[{"identifier":"WWDC22-10035-selectableMapFeatures","type":"image"}],"type":"paragraph"},{"inlineContent":[{"text":"Selectable map features include points of interest, such as stores, restaurants, and landmarks; territories, such as cities and states; and physical features, such as mountain ranges and lakes.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"image","identifier":"WWDC22-10035-selectableMapFeatures2"}],"type":"paragraph"},{"inlineContent":[{"text":"To adopt Selectable Map Features in your app:","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"First, configure which feature types should be selectable. There are three main feature types, and it might not make sense for all of them to be interactive. For points-of-interest features, we can also use existing filter API to further restrict which points-of-interest categories can appear and therefore be selectable.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"Second, implement the ","type":"text"},{"type":"codeVoice","code":"MKMapView"},{"text":" delegate callbacks to handle selection events. We might want to control how selected features appear, or might want to show some additional UI in response to the selection events.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Third, to request and display additional place information in the application’s user interface. To give users more context about the place they selected, we’ll need to request additional information."}],"type":"paragraph"},{"inlineContent":[{"text":"We’ll start with configuring which map features should be selectable using the new ","type":"text"},{"code":"selectableMapFeatures","type":"codeVoice"},{"text":" property.","type":"text"}],"type":"paragraph"},{"code":["class MKMapView {","    var selectableMapFeatures: MKMapFeatureOptions","}","","struct MKMapFeature0ptions: OptionSet {","    static var points0fInterest ","    static var territories ","    static var physicalFeatures","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"type":"text","text":"We can choose any combination of points of interest, territories, and physical features. Once we have configured the selectable map features and the user taps one of those features, we’ll start receiving some new delegate callbacks allowing to customize the selection behavior."}],"type":"paragraph"},{"code":["protocol MKMapViewDelegate {","    optional func mapView(_: MKMapView, didSelect annotation: MKAnnotation) ","    optional func mapView(_: MKMapView, didDeselect annotation: MKAnnotation) ","    ","    \/\/ existing","    optional func mapView(_: MKMapView, viewFor annotation: MKAnnotation) -> MKAnnotationView?","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"type":"text","text":"The first callback is the new didSelect annotation. This callback is a great opportunity to request additional data about the map item using the new request API."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"The second callback is the existing viewFor annotation. This is where we can customize the view which will be shown for the selected state."}],"type":"paragraph"},{"inlineContent":[{"text":"While this is existing API, there is a new type of annotation class called ","type":"text"},{"type":"codeVoice","code":"MapFeatureAnnotation"},{"text":".","type":"text"}],"type":"paragraph"},{"code":["class MKMapFeatureAnnotation: MKAnnotation {","    var featureType: FeatureType ","    var point0fInterestCategory: MKPoint0fInterestCategory?","    var iconStyle: MKIconStyle?","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"This class will be passed to “view for annotation” when the user selects a map feature. ","type":"text"},{"type":"codeVoice","code":"MapFeatureAnnotation"},{"text":" has a number of properties. We can inspect the ","type":"text"},{"type":"codeVoice","code":"FeatureType"},{"text":" property to determine whether the map feature is a point of interest, a territory, or a physical feature. If the map feature is a point of interest, the ","type":"text"},{"type":"codeVoice","code":"pointOfInterestCategory"},{"text":" property will let us know what its category is, and the ","type":"text"},{"type":"codeVoice","code":"iconStyle"},{"text":" property will let us obtain additional information about the icon, such as its background color and the icon image itself.","type":"text"}],"type":"paragraph"},{"code":["class MKIconStyle {","    var backgroundColor: UIColor ","    var image: UIImage","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"How to customize the annotation view using the viewFor annotation callback. To achieve the same selection style as the Maps app, return nil.","type":"text"}],"type":"paragraph"},{"code":["func mapView(_: MKMapView, viewFor annotation: MKAnnotation) -> MKAnnotationView? {","    return nil","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"type":"text","text":"To customize the selection style, we can return an annotationView, the same way we would for our own annotations."}],"type":"paragraph"},{"code":["func mapView(_: MKMapView, viewFor annotation: MKAnnotation) -> MKAnnotationView? {","    ","    if let feature = annotation as MKMapFeatureAnnotation? {","        var annotationView: MKMarkerAnnotationView =","        \/\/ dequeue or create","        annotationView.image = feature.iconStyle?.image","        annotationView.color = \/\/ application tint color","        return annotationView","    }","    \/\/ else","    return nil","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"The ","type":"text"},{"type":"codeVoice","code":"markerAnnotationView"},{"text":" is a great option. It will give us the same balloon-style shape as the Maps app, a gradient treatment, and it allows to choose our own color or icon. To go fully custom, we can provide any annotation view subclass that we create.","type":"text"}],"type":"paragraph"},{"code":["func mapView(_: MKMapView, viewFor annotation: MKAnnotation) -> MKAnnotationView?","{","    return MyUnicornAnnotationView()","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"type":"text","text":"We can use the feature annotation to retrieve visual information about the selected feature. By passing the feature annotation on to our new "},{"type":"codeVoice","code":"MKMapItemRequest"},{"type":"text","text":" API, we can also retrieve a map item for the selected feature."}],"type":"paragraph"},{"code":["class MKMapItemRequest : NSObject {","","    init(featureAnnotation: MKMapFeatureAnnotation) {}","    ","    func getMapItem(completionHandler: @escaping (MKMapItem?, Error?) -> Void) {}","    var mapItem: MKMapItem { get async throws }","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"type":"text","text":"This map item contains additional metadata about the place, such as an address, a name, a phone number, and a URL."}],"type":"paragraph"},{"inlineContent":[{"text":"The map item also provides a function to punch out to the Maps app if the users want to see additional metadata which isn’t available through MapKit.","type":"text"}],"type":"paragraph"},{"code":["\/\/ Existing API","","open class MKMapItem : NSObject {","    open var placemark: MKPlacemark { get }","    open var name: String?","    open var phoneNumber: String?","    open var url: URL?","    ","    \/\/ ...","    ","    func openInMaps (launchOptions: [String : Any]? = nil, ","        from scene: UIScene?) async -> Bool {}"],"type":"codeListing","syntax":"swift"},{"level":1,"type":"heading","text":"The explore feature of the sample app","anchor":"The-explore-feature-of-the-sample-app"},{"inlineContent":[{"type":"text","text":"The users should be able to explore some interesting places near the waterfront. If they tap on POIs, annotations should show up. We will perform a camera animation to the tapped location, and show an info card from the bottom."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"First, let’s filter points of interest on the map and remove the categories which are irrelevant to the tour."},{"type":"text","text":" "},{"type":"text","text":"Aside from applying the filter in code, we can also apply it in Interface Builder inspector. Let’s select the map view, and go to inspector on the right-hand side and do an exclusion filter."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"lets select the categories that we don’t want, for example: airport, car rental, hospital, and laundry."}],"type":"paragraph"},{"inlineContent":[{"type":"image","identifier":"WWDC22-10035-exploreMapFeatures"}],"type":"paragraph"},{"inlineContent":[{"text":"It’s very simple to enable Selectable Map Features. All we need to do is to specify an option set of desired selectable features.","type":"text"},{"text":"\n","type":"text"},{"text":"In the scope of this sample app, we’ll just use points of interest, but we also can support selectable physical features and territories.","type":"text"}],"type":"paragraph"},{"code":["override func viewDidLoad() {","    super.viewDidLoad()","    ","    mapView.region = .annotation","    ","    mapView.cameraBoundary = MKMapView.CameraBoundary(coordinateRegion: .annotationCameraBoundary)","    ","    \/\/ Enable selectable map","    mapView.selectableMapFeatures = [.pointsOfInterest]"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"type":"text","text":"We can use the existing delegate method mapView viewForAnnotation to create a view for the feature annotation."},{"type":"text","text":" "},{"type":"text","text":"Here, we’ll just return nil… To use the default gradient annotation offered by MapKit."}],"type":"paragraph"},{"code":["func mapView(_ mapView: MKMapView, viewFor annotation: MKAnnotation) -> MKAnnotationView? {","    return nil","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"If an annotation is on Selected state, we will be informed through the new delegate method mapView didSelectAnnotation.","type":"text"},{"text":"\n","type":"text"},{"text":"We use this function to perform a camera animation and zoom in on the selected feature.","type":"text"},{"text":" ","type":"text"},{"text":"First, we cast the annotation to featureAnnotation, then create a map item request with it.","type":"text"},{"text":" ","type":"text"},{"text":"This is a new API to fetch additional place informations with feature annotations.","type":"text"},{"text":" ","type":"text"},{"text":"We issue the request. Once the fetch operation succeeds, we will animate to the map item. When the camera animation has completed, we will get details from the feature item and show them on an info card.","type":"text"}],"type":"paragraph"},{"code":["func mapView(_ mapView: MKMapView, didSelect annotation: MKAnnotation) {","    guard let featureAnnotation = annotation as? MKMapFeatureAnnotation else { return }","    let featureRequest = MKMapItemRequest(mapFeatureAnnotation: featureAnnotation)","","    Task {","    ","        \/\/ Issue request.","        do {","            guard let featureItem = try await featureRequest.mapItem else { return }","        ","            UIView.animate(withDuration: 4) {","            ","                \/\/ Update map camera","                self.animateCamera(featureItem)","            ","            } completion: { _ in","                \/\/ Concatenate info string from map item - name, category, url and address","                self.showInfoCardView(featureItem)","            }","        } catch {","    ","        }","    }","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"The gradient annotations show up. The camera animates to the tab location. Then the info card shows up.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"image","identifier":"WWDC22-10035-exploreMapFeatures2"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Now let’s customize our annotation for the selection state."},{"type":"text","text":"\n"},{"type":"text","text":"Instead of nil, let’s create a "},{"type":"codeVoice","code":"MarkerAnnotationView"},{"type":"text","text":". We’ll cast the annotation to "},{"type":"codeVoice","code":"featureAnnotation"},{"type":"text","text":" first, so we can use specific data from it to customize the view. Let’s tint the annotation with a purple-ish color so it’s in line with our corporate identity."},{"type":"text","text":" "},{"type":"text","text":"We can also customize the annotation glyph. "},{"type":"codeVoice","code":"SelectedGlyphImage"},{"type":"text","text":" is for annotations on Selected state. GlyphImage is smaller. It is the glyph for annotations on Unselected state. Assigning them the same glyph is recommended for a smooth transition from the Unselected to Selected state."},{"type":"text","text":"\n"},{"type":"text","text":"Let’s use the icon style image we got from the featureAnnotation."},{"type":"text","text":"\n"},{"type":"codeVoice","code":"MKIconStyle"},{"type":"text","text":" is a new class in iOS16. It has the iconography and color info of the selected POI."}],"type":"paragraph"},{"code":["func mapView(_: MKMapView, viewFor annotation: MKAnnotation) -> MKAnnotationView? {","    ","    if let featureAnnotation = annotation as? MKMapFeatureAnnotation {","        ","        let customView = MKMarkerAnnotationView(annotation: featureAnnotation, reuseIdentifier: nil)","        ","        customView.markerTintColor = UIColor(red: 0.63, green: 0.27, blue: 0.63, alpha: 1.0)","        ","        customView.selectedGlyphImage = featureAnnotation.iconStyle?.image","        customView.glyphImage = featureAnnotation.iconStyle?.image","        ","        return customView","    }","    ","    let annotationView = MKMarkerAnnotationView(annotation: annotation, reuseIdentifier: nil)","    return annotationView","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"type":"text","text":"Now we have an annotation that matches our corporate colors, but still uses Apple iconography."}],"type":"paragraph"},{"inlineContent":[{"type":"image","identifier":"WWDC22-10035-exploreMapFeatures3"}],"type":"paragraph"},{"level":1,"type":"heading","text":"Look Around!","anchor":"Look-Around"},{"inlineContent":[{"type":"text","text":"The Maps app introduced Look Around in iOS 13"}],"type":"paragraph"},{"inlineContent":[{"type":"image","identifier":"WWDC22-10035-lookAround"}],"type":"paragraph"},{"inlineContent":[{"text":"Look Around is available in many places around the world, including these cities, and entire countries.","type":"text"}],"type":"paragraph"},{"level":2,"type":"heading","text":"Cities:","anchor":"Cities"},{"inlineContent":[{"text":"Atlanta, GA \/ Boston, MA \/ Chicago, IL \/ Denver, CO \/ Detroit, MI \/ Dublin, Ireland \/ Edinburgh, Scotland \/ Fukuoka, Japan \/ Hiroshima, Japan \/ Houston, TX \/ Kanazawa, Japan \/ Las Vegas, NV \/ London, United Kingdom \/ Los Angeles, CA \/ Miami, FL \/ Nagoya, Japan \/ New York, NY \/ Oahu, HI \/ Osaka, Japan \/ Philadelphia, PA \/ Phoenix, AZ \/ Portland, OR \/ Sagamihara, Japan \/ San Diego, CA \/ San Francisco Bay Area \/ Santa Cruz, CA \/ Seattle, WA \/ Sendai, Japan \/ Takamatsu, Japan \/ Tokyo, Japan \/ Washington, DC \/ Yokohama, Japan","type":"text"}],"type":"paragraph"},{"level":2,"type":"heading","text":"Countries and territories:","anchor":"Countries-and-territories"},{"inlineContent":[{"type":"text","text":"Andorra \/ Australia \/ Canada \/ Gibraltar \/ Italy \/ Portugal \/ San Marino \/ Spain"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"With iOS 16, Look Around is coming to MapKit, and adopting it only requires three steps."}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Check for data availability.","type":"text"},{"text":"\n","type":"text"},{"text":"Check whether data is available for the desired location. Even if Look Around is available in the target region, not every location can be seen from a street, and therefore, Look Around imagery might not always be available.","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Pass data to the Look Around UI."},{"type":"text","text":" "},{"type":"text","text":"Once we’ve determined whether Look Around data is available, we’ll need to pass that data on to either the Look Around View Controller or the Look Around Snapshotter."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Conditionally show Look Around UI."},{"type":"text","text":"\n"},{"type":"text","text":"And finally, if Look Around data is available, we’ll want to update your app UI to show the Look Around preview."}]}]}],"type":"unorderedList"},{"inlineContent":[{"type":"text","text":"We create a "},{"code":"LookAroundSceneRequest","type":"codeVoice"},{"type":"text","text":", which is a new class introduced in iOS 16. we can initialize a new instance with either a coordinate or a map item."},{"type":"text","text":"\n"},{"type":"text","text":"we’ll retrieve its scene property. This is an optional async property. If data is available, we will get back a scene instance. If data is not available, we will get back a nil instead. And if there was a problem with the request, an error will be thrown."}],"type":"paragraph"},{"code":["class MKLookAroundSceneRequest {","    init (coordinate: CLLocationCoordinate2D)","    init (mapItem: MKMapItem)","    var scene: MKLookAroundScene? { get async throws }","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"The Look Around Scene is an opaque object with no properties. It acts as a token that ensures the availability of Look Around imagery for a requested location.","type":"text"}],"type":"paragraph"},{"code":["class MKLookAroundScene {","","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"To show an interactive preview of the Look Around scene, we pass the scene on to a new Look Around View Controller instance as an init parameter or assign it to the read write scene property of an existing instance.","type":"text"}],"type":"paragraph"},{"code":["class MKLookAroundViewController : UIViewController {","    init (scene: MKLookAroundScene)","    var scene: MKLookAroundScene?","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"type":"text","text":"Alternatively, we can also pass the scene on to a new Look Around View Snapshotter instance as an init parameter and subsequently retrieve its snapshot async property."}],"type":"paragraph"},{"code":["class MKLookAroundSnapshotter {","    init (scene: MKLookAroundScene, options: MKLookAroundSnapshotter.Options) ","    var snapshot: MKLookAroundSnapshotter.Snapshot { get async throws }"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"type":"text","text":"The Look Around view controller is designed to embed a smaller static preview of a Look Around image, which the user can tap on to enter a full-screen Look Around interactive session."}],"type":"paragraph"},{"inlineContent":[{"type":"image","identifier":"WWDC22-10035-lookAround2"}],"type":"paragraph"},{"level":1,"type":"heading","text":"Highlights feature of the sample app","anchor":"Highlights-feature-of-the-sample-app"},{"inlineContent":[{"text":"The last sample app feature, Highlights. Users can get a realistic view of must-see places.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"We already have a couple of San Francisco landmark names in the segment control bar on top of the screen. When users tap on one of them, we want to perform a camera animation to the tapped location. We also want to show a Look around preview at bottom left, which users can expand to full screen. Let’s do it! First we need to add a container view for the Look Around preview.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"identifier":"WWDC22-10035-highlights","type":"image"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Let’s go to the size inspector. Let’s give it a position and size."}],"type":"paragraph"},{"inlineContent":[{"identifier":"WWDC22-10035-highlights2","type":"image"}],"type":"paragraph"},{"inlineContent":[{"text":"We want to hide this preview at the beginning, so let’s open the attributes inspector and check Hidden.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"Next, we need to create a Look Around view controller…","type":"text"}],"type":"paragraph"},{"inlineContent":[{"identifier":"WWDC22-10035-highlights3","type":"image"}],"type":"paragraph"},{"inlineContent":[{"text":"And embed it to the container view.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"identifier":"WWDC22-10035-highlights4","type":"image"}],"type":"paragraph"},{"inlineContent":[{"text":"Same as any other segue, we need to give it an identifier.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"identifier":"WWDC22-10035-highlights5","type":"image"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Let’s call it "},{"code":"presentLookAroundEmbedded","type":"codeVoice"},{"type":"text","text":". And import it to code so we can update its visibility later."}],"type":"paragraph"},{"inlineContent":[{"text":"Let’s name it “preview.” Here, we already have a LookAroundViewController declared. We just need to grab the instance in the prepare function.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"image","identifier":"WWDC22-10035-highlights6"}],"type":"paragraph"},{"inlineContent":[{"text":"Make sure the segue identifier is matched.","type":"text"}],"type":"paragraph"},{"code":["override func prepare(for segue: UIStoryboardSegue, sender: Any?) {","    \/\/ Grab lookAroundViewController instance.","    if segue.identifier == \"presentLookAroundEmbedded\" {","        if let lookAroundViewController = segue.destination as? MKLookAroundViewController {","            self.lookAroundViewController = lookAroundViewController","            }","        }","    }"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"Then, in the segment control function, we’ll create a local search with the landmark name.","type":"text"},{"text":" ","type":"text"},{"text":"If the request succeeds, we will get a map item which will be used in the following camera animation and Look Around scene retrieval.","type":"text"},{"text":"\n","type":"text"},{"text":"For camera animation, we first need to create a camera with the new API. MapCamera looking at map item. Let’s use map view frame size for the view size, and set allow pitch to true. This will give us a pitch view to landmarks and a top-down view to other places. Assign the new camera. That’s it.","type":"text"}],"type":"paragraph"},{"code":["@IBAction func landmark(_ sender: UISegmentedControl) {","    cleanUpPreview()","    ","    let request = MKLocalSearch.Request()","    if sender.selectedSegmentIndex == 0 {","        request.naturalLanguageQuery = \"Ferry Building\"","    } else if sender. selectedSegmentIndex == 1 {","        request.naturalLanquageQuery = \"Coit Tower\"","    } else if sender.selectedSegmentIndex == 2 {","        request.naturalLanguageQuery = \"Dragon Gate\"","    }","","    let search = MKLocalSearch (request: request)","    search.start { response, error in","        guard let response = response else { return }","    ","        if let item = response.mapItems.first {","        ","            UIView.animate(withDuration: 6) {","        ","            \/\/ Camera animation","            let camera = MKMapCamera(lookingAt: item, forViewsize: self.mapView.frame.size, allowPitch: true)","            self.mapView.camera = camera","            ) completion: { _ in","        ","                \/\/ Prepare LookAround preview.","                self.configureLookAroundScene(item)","                }","            }","        }","    }","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"Once the camera animation is completed, we’ll show its Look Around preview.","type":"text"},{"text":"\n","type":"text"},{"text":"First, we need to determine if the Look Around data is available for this map item. To do that, we need to use the new LookAroundSceneRequest class. Let’s create our request and pass in the map item. Then perform the request.","type":"text"},{"text":"\n","type":"text"},{"text":"If get scene request succeeds, then we assign the scene to our LookAroundViewController.","type":"text"}],"type":"paragraph"},{"code":["func configureLookAroundScene(_ item: MKMapItem) {","    guard let lookAroundViewController = self.lookAroundViewController else { return }","    let lookAroundRequest = MKLookAroundSceneRequest(mapItem: item)","","    Task {","        \/\/ Create LookAround scene request.","        do {","            \/\/ Issue request.","            guard let lookAroundScene = try await lookAroundRequest.scene else { return }","            lookAroundViewController.scene = lookAroundScene","            ","            \/\/ Show lookAround preview.","            self.preview.isHidden = false","        } catch {","        ","        }","    }","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"If there is no error but we get nil for the scene, it means Look Around data is not available at the request location.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"image","identifier":"WWDC22-10035-last"}],"type":"paragraph"},{"level":1,"type":"heading","text":"Check out also","anchor":"Check-out-also"},{"inlineContent":[{"identifier":"https:\/\/developer.apple.com\/wwdc22\/10006","isActive":true,"type":"reference"},{"text":"","type":"text"},{"text":"\n","type":"text"},{"identifier":"https:\/\/developer.apple.com\/videos\/play\/tech-talks\/110356","isActive":true,"type":"reference"}],"type":"paragraph"},{"level":2,"type":"heading","text":"Written By","anchor":"Written-By"},{"columns":[{"content":[{"inlineContent":[{"type":"image","identifier":"https:\/\/avatars.githubusercontent.com\/u\/29355828?v=4"}],"type":"paragraph"}],"size":1},{"content":[{"type":"heading","level":3,"anchor":"laurent-b","text":"laurent b"},{"inlineContent":[{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/multitudes","isActive":true,"type":"reference","overridingTitle":"Contributed Notes","overridingTitleInlineContent":[{"text":"Contributed Notes","type":"text"}]},{"type":"text","text":" "},{"identifier":"https:\/\/laurentbrusa.hashnode.dev\/","isActive":true,"type":"reference"},{"type":"text","text":" "},{"identifier":"https:\/\/x.com\/wrmultitudes","isActive":true,"type":"reference"}],"type":"paragraph"}],"size":4}],"numberOfColumns":5,"type":"row"},{"level":2,"type":"heading","text":"Related Sessions","anchor":"Related-Sessions"},{"items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10006-Meet-Apple-Maps-Server-APIs"],"style":"list","type":"links"},{"inlineContent":[{"inlineContent":[{"type":"text","text":"Legal Notice"}],"type":"strong"}],"type":"small"},{"inlineContent":[{"type":"text","text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}],"type":"small"}]}],"schemaVersion":{"major":0,"patch":0,"minor":3},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22"]]},"references":{"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10045-Whats-new-in-managing-Apple-devices":{"role":"sampleCode","type":"topic","abstract":[{"type":"text","text":"Explore enhancements to device management across Apple platforms. Improve device deployment workflows using the latest version of Apple Configurator for iPhone. Learn about identity technologies and MDM protocol updates for macOS, iOS and iPadOS. We’ll also share an exciting change in how we provide device management documentation."}],"url":"\/documentation\/wwdcnotes\/wwdc22-10045-whats-new-in-managing-apple-devices","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10045-Whats-new-in-managing-Apple-devices","title":"What’s new in managing Apple devices","kind":"article"},"WWDC22-10035-highlights3":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-highlights3.jpg"}],"identifier":"WWDC22-10035-highlights3","alt":"highlights","type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10068-Whats-new-in-UIKit":{"role":"sampleCode","type":"topic","abstract":[{"type":"text","text":"Discover the latest updates and improvements to UIKit and learn how to build better iPadOS, iOS, and Mac Catalyst apps. We’ll take you through UI refinements, productivity updates, API enhancements, and more. We’ll also help you explore improvements to performance, security, and privacy."}],"url":"\/documentation\/wwdcnotes\/wwdc22-10068-whats-new-in-uikit","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10068-Whats-new-in-UIKit","title":"What’s new in UIKit","kind":"article"},"WWDC22-10035-lookAround2":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-lookAround2.jpg"}],"identifier":"WWDC22-10035-lookAround2","alt":"Look Around","type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-110332-Whats-new-in-Create-ML":{"role":"sampleCode","type":"topic","abstract":[{"text":"Discover the latest updates to Create ML. We’ll share improvements to Create ML’s evaluation tools that can help you understand how your custom models will perform on real-world data. Learn how you can check model performance on each type of image in your test data and identify problems within individual images to help you troubleshoot mistaken classifications, poorly labeled data, and other errors. We’ll also show you how to test your model with iPhone and iPad in live preview using Continuity Camera, and share how you can take Action Classification even further with the new Repetition Counting capabilities of the Create ML Components framework.","type":"text"}],"url":"\/documentation\/wwdcnotes\/wwdc22-110332-whats-new-in-create-ml","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110332-Whats-new-in-Create-ML","title":"What’s new in Create ML","kind":"article"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10048-Whats-new-in-Safari-and-WebKit":{"role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc22-10048-whats-new-in-safari-and-webkit","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10048-Whats-new-in-Safari-and-WebKit","type":"topic","abstract":[{"text":"Explore the latest features in Safari and WebKit and learn how you can make better and more powerful websites. We’ll take you on a tour through the latest updates to HTML, CSS enhancements, Web Inspector tooling, Web APIs, and more.","type":"text"}],"kind":"article","title":"What’s new in Safari and WebKit"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10096-Whats-new-in-privacy":{"kind":"article","role":"sampleCode","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc22-10096-whats-new-in-privacy","abstract":[{"text":"At Apple, we believe that privacy is a fundamental human right, and protecting people’s privacy is at the center of everything we do. Discover how our engineering teams build privacy into all of our products and developer frameworks, and learn about the technologies and patterns you can adopt in your apps to build trust and protect your customers.","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10096-Whats-new-in-privacy","title":"What’s new in privacy"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10039-Whats-new-in-StoreKit-testing":{"abstract":[{"text":"Discover the latest tools to help you test your in-app purchases and subscriptions. We’ll show you how to bring your products from App Store Connect into StoreKit Testing in Xcode, learn about improvements to the transaction manager, and explore your in-app purchase flow in Xcode Previews. We’ll also take you through best practices when setting up an Apple ID for the sandbox environment, and show you how to create tests for refund requests, price increase consent, billing retry, and much more.","type":"text"}],"kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10039-Whats-new-in-StoreKit-testing","role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc22-10039-whats-new-in-storekit-testing","title":"What’s new in StoreKit testing","type":"topic"},"WWDC22-10035-sampleApp6":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-sampleApp6.jpg"}],"identifier":"WWDC22-10035-sampleApp6","alt":"Sample App Levels","type":"image"},"WWDC22-10035-aboveLevels":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-aboveLevels.jpg"}],"identifier":"WWDC22-10035-aboveLevels","alt":"Above Levels","type":"image"},"WWDC22-10035-blendModes2":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-blendModes2.jpg"}],"identifier":"WWDC22-10035-blendModes2","alt":"Blend modes","type":"image"},"https://avatars.githubusercontent.com/u/29355828?v=4":{"variants":[{"traits":["1x","light"],"url":"https:\/\/avatars.githubusercontent.com\/u\/29355828?v=4"}],"identifier":"https:\/\/avatars.githubusercontent.com\/u\/29355828?v=4","alt":"Profile image of laurent b","type":"image"},"https://developer.apple.com/wwdc22/10006":{"title":"Meet Apple Map Server APIs - WWDC22","identifier":"https:\/\/developer.apple.com\/wwdc22\/10006","url":"https:\/\/developer.apple.com\/wwdc22\/10006","titleInlineContent":[{"text":"Meet Apple Map Server APIs - WWDC22","type":"text"}],"type":"link"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-110336-Whats-new-in-Screen-Time-API":{"role":"sampleCode","type":"topic","abstract":[{"text":"Find out how you can build apps that help people manage their relationship with their device — all while putting privacy first. We’ll take you through the Screen Time API and share how you can use features like core restrictions and device activity reports to create great experiences while providing measurable control for the device’s owner, parents, and guardians.","type":"text"}],"url":"\/documentation\/wwdcnotes\/wwdc22-110336-whats-new-in-screen-time-api","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110336-Whats-new-in-Screen-Time-API","title":"What’s new in Screen Time API","kind":"article"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10043-Whats-new-in-App-Store-Connect":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10043-Whats-new-in-App-Store-Connect","abstract":[{"type":"text","text":"Discover the latest updates to App Store Connect, your suite of tools to create, manage, and submit apps on the App Store. Learn about enhancements to the submission experience — including the ability to manage submissions in App Store Connect on iOS and iPadOS — as well as the newest updates to the App Store Connect API and much more."}],"url":"\/documentation\/wwdcnotes\/wwdc22-10043-whats-new-in-app-store-connect","role":"sampleCode","title":"What’s new in App Store Connect","kind":"article","type":"topic"},"WWDC22-10035-DeprecatedAPI":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-DeprecatedAPI.jpg"}],"identifier":"WWDC22-10035-DeprecatedAPI","alt":"Deprecated API","type":"image"},"WWDC22-10035-blendModes3":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-blendModes3.jpg"}],"identifier":"WWDC22-10035-blendModes3","alt":"Blend modes","type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22":{"kind":"article","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc22","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22","title":"WWDC22","role":"collectionGroup","abstract":[{"text":"Xcode 14, Swift 5.7, iOS 16, macOS 13, tvOS 16, watchOS 9.","type":"text"},{"text":" ","type":"text"},{"text":"New APIs: ","type":"text"},{"type":"codeVoice","code":"WeatherKit"},{"text":", ","type":"text"},{"type":"codeVoice","code":"ScreenCaptureKit"},{"text":", ","type":"text"},{"type":"codeVoice","code":"Swift Regex"},{"text":", and more.","type":"text"}],"images":[{"type":"icon","identifier":"WWDCNotes.png"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10005-Whats-new-in-HealthKit":{"role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc22-10005-whats-new-in-healthkit","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10005-Whats-new-in-HealthKit","type":"topic","abstract":[{"text":"Bring the latest HealthKit features to your health & fitness app. We’ll show you how to capture more detailed sleep data through sleep stages, track swim-bike-run and interval workouts with the enhanced Workout API, and save vision prescriptions — including an image of the physical prescription — directly to HealthKit while preserving privacy.","type":"text"}],"kind":"article","title":"What’s new in HealthKit"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10109-Whats-new-in-notarization-for-Mac-apps":{"role":"sampleCode","type":"topic","abstract":[{"type":"text","text":"Notarization works in tandem with macOS to help people safely download software for their Mac outside of the App Store. Learn about the required transition from altool to notarytool and how the Xcode GUI can help you achieve better overall performance when notarizing your app. We’ll also share information about APIs for interacting with the Notary service from any internet-connected machine."}],"url":"\/documentation\/wwdcnotes\/wwdc22-10109-whats-new-in-notarization-for-mac-apps","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10109-Whats-new-in-notarization-for-Mac-apps","title":"What’s new in notarization for Mac apps","kind":"article"},"WWDC22-10035-london":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-london.jpg"}],"identifier":"WWDC22-10035-london","alt":"London St Paul","type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-110345-Whats-new-in-Endpoint-Security":{"type":"topic","title":"What’s new in Endpoint Security","abstract":[{"text":"Learn how you can build reliable endpoint security products like anti-virus software, endpoint detection and response, and data leakage prevention solutions for macOS. We’ll take you through the latest enhancements to Endpoint Security APIs: Learn how you can support more security events and use advanced muting capabilities in your app. We’ll also explore a standalone tool to help you perform introspection from the command line.","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110345-Whats-new-in-Endpoint-Security","url":"\/documentation\/wwdcnotes\/wwdc22-110345-whats-new-in-endpoint-security","role":"sampleCode","kind":"article"},"WWDC22-10035-highlights6":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-highlights6.jpg"}],"identifier":"WWDC22-10035-highlights6","alt":"highlights","type":"image"},"WWDC22-10035-aboveLevels6":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-aboveLevels6.jpg"}],"identifier":"WWDC22-10035-aboveLevels6","alt":"Above Levels","type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10099-Whats-new-in-Safari-Web-Extensions":{"role":"sampleCode","type":"topic","abstract":[{"type":"text","text":"Learn how you can use the latest improvements to Safari Web Extensions to create even better experiences for people browsing the web. We’ll show you how to upgrade to manifest version 3, adopt the latest APIs for Web Extensions, and sync extensions across devices."}],"url":"\/documentation\/wwdcnotes\/wwdc22-10099-whats-new-in-safari-web-extensions","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10099-Whats-new-in-Safari-Web-Extensions","title":"What’s new in Safari Web Extensions","kind":"article"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10024-Whats-new-in-Vision":{"role":"sampleCode","type":"topic","abstract":[{"type":"text","text":"Learn about the latest updates to Vision APIs that help your apps recognize text, detect faces and face landmarks, and implement optical flow. We’ll take you through the capabilities of optical flow for video-based apps, show you how to update your apps with revisions to the machine learning models that drive these APIs, and explore how you can visualize your Vision tasks with Quick Look Preview support in Xcode."}],"url":"\/documentation\/wwdcnotes\/wwdc22-10024-whats-new-in-vision","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10024-Whats-new-in-Vision","title":"What’s new in Vision","kind":"article"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10157-Whats-new-in-SF-Symbols-4":{"role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc22-10157-whats-new-in-sf-symbols-4","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10157-Whats-new-in-SF-Symbols-4","type":"topic","abstract":[{"text":"Explore the latest updates to SF Symbols, Apple’s extensive library of iconography designed to integrate seamlessly with San Francisco, the system font for all Apple platforms. Discover the latest additions to the SF Symbols library and new categories in the app. Learn about the new Automatic behavior, which chooses the rendering mode that best highlights what’s unique about the symbol’s characteristics. See how to use the new Variable Color feature to make a symbol more dynamic. We’ll also learn about a more efficient way of annotating symbols with the new unified approach.","type":"text"}],"kind":"article","title":"What’s new in SF Symbols 4"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10140-Whats-new-in-SharePlay":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10140-Whats-new-in-SharePlay","abstract":[{"type":"text","text":"Join us as we share the latest updates to SharePlay. We’ll show you how you can start SharePlay sessions right from your app, take you through improvements to APIs to create richer experiences, and check out enhancements to GroupSessionMessenger. We’ll also explore best practices for adding SharePlay to your app."}],"url":"\/documentation\/wwdcnotes\/wwdc22-10140-whats-new-in-shareplay","role":"sampleCode","title":"What’s new in SharePlay","kind":"article","type":"topic"},"WWDC22-10035-exploreMapFeatures":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-exploreMapFeatures.jpg"}],"identifier":"WWDC22-10035-exploreMapFeatures","alt":"Explore Map Features","type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-110368-Whats-new-in-SwiftDocC":{"title":"What’s new in Swift-DocC","kind":"article","type":"topic","abstract":[{"type":"text","text":"Join us for an exciting update on Swift-DocC and learn how you can write and share documentation for your own projects. We’ll explore improvements to Swift-DocC navigation and share how you can compile documentation for application targets and Objective-C code. We’ll also show you how to publish your content straight to hosting services like GitHub Pages."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110368-Whats-new-in-SwiftDocC","url":"\/documentation\/wwdcnotes\/wwdc22-110368-whats-new-in-swiftdocc","role":"sampleCode"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10049-Whats-new-in-WKWebView":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10049-Whats-new-in-WKWebView","abstract":[{"type":"text","text":"Explore the latest updates to WKWebView, our framework for incorporating web content into your app’s interface. We’ll show you how to use the JavaScript fullscreen API, explore CSS viewport units, and learn more about find interactions. We’ll also take you through refinements to content blocking controls, embedding encrypted media, and using the Web Inspector."}],"url":"\/documentation\/wwdcnotes\/wwdc22-10049-whats-new-in-wkwebview","role":"sampleCode","title":"What’s new in WKWebView","kind":"article","type":"topic"},"WWDC22-10035-sampleApp2":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-sampleApp2.jpg"}],"identifier":"WWDC22-10035-sampleApp2","alt":"Sample App Levels","type":"image"},"WWDC22-10035-highlights5":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-highlights5.jpg"}],"identifier":"WWDC22-10035-highlights5","alt":"highlights","type":"image"},"WWDC22-10035-selectableMapFeatures":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-selectableMapFeatures.jpg"}],"identifier":"WWDC22-10035-selectableMapFeatures","alt":"Selectable Map Features","type":"image"},"WWDC22-10035-sampleApp4":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-sampleApp4.jpg"}],"identifier":"WWDC22-10035-sampleApp4","alt":"Sample App Levels","type":"image"},"WWDC22-10035-ferryBuilding":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-ferryBuilding.jpg"}],"identifier":"WWDC22-10035-ferryBuilding","alt":"Ferry Building","type":"image"},"WWDC22-10035-selectableMapFeatures2":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-selectableMapFeatures2.jpg"}],"identifier":"WWDC22-10035-selectableMapFeatures2","alt":"Selectable Map Features","type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10023-Whats-new-in-the-Photos-picker":{"url":"\/documentation\/wwdcnotes\/wwdc22-10023-whats-new-in-the-photos-picker","title":"What’s new in the Photos picker","kind":"article","abstract":[{"type":"text","text":"PHPicker provides simple and secure integration between your app and the system Photos library. Learn how SwiftUI and Transferable can help you offer integration across iOS, iPadOS, macOS, and watchOS."}],"role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10023-Whats-new-in-the-Photos-picker","type":"topic"},"WWDC22-10035-aboveLevels3":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-aboveLevels3.jpg"}],"identifier":"WWDC22-10035-aboveLevels3","alt":"Above Levels","type":"image"},"doc://WWDCNotes/documentation/WWDCNotes":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","url":"\/documentation\/wwdcnotes","title":"WWDC Notes","type":"topic","abstract":[{"text":"Session notes shared by the community for the community.","type":"text"}],"images":[{"identifier":"WWDCNotes.png","type":"icon"}],"kind":"symbol","role":"collection"},"WWDC22-10035-deviceSupport":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-deviceSupport.jpg"}],"identifier":"WWDC22-10035-deviceSupport","alt":"Device Support","type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10115-Whats-new-in-CloudKit-Console":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10115-Whats-new-in-CloudKit-Console","abstract":[{"type":"text","text":"We’ll take you through the latest updates to CloudKit Console and discover how you can explore and debug your containers on the web like never before. Learn more about Act as iCloud, which helps you query records and view data from the perspective of another account. Discover how to share zones of records, and provide better collaboration between participants. And find out how to hide inactive containers. We’ll also share a few tips on getting the most out of CloudKit Console."}],"url":"\/documentation\/wwdcnotes\/wwdc22-10115-whats-new-in-cloudkit-console","role":"sampleCode","title":"What’s new in CloudKit Console","kind":"article","type":"topic"},"WWDC22-10035-standardMapConfig":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-standardMapConfig.jpg"}],"identifier":"WWDC22-10035-standardMapConfig","alt":"Standard Map Config","type":"image"},"WWDC22-10035-goldenGate":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-goldenGate.jpg"}],"identifier":"WWDC22-10035-goldenGate","alt":"Golden Gate","type":"image"},"WWDC22-10035-highlights2":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-highlights2.jpg"}],"identifier":"WWDC22-10035-highlights2","alt":"highlights","type":"image"},"https://laurentbrusa.hashnode.dev/":{"title":"Blog","identifier":"https:\/\/laurentbrusa.hashnode.dev\/","url":"https:\/\/laurentbrusa.hashnode.dev\/","titleInlineContent":[{"text":"Blog","type":"text"}],"type":"link"},"WWDC22-10035-aboveLevels4":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-aboveLevels4.jpg"}],"identifier":"WWDC22-10035-aboveLevels4","alt":"Above Levels","type":"image"},"WWDC22-10035-mapTypeMapping":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-mapTypeMapping.jpg"}],"identifier":"WWDC22-10035-mapTypeMapping","alt":"Map type mapping","type":"image"},"WWDC22-10035-sampleApp1":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-sampleApp1.jpg"}],"identifier":"WWDC22-10035-sampleApp1","alt":"Sample App Levels","type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10052-Whats-new-in-SwiftUI":{"role":"sampleCode","type":"topic","abstract":[{"text":"It’s a SwiftUI party — and you’re invited! Join us as we share the latest updates and a glimpse into the future of UI framework design. Discover deep levels of customization, advanced techniques for layout, elegant strategies for sharing, and rock-solid structural approaches for designing an app top-to-bottom in SwiftUI. We’ll also have some celebratory fun as we play with the latest graphical effects and explore APIs.","type":"text"}],"url":"\/documentation\/wwdcnotes\/wwdc22-10052-whats-new-in-swiftui","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10052-Whats-new-in-SwiftUI","title":"What’s new in SwiftUI","kind":"article"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10153-Whats-new-in-web-accessibility":{"role":"sampleCode","abstract":[{"text":"Discover techniques for building rich, accessible web apps with custom controls, SSML, and the dialog element. We’ll discuss different assistive technologies and help you learn how to use them when testing the accessibility of your web apps.","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10153-Whats-new-in-web-accessibility","type":"topic","kind":"article","title":"What’s new in web accessibility","url":"\/documentation\/wwdcnotes\/wwdc22-10153-whats-new-in-web-accessibility"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10090-Whats-new-in-TextKit-and-text-views":{"abstract":[{"text":"Discover the latest updates to TextKit and text views in UI frameworks. Explore layout refinements and API enhancements, learn how you can maintain compatibility across multiple OS versions, and find out how to modernize your app with TextKit 2.","type":"text"}],"kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10090-Whats-new-in-TextKit-and-text-views","role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc22-10090-whats-new-in-textkit-and-text-views","title":"What’s new in TextKit and text views","type":"topic"},"WWDC22-10035-sampleApp5":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-sampleApp5.jpg"}],"identifier":"WWDC22-10035-sampleApp5","alt":"Sample App Levels","type":"image"},"WWDC22-10035-highlights":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-highlights.jpg"}],"identifier":"WWDC22-10035-highlights","alt":"highlights","type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10089-Whats-new-in-PDFKit":{"role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc22-10089-whats-new-in-pdfkit","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10089-Whats-new-in-PDFKit","type":"topic","abstract":[{"text":"Discover PDFKit — a full-featured framework that helps your app view, edit, and save PDF documents. We’ll take you through the latest features in PDFKit, including support for live text and forms, creating PDFs from images, building interactive overlays, and saving annotations.","type":"text"}],"kind":"article","title":"What’s new in PDFKit"},"WWDC22-10035-last":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-last.jpg"}],"identifier":"WWDC22-10035-last","alt":"look around preview","type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10074-Whats-new-in-AppKit":{"role":"sampleCode","type":"topic","abstract":[{"text":"Discover the latest advances in Mac app development using AppKit. We’ll take you through the latest updates to SF Symbols, show you how you can elevate your interface with enhanced controls, and help you learn to coordinate your windows with Stage Manager. We’ll also explore the latest sharing and collaboration features for macOS.","type":"text"}],"url":"\/documentation\/wwdcnotes\/wwdc22-10074-whats-new-in-appkit","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10074-Whats-new-in-AppKit","title":"What’s new in AppKit","kind":"article"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10097-Whats-new-in-App-Clips":{"role":"sampleCode","type":"topic","abstract":[{"text":"Explore the latest updates to App Clips! Discover how we’ve made your App Clip even easier to build with improvements to the size limit as well as CloudKit and keychain usage. We’ll also show you how to use our validation tool to verify your App Clip and automate workflows for your advanced App Clip experiences using App Store Connect.","type":"text"}],"url":"\/documentation\/wwdcnotes\/wwdc22-10097-whats-new-in-app-clips","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10097-Whats-new-in-App-Clips","title":"What’s new in App Clips","kind":"article"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10006-Meet-Apple-Maps-Server-APIs":{"abstract":[{"text":"Simplify your app’s mapping architecture by implementing the Apple Maps stack across MapKit, MapKit JS, and Apple Maps Server APIs. Learn how these APIs can reduce network calls and increase power efficiency, which can help improve the overall performance of your app. We’ll show you how to use geocoding and estimated time of arrival APIs to build functionality for a simple store locator, and explore the API authentication flow.","type":"text"}],"url":"\/documentation\/wwdcnotes\/wwdc22-10006-meet-apple-maps-server-apis","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10006-Meet-Apple-Maps-Server-APIs","role":"sampleCode","title":"Meet Apple Maps Server APIs","kind":"article","type":"topic"},"WWDC22-10035-aboveLevels2":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-aboveLevels2.jpg"}],"identifier":"WWDC22-10035-aboveLevels2","alt":"Above Levels","type":"image"},"WWDC22-10035-lookAround":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-lookAround.jpg"}],"identifier":"WWDC22-10035-lookAround","alt":"Look Around","type":"image"},"WWDC22-10035-blendModes4":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-blendModes4.jpg"}],"identifier":"WWDC22-10035-blendModes4","alt":"Blend modes","type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10008-Whats-new-in-Nearby-Interaction":{"abstract":[{"text":"Discover how the Nearby Interaction framework can help you easily integrate Ultra Wideband (UWB) into your apps and hardware accessories. Learn how you can combine the visual-spatial power of ARKit with the radio sensitivity of the U1 chip to locate nearby stationary objects with precision. We’ll also show you how you can create background interactions using UWB accessories paired via Bluetooth.","type":"text"}],"kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10008-Whats-new-in-Nearby-Interaction","role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc22-10008-whats-new-in-nearby-interaction","title":"What’s new in Nearby Interaction","type":"topic"},"WWDC22-10035-mapsImagery":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-mapsImagery.jpg"}],"identifier":"WWDC22-10035-mapsImagery","alt":"Maps Imagery","type":"image"},"WWDC22-10035-aboveLevels5":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-aboveLevels5.jpg"}],"identifier":"WWDC22-10035-aboveLevels5","alt":"Above Levels","type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10149-Whats-new-in-AVQT":{"abstract":[{"text":"Discover the latest updates and improvements to the Advanced Video Quality Tool (AVQT). We’ll take you through the interactive reports feature and help you learn how to identify video quality-related issues. We’ll also explore extended support for raw formats, show you how to evaluate specific scenes within a video, and explore how you can use AVQT for Linux to analyze videos on Linux servers and online in the cloud.","type":"text"}],"kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10149-Whats-new-in-AVQT","role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc22-10149-whats-new-in-avqt","title":"What’s new in AVQT","type":"topic"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-110354-Whats-new-in-Swift":{"abstract":[{"text":"Join us for an update on Swift. We’ll take you through performance improvements, explore more secure and extensible Swift packages, and share advancements in Swift concurrency. We’ll also introduce you to Swift Regex, better generics, and other tools built into the language to help you write more flexible & expressive code.","type":"text"}],"url":"\/documentation\/wwdcnotes\/wwdc22-110354-whats-new-in-swift","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110354-Whats-new-in-Swift","role":"sampleCode","title":"What’s new in Swift","kind":"article","type":"topic"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-110427-Whats-new-in-Xcode":{"role":"sampleCode","type":"topic","abstract":[{"text":"Discover the latest productivity and performance advancements in Xcode 14. We’ll introduce you to the fully redesigned SwiftUI canvas experience, explore enhancements to code completion and navigation, and take you through performance improvements we’ve made throughout the entire development process. We’ll also show you how you can now read and respond to feedback on your TestFlight builds without ever leaving Xcode.","type":"text"}],"url":"\/documentation\/wwdcnotes\/wwdc22-110427-whats-new-in-xcode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110427-Whats-new-in-Xcode","title":"What’s new in Xcode","kind":"article"},"https://developer.apple.com/wwdc22/10035":{"identifier":"https:\/\/developer.apple.com\/wwdc22\/10035","checksum":null,"url":"https:\/\/developer.apple.com\/wwdc22\/10035","type":"download"},"WWDC22-10035-sampleApp3":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-sampleApp3.jpg"}],"identifier":"WWDC22-10035-sampleApp3","alt":"Sample App","type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/multitudes":{"kind":"article","title":"laurent b (32 notes)","role":"sampleCode","type":"topic","abstract":[{"type":"text","text":"student at 42Berlin 🐬 | 🍎 Swift(UI) app dev  | speciality coffee ☕️ & cycling 🚴🏻‍♂️"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/multitudes","url":"\/documentation\/wwdcnotes\/multitudes"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10009-Whats-new-in-iPad-app-design":{"abstract":[{"text":"Discover the latest updates in iPad app design. We’ll take you through improvements to search, navigation bars, edit menus, multi-selection, and more. Learn how you can make your app both more powerful and easier to use when you incorporate customizable toolbars, multi-column tables, and find and replace.","type":"text"}],"kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10009-Whats-new-in-iPad-app-design","role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc22-10009-whats-new-in-ipad-app-design","title":"What’s new in iPad app design","type":"topic"},"WWDC22-10035-maps1":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-maps1.jpg"}],"identifier":"WWDC22-10035-maps1","alt":"maps","type":"image"},"WWDC22-10035-exploreMapFeatures3":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-exploreMapFeatures3.jpg"}],"identifier":"WWDC22-10035-exploreMapFeatures3","alt":"Explore Map Features","type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10145-Whats-new-in-HLS-Interstitials":{"abstract":[{"text":"HLS Interstitials can help you create seamless transitions in video content between advertisements, other interstitials, and your HLS streams. Learn how you can optimize your ad inventory, fine-tune interstitial presentation with SNAP-IN\/OUT when using HLS, and more.","type":"text"}],"kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10145-Whats-new-in-HLS-Interstitials","role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc22-10145-whats-new-in-hls-interstitials","title":"What’s new in HLS Interstitials","type":"topic"},"WWDC22-10035-blendModes":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-blendModes.jpg"}],"identifier":"WWDC22-10035-blendModes","alt":"Blend modes","type":"image"},"https://x.com/wrmultitudes":{"title":"X\/Twitter","identifier":"https:\/\/x.com\/wrmultitudes","url":"https:\/\/x.com\/wrmultitudes","titleInlineContent":[{"text":"X\/Twitter","type":"text"}],"type":"link"},"WWDC22-10035-highlights4":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-highlights4.jpg"}],"identifier":"WWDC22-10035-highlights4","alt":"highlights","type":"image"},"WWDCNotes.png":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes.png"}],"identifier":"WWDCNotes.png","alt":null,"type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10041-Whats-new-in-Wallet-and-Apple-Pay":{"role":"sampleCode","type":"topic","abstract":[{"text":"Discover the latest updates to Wallet & Apple Pay. We’ll show you how to support Orders in Wallet for your apps and websites and securely validate someone’s age and identity with the Identity Verification API. We’ll also explore PassKit support for SwiftUI, and discuss how you how you can improve your Apple Pay experience with Automatic Payments.","type":"text"}],"url":"\/documentation\/wwdcnotes\/wwdc22-10041-whats-new-in-wallet-and-apple-pay","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10041-Whats-new-in-Wallet-and-Apple-Pay","title":"What’s new in Wallet and Apple Pay","kind":"article"},"WWDC22-10035-exploreMapFeatures2":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC22-10035-exploreMapFeatures2.jpg"}],"identifier":"WWDC22-10035-exploreMapFeatures2","alt":"Explore Map Features","type":"image"},"https://developer.apple.com/videos/play/tech-talks/110356":{"title":"Whats new for enterprise developer (Tech Talk) -  WWDC22","identifier":"https:\/\/developer.apple.com\/videos\/play\/tech-talks\/110356","url":"https:\/\/developer.apple.com\/videos\/play\/tech-talks\/110356","titleInlineContent":[{"text":"Whats new for enterprise developer (Tech Talk) -  WWDC22","type":"text"}],"type":"link"}}}