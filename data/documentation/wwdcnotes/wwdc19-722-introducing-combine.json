{"kind":"article","primaryContentSections":[{"kind":"content","content":[{"text":"What’s Combine?","type":"heading","level":2,"anchor":"Whats-Combine"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"A unified, declarative API for processing values over time.","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Combine was designed for composition.","type":"text"}],"type":"paragraph"}]}]},{"text":"Key Concepts","type":"heading","level":2,"anchor":"Key-Concepts"},{"text":"`Publisher`","type":"heading","level":3,"anchor":"Publisher"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"it’s a protocol"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Declarative part of Combine."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Describes how values\/errors are produced.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Sends (sequences of) values over time."}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Two generic types: "},{"type":"codeVoice","code":"Output"},{"type":"text","text":" and "},{"type":"codeVoice","code":"Error"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Completion via ","type":"text"},{"code":".finished","type":"codeVoice"},{"text":" or ","type":"text"},{"code":".failure","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Publishers are not necessary who produced the value\/error."}],"type":"paragraph"}]}]},{"text":"`Subscriber`","type":"heading","level":3,"anchor":"Subscriber"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"it’s a protocol"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"code":"Publisher","type":"codeVoice"},{"text":" counterpart","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Receives values from publishers"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Two generic types: ","type":"text"},{"code":"Input","type":"codeVoice"},{"text":" and ","type":"text"},{"code":"Error","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Can cancel a subscription"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"Subscription","type":"codeVoice"},{"type":"text","text":": A subscription is how a "},{"code":"Subscriber","type":"codeVoice"},{"type":"text","text":" controls the flow of data from a Publisher to the "},{"code":"Subscriber","type":"codeVoice"},{"type":"text","text":"."}]}]}]},{"text":"Operators","type":"heading","level":3,"anchor":"Operators"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"In-between "},{"type":"codeVoice","code":"Publisher"},{"type":"text","text":"s and "},{"code":"Subscriber","type":"codeVoice"},{"type":"text","text":"s, they transform\/filter the published value into something desired by the subscriber"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Operators forward errors, only change values."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"They also manage scheduling\/time, thread\/queue movement, and more","type":"text"}],"type":"paragraph"}]}]},{"inlineContent":[{"text":"Combine provides a lot of operators:","type":"text"},{"text":"\n","type":"text"},{"type":"codeVoice","code":"catch"},{"text":", ","type":"text"},{"type":"codeVoice","code":"dropFirst"},{"text":", ","type":"text"},{"type":"codeVoice","code":"allSatisfy"},{"text":", ","type":"text"},{"type":"codeVoice","code":"breakpoint"},{"text":", ","type":"text"},{"type":"codeVoice","code":"setFailureType"},{"text":", ","type":"text"},{"type":"codeVoice","code":"prepend"},{"text":", ","type":"text"},{"type":"codeVoice","code":"replaceError"},{"text":", ","type":"text"},{"type":"codeVoice","code":"append"},{"text":", ","type":"text"},{"type":"codeVoice","code":"map"},{"text":", ","type":"text"},{"type":"codeVoice","code":"filter"},{"text":", ","type":"text"},{"type":"codeVoice","code":"count"},{"text":", ","type":"text"},{"type":"codeVoice","code":"abortOnError"},{"text":", ","type":"text"},{"type":"codeVoice","code":"breakpointOnError"},{"text":", ","type":"text"},{"type":"codeVoice","code":"ignoreOutput"},{"text":", ","type":"text"},{"type":"codeVoice","code":"first"},{"text":", ","type":"text"},{"type":"codeVoice","code":"min"},{"text":", ","type":"text"},{"type":"codeVoice","code":"last"},{"text":", ","type":"text"},{"type":"codeVoice","code":"output"},{"text":", ","type":"text"},{"type":"codeVoice","code":"prefix"},{"text":", ","type":"text"},{"type":"codeVoice","code":"replaceEmpty"},{"text":", ","type":"text"},{"type":"codeVoice","code":"compactMap"},{"text":", ","type":"text"},{"type":"codeVoice","code":"zip"},{"text":", ","type":"text"},{"type":"codeVoice","code":"flatMap"},{"text":", ","type":"text"},{"type":"codeVoice","code":"removeDuplicates"},{"text":", ","type":"text"},{"type":"codeVoice","code":"reduce"},{"text":", ","type":"text"},{"type":"codeVoice","code":"combineLatest"},{"text":", ","type":"text"},{"type":"codeVoice","code":"collect"},{"text":", ","type":"text"},{"type":"codeVoice","code":"retry"},{"text":", ","type":"text"},{"type":"codeVoice","code":"contains"},{"text":", ","type":"text"},{"type":"codeVoice","code":"switchToLatest"},{"text":", ","type":"text"},{"type":"codeVoice","code":"replaceNil"},{"text":", ","type":"text"},{"type":"codeVoice","code":"scan"},{"text":", and more!","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"The idea is that operators are composable:","type":"text"},{"text":"\n","type":"text"},{"text":"instead of having a few operators that do a lot, Combine provides many operators that do a little, then it’s up to us to choose which operators to use based on our needs.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"If a operator returns ","type":"text"},{"code":"nil","type":"codeVoice"},{"text":", it’s like stopping the event\/value to proceed further. We can use most of the functional operators we’re used with arrays: prefix, compactMap, filter…","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"codeVoice","code":"zip"},{"type":"text","text":" converts multiple inputs (from different publishers) into a single tuple. It requires all the inputs (from all upstreams) to be delivered before sending the data downstream. Therefore it acts as a when\/and operation."}],"type":"paragraph"},{"inlineContent":[{"type":"codeVoice","code":"combineLatest"},{"text":" is like ","type":"text"},{"type":"codeVoice","code":"zip"},{"text":", but it keeps the latest value of each upstream. Whenever a new value comes in, a new event is sent downstream with all old values except the new one.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Note that both zip and CombineLatest can transform the values into something else (no need to forward necessarily the tuple)"}],"type":"paragraph"},{"text":"Future vs Publisher","type":"heading","level":3,"anchor":"Future-vs-Publisher"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"If we need to represent a single value asynchronously, we have a future."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"If we need to represent many values asynchronously, that’s a Publisher."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Future is a real type in combine"}],"type":"paragraph"}]}]},{"text":"Written By","type":"heading","level":2,"anchor":"Written-By"},{"numberOfColumns":5,"columns":[{"content":[{"inlineContent":[{"type":"image","identifier":"zntfdr"}],"type":"paragraph"}],"size":1},{"content":[{"level":3,"type":"heading","anchor":"Federico-Zanetello","text":"Federico Zanetello"},{"inlineContent":[{"overridingTitleInlineContent":[{"text":"Contributed Notes","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","isActive":true,"type":"reference","overridingTitle":"Contributed Notes"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"identifier":"https:\/\/github.com\/zntfdr","isActive":true,"type":"reference"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"identifier":"https:\/\/zntfdr.dev","isActive":true,"type":"reference"}],"type":"paragraph"}],"size":4}],"type":"row"},{"inlineContent":[{"text":"Missing anything? Corrections? ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"}],"type":"paragraph"},{"text":"Related Sessions","type":"heading","level":2,"anchor":"Related-Sessions"},{"style":"list","type":"links","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-210-Whats-New-in-AppKit-for-macOS","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-226-Data-Flow-Through-SwiftUI","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-721-Combine-in-Practice"]},{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Legal Notice"}]}],"type":"small"},{"inlineContent":[{"type":"text","text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}],"type":"small"}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"metadata":{"modules":[{"name":"WWDC Notes"}],"title":"Introducing Combine","role":"sampleCode","roleHeading":"WWDC19"},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19"]]},"abstract":[{"type":"text","text":"Combine is a unified declarative framework for processing values over time. Learn how it can simplify asynchronous code like networking, key value observing, notifications and callbacks."}],"sampleCodeDownload":{"kind":"sampleDownload","action":{"overridingTitle":"Watch Video (18 min)","isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/wwdc19\/722"}},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc19-722-introducing-combine"]}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-722-Introducing-Combine"},"sections":[],"references":{"WWDC19.jpeg":{"variants":[{"url":"\/images\/WWDC19.jpeg","traits":["1x","light"]}],"alt":null,"identifier":"WWDC19.jpeg","type":"image"},"https://developer.apple.com/wwdc19/722":{"checksum":null,"identifier":"https:\/\/developer.apple.com\/wwdc19\/722","url":"https:\/\/developer.apple.com\/wwdc19\/722","type":"download"},"zntfdr":{"variants":[{"url":"\/images\/zntfdr.jpeg","traits":["1x","light"]}],"alt":"Profile image of Federico Zanetello","identifier":"zntfdr","type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/zntfdr":{"kind":"article","url":"\/documentation\/wwdcnotes\/zntfdr","type":"topic","images":[{"identifier":"zntfdr.jpeg","type":"card"},{"identifier":"zntfdr.jpeg","type":"icon"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","title":"Federico Zanetello (332 notes)","abstract":[{"text":"Software engineer with a strong passion for well-written code, thought-out composable architectures, automation, tests, and more.","type":"text"}],"role":"sampleCode"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-210-Whats-New-in-AppKit-for-macOS":{"role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-210-Whats-New-in-AppKit-for-macOS","url":"\/documentation\/wwdcnotes\/wwdc19-210-whats-new-in-appkit-for-macos","abstract":[{"text":"Learn about the latest APIs in AppKit and associated frameworks. Get an overview of the enhancements coming in macOS Catalina to help you save time, take advantage of the latest hardware, and add polish to your application.","type":"text"}],"title":"What’s New in AppKit for macOS","type":"topic","kind":"article"},"WWDCNotes.png":{"variants":[{"url":"\/images\/WWDCNotes.png","traits":["1x","light"]}],"alt":null,"identifier":"WWDCNotes.png","type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19":{"kind":"article","url":"\/documentation\/wwdcnotes\/wwdc19","type":"topic","images":[{"identifier":"WWDC19-Icon.png","type":"icon"},{"identifier":"WWDC19.jpeg","type":"card"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19","title":"WWDC19","abstract":[{"text":"Xcode 11, Swift 5.1, iOS 13, macOS 10.15 (Catalina), tvOS 13, watchOS 6.","type":"text"},{"text":" ","type":"text"},{"text":"New APIs: ","type":"text"},{"code":"Combine","type":"codeVoice"},{"text":", ","type":"text"},{"code":"Core Haptics","type":"codeVoice"},{"text":", ","type":"text"},{"code":"Create ML","type":"codeVoice"},{"text":", and more.","type":"text"}],"role":"collectionGroup"},"WWDC19-Icon.png":{"variants":[{"url":"\/images\/WWDC19-Icon.png","traits":["1x","light"]}],"alt":null,"identifier":"WWDC19-Icon.png","type":"image"},"zntfdr.jpeg":{"variants":[{"url":"\/images\/zntfdr.jpeg","traits":["1x","light"]}],"alt":null,"identifier":"zntfdr.jpeg","type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-721-Combine-in-Practice":{"role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-721-Combine-in-Practice","url":"\/documentation\/wwdcnotes\/wwdc19-721-combine-in-practice","type":"topic","title":"Combine in Practice","abstract":[{"text":"Expand your knowledge of Combine, Apple’s new unified, declarative framework for processing values over time. Learn about how to correctly handle errors, schedule work and integrate Combine into your app today.","type":"text"}],"kind":"article"},"doc://WWDCNotes/documentation/WWDCNotes":{"title":"WWDC Notes","url":"\/documentation\/wwdcnotes","type":"topic","images":[{"identifier":"WWDCNotes.png","type":"icon"}],"abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"role":"collection","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","kind":"symbol"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"title":"Contributions are welcome!","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","titleInlineContent":[{"text":"Contributions are welcome!","type":"text"}],"type":"link"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-226-Data-Flow-Through-SwiftUI":{"type":"topic","title":"Data Flow Through SwiftUI","url":"\/documentation\/wwdcnotes\/wwdc19-226-data-flow-through-swiftui","role":"sampleCode","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-226-Data-Flow-Through-SwiftUI","abstract":[{"text":"SwiftUI was built from the ground up to let you write beautiful and correct user interfaces free of inconsistencies. Learn how to connect your data as dependencies while keeping the UI fully predictable and error free. Familiarize yourself with SwiftUI’s powerful data flow tools and understand what the best tool is for each situation.","type":"text"}]},"https://github.com/zntfdr":{"title":"GitHub","identifier":"https:\/\/github.com\/zntfdr","url":"https:\/\/github.com\/zntfdr","titleInlineContent":[{"text":"GitHub","type":"text"}],"type":"link"},"https://zntfdr.dev":{"title":"Blog","identifier":"https:\/\/zntfdr.dev","url":"https:\/\/zntfdr.dev","titleInlineContent":[{"text":"Blog","type":"text"}],"type":"link"}}}