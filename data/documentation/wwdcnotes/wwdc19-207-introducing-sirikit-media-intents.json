{"sampleCodeDownload":{"kind":"sampleDownload","action":{"isActive":true,"identifier":"https:\/\/developer.apple.com\/wwdc19\/207","type":"reference","overridingTitle":"Watch Video (28 min)"}},"sections":[],"kind":"article","schemaVersion":{"minor":3,"major":0,"patch":0},"metadata":{"role":"sampleCode","title":"Introducing SiriKit Media Intents","roleHeading":"WWDC19","modules":[{"name":"WWDC Notes"}]},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-207-Introducing-SiriKit-Media-Intents"},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19"]]},"variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc19-207-introducing-sirikit-media-intents"],"traits":[{"interfaceLanguage":"swift"}]}],"abstract":[{"text":"iOS 13 enhances SiriKit by bringing all new support for audio content playback. See how to provide an excellent, hands-free experience for playing your music, audiobooks, podcasts, radio, and more. Dive into best practices for handling search terms, discover how to provide a complete experience with playback speeds, adding to playlists, and allowing customers to tell you if they like or dislike content.","type":"text"}],"primaryContentSections":[{"kind":"content","content":[{"type":"heading","anchor":"Possible-Phrases-For-3rd-Party-Apps","level":2,"text":"Possible Phrases For 3rd Party Apps"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"code":"Tell <MyApp> that I love pop music","type":"codeVoice"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"Play Khalid on <MyApp>"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"I don't like this song"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"Add this to my library","type":"codeVoice"}]}]}]},{"type":"heading","anchor":"Intents","level":2,"text":"Intents"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"code":"INPlayMediaIntent","type":"codeVoice"},{"text":" to allow playing audio","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"INAddMediaIntent","type":"codeVoice"},{"type":"text","text":" to add media items to playlists and libraries"}]}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"INUpdateMediaAffinitiyIntent"},{"type":"text","text":" to express affinity to media items"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"INSearchForMediaIntent"},{"text":" to search for specific media in your app","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Support for playback controls let users say "},{"code":"Play Billie Eilish shuffled in <MyApp>","type":"codeVoice"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Supported audio types: "},{"type":"codeVoice","code":"Music"},{"type":"text","text":", "},{"type":"codeVoice","code":"Podcasts"},{"type":"text","text":", "},{"type":"codeVoice","code":"Audiobooks"},{"type":"text","text":", "},{"type":"codeVoice","code":"Radio"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Even search for unsupported media types possible"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"caveat: search queries will be untyped","type":"text"}]}]}]},{"type":"heading","anchor":"Handling-SiriKit-Media-Requests","level":2,"text":"Handling SiriKit Media Requests"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Handling requests through Siri app extension"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Don’t forget to add the Siri capability to your app"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Request processing involves ","type":"text"},{"type":"codeVoice","code":"Resolve"},{"text":" > ","type":"text"},{"type":"codeVoice","code":"Confirm"},{"text":" > ","type":"text"},{"type":"codeVoice","code":"Handle"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"See "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/videos\/play\/wwdc2019\/207\/?time=610"},{"type":"text","text":" or an extensive example about "},{"type":"codeVoice","code":"Adding intents to your app"},{"type":"text","text":", "},{"type":"codeVoice","code":"Specify supported intents and media types"},{"type":"text","text":", "},{"type":"codeVoice","code":"Implement resolve, handle for INPlayMediaIntent and INAddMediaIntent"}],"type":"paragraph"}]}]},{"type":"heading","anchor":"Best-Practices","level":2,"text":"Best Practices"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"If Siri support already added:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The new API uses existing code for handling background app launch"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"You need to add resolve methods"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"You need to update intents extension with supported media types"}]}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Apple Watch"}]},{"items":[{"content":[{"inlineContent":[{"text":"Foreground app launch via ","type":"text"},{"code":"INPLayMediaIntentResponseCode.continueInApp","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Intent is handled by your "},{"code":"WKExtensionDelegate","type":"codeVoice"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Prefer on-device cache in your resolve method - only use network if absoloutey necessary"}]}]}],"type":"unorderedList"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Process results in resolve method "},{"type":"codeVoice","code":"case insesnitive"},{"type":"text","text":" becaue Siri might give you upper case results"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"Write an effective search method - be flexible"},{"text":" since","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Siri might understand certain media types, e.g. ","type":"text"},{"code":"video","type":"codeVoice"},{"text":" if ","type":"text"},{"code":"video","type":"codeVoice"},{"text":" is part of what the user searches","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Siri might understand "},{"type":"codeVoice","code":"sun"},{"type":"text","text":" or "},{"type":"codeVoice","code":"son"}]}]}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Always populate "},{"type":"codeVoice","code":"title"},{"type":"text","text":", "},{"type":"codeVoice","code":"artist"},{"type":"text","text":" and "},{"type":"codeVoice","code":"type"},{"type":"text","text":"in the returned "},{"type":"codeVoice","code":"INMediaItem"},{"type":"text","text":" since they all influence Siri’s output"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Handle error cases gracefully"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"Most common error is not found: ","type":"text"},{"code":"INPlayMediaMediaItemResolutionResult(InMediaItemResolutionResult.unsupported())","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"List of possible errors in "},{"type":"codeVoice","code":"INPlayMediaMediaItemUnsupportedReason"}],"type":"paragraph"}]}],"type":"unorderedList"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"When you support playback controls in your app also support them in Siri","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"code":"Play <Song> on repeat in <MyApp>","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"code":"Play <Playlist> on shuffle in <MyApp>","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"Resume <Podcast> at double speed in <MyApp>"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"Play <Artist> in <MyApp> next|later","type":"codeVoice"}]}]}]}]},{"content":[{"inlineContent":[{"type":"text","text":"User says "},{"code":"Play <MyApp>","type":"codeVoice"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Don’t ask what to play!"}]}]},{"content":[{"inlineContent":[{"text":"Choose something interesting automatically or resume the queue","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"User vocabulary helps Siri recognize important named entities","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Global vocabulary is appropriate for global app terms"}]}]}]},{"type":"heading","anchor":"Written-By","level":2,"text":"Written By"},{"type":"row","columns":[{"size":1,"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"Blackjacx"}]}]},{"size":4,"content":[{"anchor":"Stefan-Herold","type":"heading","level":3,"text":"Stefan Herold"},{"inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/Blackjacx","overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}],"overridingTitle":"Contributed Notes"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"isActive":true,"type":"reference","identifier":"https:\/\/github.com\/Blackjacx"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"isActive":true,"type":"reference","identifier":"https:\/\/www.stefan-herold.net"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"isActive":true,"type":"reference","identifier":"https:\/\/x.com\/blackjacxxx"}],"type":"paragraph"}]}],"numberOfColumns":5},{"type":"paragraph","inlineContent":[{"type":"text","text":"Missing anything? Corrections? "},{"isActive":true,"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"reference"}]},{"type":"heading","anchor":"Related-Sessions","level":2,"text":"Related Sessions"},{"type":"links","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10060-Design-high-quality-Siri-media-interactions","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10635-Accelerate-your-app-with-CarPlay"],"style":"list"},{"type":"small","inlineContent":[{"inlineContent":[{"text":"Legal Notice","type":"text"}],"type":"strong"}]},{"type":"small","inlineContent":[{"text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved.","type":"text"},{"text":" ","type":"text"},{"text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries.","type":"text"},{"text":" ","type":"text"},{"text":"This website is not made by, affiliated with, nor endorsed by Apple.","type":"text"}]}]}],"references":{"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10635-Accelerate-your-app-with-CarPlay":{"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10635-Accelerate-your-app-with-CarPlay","abstract":[{"text":"CarPlay is the smarter, safer way for people to use iPhone in the car. We’ll show you how to build great apps for the car screen, and introduce you to developing CarPlay apps in categories like EV charging, parking, and quick food ordering. We’ll also share how existing audio and communication apps can take advantage of improvements to the CarPlay framework to create a more flexible UI.","type":"text"}],"url":"\/documentation\/wwdcnotes\/wwdc20-10635-accelerate-your-app-with-carplay","title":"Accelerate your app with CarPlay","kind":"article","role":"sampleCode"},"https://developer.apple.com/wwdc19/207":{"checksum":null,"identifier":"https:\/\/developer.apple.com\/wwdc19\/207","url":"https:\/\/developer.apple.com\/wwdc19\/207","type":"download"},"doc://WWDCNotes/documentation/WWDCNotes/Blackjacx":{"type":"topic","title":"Stefan Herold (28 notes)","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/Blackjacx","url":"\/documentation\/wwdcnotes\/blackjacx","abstract":[{"text":"iOS Engineer a.d. 2009 • iOS \/ OSX Enthusiast • WWDC19 • Past: flinc, Deutsche Telekom, NOLTE&LAUTH • Passionate Mountainbiker","type":"text"}],"images":[{"identifier":"Blackjacx.jpeg","type":"card"},{"identifier":"Blackjacx.jpeg","type":"icon"}],"role":"sampleCode"},"https://developer.apple.com/videos/play/wwdc2019/207/?time=610":{"title":"10:15","titleInlineContent":[{"text":"10:15","type":"text"}],"identifier":"https:\/\/developer.apple.com\/videos\/play\/wwdc2019\/207\/?time=610","url":"https:\/\/developer.apple.com\/videos\/play\/wwdc2019\/207\/?time=610","type":"link"},"Blackjacx":{"identifier":"Blackjacx","type":"image","alt":"Profile image of Stefan Herold","variants":[{"traits":["1x","light"],"url":"\/images\/Blackjacx.jpeg"}]},"https://github.com/Blackjacx":{"title":"GitHub","titleInlineContent":[{"text":"GitHub","type":"text"}],"identifier":"https:\/\/github.com\/Blackjacx","url":"https:\/\/github.com\/Blackjacx","type":"link"},"https://x.com/blackjacxxx":{"title":"X\/Twitter","titleInlineContent":[{"type":"text","text":"X\/Twitter"}],"identifier":"https:\/\/x.com\/blackjacxxx","url":"https:\/\/x.com\/blackjacxxx","type":"link"},"https://www.stefan-herold.net":{"title":"Blog","titleInlineContent":[{"text":"Blog","type":"text"}],"identifier":"https:\/\/www.stefan-herold.net","url":"https:\/\/www.stefan-herold.net","type":"link"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19":{"url":"\/documentation\/wwdcnotes\/wwdc19","role":"collectionGroup","kind":"article","title":"WWDC19","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19","abstract":[{"text":"Xcode 11, Swift 5.1, iOS 13, macOS 10.15 (Catalina), tvOS 13, watchOS 6.","type":"text"},{"text":" ","type":"text"},{"text":"New APIs: ","type":"text"},{"code":"Combine","type":"codeVoice"},{"text":", ","type":"text"},{"code":"Core Haptics","type":"codeVoice"},{"text":", ","type":"text"},{"type":"codeVoice","code":"Create ML"},{"type":"text","text":", and more."}],"images":[{"type":"icon","identifier":"WWDC19-Icon.png"},{"type":"card","identifier":"WWDC19.jpeg"}],"type":"topic"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"title":"Contributions are welcome!","titleInlineContent":[{"type":"text","text":"Contributions are welcome!"}],"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"link"},"Blackjacx.jpeg":{"identifier":"Blackjacx.jpeg","type":"image","alt":null,"variants":[{"url":"\/images\/Blackjacx.jpeg","traits":["1x","light"]}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10060-Design-high-quality-Siri-media-interactions":{"type":"topic","title":"Design high quality Siri media interactions","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10060-Design-high-quality-Siri-media-interactions","kind":"article","role":"sampleCode","abstract":[{"type":"text","text":"Demystify the art of designing Siri experiences for your music and audio apps: We’ll show you how to think about crafting great interactions and how you can provide custom vocabulary so that Siri can respond with more accuracy and personality. We’ll also explain how you can debug common errors and test your intents using the same methods Apple’s own Siri team employs."}],"url":"\/documentation\/wwdcnotes\/wwdc20-10060-design-high-quality-siri-media-interactions"},"WWDC19.jpeg":{"identifier":"WWDC19.jpeg","type":"image","alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC19.jpeg"}]},"WWDCNotes.png":{"identifier":"WWDCNotes.png","type":"image","alt":null,"variants":[{"url":"\/images\/WWDCNotes.png","traits":["1x","light"]}]},"doc://WWDCNotes/documentation/WWDCNotes":{"images":[{"type":"icon","identifier":"WWDCNotes.png"}],"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","title":"WWDC Notes","kind":"symbol","abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"url":"\/documentation\/wwdcnotes","role":"collection"},"WWDC19-Icon.png":{"identifier":"WWDC19-Icon.png","type":"image","alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC19-Icon.png"}]}}}