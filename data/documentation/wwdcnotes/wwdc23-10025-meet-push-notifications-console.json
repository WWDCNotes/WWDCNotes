{"sampleCodeDownload":{"action":{"type":"reference","overridingTitle":"Watch Video (11 min)","identifier":"https:\/\/developer.apple.com\/wwdc23\/10025","isActive":true},"kind":"sampleDownload"},"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10025-Meet-Push-Notifications-Console","interfaceLanguage":"swift"},"sections":[],"kind":"article","abstract":[{"type":"text","text":"The Push Notifications Console is the best way to quickly test user notifications in your app. Learn how you can iterate on new ideas quickly by sending notifications directly from the console and analyze delivery logs to learn more about your pushes. We’ll also show you how to generate and validate tokens to successfully authenticate with Apple Push Notification service (APNs)."}],"schemaVersion":{"minor":3,"patch":0,"major":0},"metadata":{"title":"Meet Push Notifications Console","role":"sampleCode","modules":[{"name":"WWDC Notes"}],"roleHeading":"WWDC23"},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23"]]},"variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc23-10025-meet-push-notifications-console"],"traits":[{"interfaceLanguage":"swift"}]}],"primaryContentSections":[{"content":[{"level":2,"type":"heading","text":"Overview","anchor":"overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The Push Notifications Console, a web-based tool with a variety of instruments for interacting with Apple Push Notification service (APNs), allows you to"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"send notifications","type":"text"}]},{"type":"text","text":" from the console to your device through APNS."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"inspect delivery logs","type":"text"}]},{"type":"text","text":" to analyze why a message was not received."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"validate and\/or generate JWT"}],"type":"strong"},{"type":"text","text":" when using token-based authentication"}]}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"text":"validate device tokens","type":"text"}]}],"type":"paragraph"}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Access to the tool: https:\/\/icloud.developer.apple.com\/dashboard\/notifications"}]},{"level":2,"type":"heading","text":"Send Notifications","anchor":"Send-Notifications"},{"type":"paragraph","inlineContent":[{"text":"The Console allows you to test many types of notifications and different attributes. You can","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"specify the environment"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"try different push types"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"set the exact expiration"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"try different priorities"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"and send "},{"type":"strong","inlineContent":[{"text":"any type of payload","type":"text"}]},{"type":"text","text":"."}]}]}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC23-10025-consolesendnotification"}]},{"level":2,"type":"heading","text":"Delivery Log","anchor":"Delivery-Log"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Analyze why a notification was not received"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"As a notification travels through the APNs stack the events that reflect its delivery process are recorded. And now you can retrieve that information, using the header "},{"code":"apns-unique-id","type":"codeVoice"},{"type":"text","text":" that APNs returns when the notification is sent."}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC23-10025-uniqueid"}]},{"type":"paragraph","inlineContent":[{"text":"For example, you can identify a push notification was not yet delivered because the device has enabled Low Power mode.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"Or notification can go to APNs storage if the device is offline or can be discarded if the app was removed from the device.","type":"text"}]},{"type":"paragraph","inlineContent":[{"identifier":"WWDC23-10025-deliverylog","type":"image"}]},{"level":2,"type":"heading","text":"Generate JWT","anchor":"Generate-JWT"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Token-based authentication uses JSON Web Tokens for secure and efficient authentication between your provider server and APNs. It requires generating a token signed with a private key associated with your Apple Developer account. Private keys don’t expire like certificates. As part of Push Notifications Console, there’s now a tool that can generate an authentication token for you."}]},{"type":"paragraph","inlineContent":[{"identifier":"WWDC23-10025-jwtgenerator","type":"image"}]},{"type":"paragraph","inlineContent":[{"text":"You can then use it to authenticate your requests against APNs. Keep in mind that the validity period of these tokens can not exceed one hour, so they need to be rotated periodically.","type":"text"}]},{"level":2,"type":"heading","text":"Validate JWT","anchor":"Validate-JWT"},{"type":"paragraph","inlineContent":[{"text":"If you already have a token, but think it might not be working, you can validate the token.","type":"text"}]},{"type":"paragraph","inlineContent":[{"identifier":"WWDC23-10025-jwtvalidation","type":"image"}]},{"type":"paragraph","inlineContent":[{"text":"In the example above the validation result is telling me that the “issued at” claim is too old, which effectively means that the token has expired.","type":"text"}]},{"level":2,"type":"heading","text":"Validate Device Token","anchor":"Validate-Device-Token"},{"type":"paragraph","inlineContent":[{"text":"Device tokens are used to specify the recipient when you send a notification. They are tied to a concrete environment and push type.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"When you enter a token, you will get a response that will tell you which environment and push type the token is valid for, if any.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC23-10025-devicetokenvalidation"}]},{"level":2,"type":"heading","text":"Written By","anchor":"Written-By"},{"type":"row","numberOfColumns":5,"columns":[{"content":[{"inlineContent":[{"type":"image","identifier":"MarcoEidinger"}],"type":"paragraph"}],"size":1},{"content":[{"anchor":"Marco-Eidinger","level":3,"text":"Marco Eidinger","type":"heading"},{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/MarcoEidinger","isActive":true,"overridingTitle":"Contributed Notes","type":"reference","overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}]},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/github.com\/MarcoEidinger","isActive":true,"type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/x.com\/MarcoEidinger","isActive":true,"type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/eidinger.info","isActive":true,"type":"reference"}]}],"size":4}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Missing anything? Corrections? "},{"isActive":true,"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"reference"}]},{"level":2,"type":"heading","text":"Related Sessions","anchor":"Related-Sessions"},{"type":"links","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10095-The-Push-Notifications-primer"],"style":"list"},{"type":"small","inlineContent":[{"inlineContent":[{"text":"Legal Notice","type":"text"}],"type":"strong"}]},{"type":"small","inlineContent":[{"text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved.","type":"text"},{"text":" ","type":"text"},{"text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries.","type":"text"},{"text":" ","type":"text"},{"text":"This website is not made by, affiliated with, nor endorsed by Apple.","type":"text"}]}],"kind":"content"}],"references":{"MarcoEidinger.jpeg":{"identifier":"MarcoEidinger.jpeg","type":"image","variants":[{"url":"\/images\/MarcoEidinger.jpeg","traits":["1x","light"]}],"alt":null},"WWDC23-10025-jwtgenerator":{"identifier":"WWDC23-10025-jwtgenerator","type":"image","variants":[{"url":"\/images\/WWDC23-10025-jwtgenerator.png","traits":["1x","light"]}],"alt":"Generate JWT"},"WWDC23.jpeg":{"identifier":"WWDC23.jpeg","type":"image","variants":[{"url":"\/images\/WWDC23.jpeg","traits":["1x","light"]}],"alt":null},"WWDC23-10025-devicetokenvalidation":{"identifier":"WWDC23-10025-devicetokenvalidation","type":"image","variants":[{"url":"\/images\/WWDC23-10025-devicetokenvalidation.png","traits":["1x","light"]}],"alt":"Validate Device Token"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"title":"Contributions are welcome!","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","titleInlineContent":[{"type":"text","text":"Contributions are welcome!"}],"type":"link","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23":{"images":[{"identifier":"WWDC23-Icon.png","type":"icon"},{"identifier":"WWDC23.jpeg","type":"card"}],"kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23","role":"collectionGroup","url":"\/documentation\/wwdcnotes\/wwdc23","type":"topic","abstract":[{"type":"text","text":"Xcode 15, Swift 5.9, iOS 17, macOS 14 (Sonoma), tvOS 17, visionOS 1, watchOS 10."},{"type":"text","text":" "},{"type":"text","text":"New APIs: "},{"type":"codeVoice","code":"SwiftData"},{"type":"text","text":", "},{"type":"codeVoice","code":"Observation"},{"type":"text","text":", "},{"type":"codeVoice","code":"StoreKit"},{"type":"text","text":" views, and more."}],"title":"WWDC23"},"https://x.com/MarcoEidinger":{"title":"X\/Twitter","identifier":"https:\/\/x.com\/MarcoEidinger","titleInlineContent":[{"type":"text","text":"X\/Twitter"}],"type":"link","url":"https:\/\/x.com\/MarcoEidinger"},"doc://WWDCNotes/documentation/WWDCNotes":{"kind":"symbol","url":"\/documentation\/wwdcnotes","abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"title":"WWDC Notes","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","role":"collection","images":[{"identifier":"WWDCNotes.png","type":"icon"}]},"https://github.com/MarcoEidinger":{"title":"GitHub","identifier":"https:\/\/github.com\/MarcoEidinger","titleInlineContent":[{"type":"text","text":"GitHub"}],"type":"link","url":"https:\/\/github.com\/MarcoEidinger"},"WWDCNotes.png":{"identifier":"WWDCNotes.png","type":"image","variants":[{"url":"\/images\/WWDCNotes.png","traits":["1x","light"]}],"alt":null},"WWDC23-Icon.png":{"identifier":"WWDC23-Icon.png","type":"image","variants":[{"url":"\/images\/WWDC23-Icon.png","traits":["1x","light"]}],"alt":null},"https://developer.apple.com/wwdc23/10025":{"checksum":null,"identifier":"https:\/\/developer.apple.com\/wwdc23\/10025","type":"download","url":"https:\/\/developer.apple.com\/wwdc23\/10025"},"doc://WWDCNotes/documentation/WWDCNotes/MarcoEidinger":{"images":[{"type":"card","identifier":"MarcoEidinger.jpeg"},{"type":"icon","identifier":"MarcoEidinger.jpeg"}],"title":"Marco Eidinger (4 notes)","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/MarcoEidinger","role":"sampleCode","kind":"article","url":"\/documentation\/wwdcnotes\/marcoeidinger","abstract":[{"text":"Software engineer working on open source and enterprise mobile SDKs for iOS and macOS developers written in Swift","type":"text"}],"type":"topic"},"MarcoEidinger":{"identifier":"MarcoEidinger","type":"image","variants":[{"url":"\/images\/MarcoEidinger.jpeg","traits":["1x","light"]}],"alt":"Profile image of Marco Eidinger"},"WWDC23-10025-deliverylog":{"identifier":"WWDC23-10025-deliverylog","type":"image","variants":[{"url":"\/images\/WWDC23-10025-deliverylog.png","traits":["1x","light"]}],"alt":"Delivery Log"},"WWDC23-10025-uniqueid":{"identifier":"WWDC23-10025-uniqueid","type":"image","variants":[{"url":"\/images\/WWDC23-10025-uniqueid.png","traits":["1x","light"]}],"alt":"apns-unique-id"},"WWDC23-10025-consolesendnotification":{"identifier":"WWDC23-10025-consolesendnotification","type":"image","variants":[{"url":"\/images\/WWDC23-10025-consolesendnotification.png","traits":["1x","light"]}],"alt":"Send Notification"},"WWDC23-10025-jwtvalidation":{"identifier":"WWDC23-10025-jwtvalidation","type":"image","variants":[{"url":"\/images\/WWDC23-10025-jwtvalidation.png","traits":["1x","light"]}],"alt":"Validate JWT"},"https://eidinger.info":{"title":"Blog","identifier":"https:\/\/eidinger.info","titleInlineContent":[{"type":"text","text":"Blog"}],"type":"link","url":"https:\/\/eidinger.info"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10095-The-Push-Notifications-primer":{"type":"topic","role":"sampleCode","title":"The Push Notifications primer","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10095-The-Push-Notifications-primer","url":"\/documentation\/wwdcnotes\/wwdc20-10095-the-push-notifications-primer","abstract":[{"text":"Help people get the most out of your app with push notifications for important events and updates — and by delivering up-to-date data in the background, so that it is ready when they open your app. Discover how you can use notifications and alert people to timely and relevant information. Learn the differences between alert and background notifications, how to adopt them in your apps, and avoid mistakes by using the right APIs for the job.","type":"text"}]}}}