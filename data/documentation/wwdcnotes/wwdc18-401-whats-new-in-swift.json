{"metadata":{"role":"sampleCode","roleHeading":"WWDC18","modules":[{"name":"WWDC Notes"}],"title":"What‚Äôs New in Swift"},"sampleCodeDownload":{"action":{"identifier":"https:\/\/developer.apple.com\/wwdc18\/401","overridingTitle":"Watch Video (37 min)","isActive":true,"type":"reference"},"kind":"sampleDownload"},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-401-Whats-New-in-Swift"},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc18-401-whats-new-in-swift"]}],"schemaVersion":{"patch":0,"minor":3,"major":0},"kind":"article","abstract":[{"text":"Hear about the latest advancements in Swift, the safe, fast, and expressive language. Find out about improvements to build times, code size, and runtime performance. Learn how to take advantage of new features in your code that eliminate boilerplate, increase safety and security, and improve your overall development productivity.","type":"text"}],"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18"]]},"primaryContentSections":[{"content":[{"text":"Overview","anchor":"overview","type":"heading","level":2},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Faster builds","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Better performances for Swift tools"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Swift 5 is gonna be released in early 2019 (with ABI stability):"}]},{"items":[{"content":[{"inlineContent":[{"text":"Apps won‚Äôt need to be shipped with Swift embedded in the bundle because they can just use the iOS Swift runtime (after Swift 5 and a new iOS update is released)","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"This is a win for every app in memory usage and start up time","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"}]},{"content":[{"inlineContent":[{"type":"text","text":"With Xcode 10 we have two optimizations options:"},{"type":"text","text":" "},{"identifier":"WWDC18-401-compilation","type":"image"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Compilation Mode: this is how your project builds:","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Whole Module: all the files in your target are always built together, this enables maximum opportunity for optimization (slow build but get best performance at run time)","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Incremental: not all the files are always built all together (faster build but slower run time performance)","type":"text"}]}]}]}]}],"type":"unorderedList"}]},{"content":[{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"‚ö†Ô∏èIn debug mode you should use Incremental otherwise everytime you touch a file every single file in the whole project gets rebuilt ‚ö†Ô∏è"}]}]},{"content":[{"inlineContent":[{"text":"Optimization Level: this is where you choose which optimization you‚Äôd like to have:","type":"text"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"No optimization"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Optimize for Speed: Faster code, bigger code output"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Optimize for Size: Code size is reduced by 10\/30%, performance is 5% slower"}]}]}]}]}],"type":"unorderedList"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"(Swift‚Äôs) ARC improvements (which results in faster code runtime)","type":"text"}]}]}]},{"anchor":"New-in-Swift-42","type":"heading","level":2,"text":"New in Swift 4.2:"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Enums can conform to the new protocol ","type":"text"},{"code":"CaseIterable","type":"codeVoice"},{"text":" to gain a new property ","type":"text"},{"code":".allCases","type":"codeVoice"},{"text":" (which returns an array of all the possible cases)","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Conditional Conformance: if you try to compare two collections (say two arrays, even with Optionals, Dictionaries) of elements that are comparable (aka Equatable), then the two arrays are automatically comparable as well. E.g.:"}],"type":"paragraph"}]}]},{"type":"codeListing","code":["let coins = [[1, 2], [3, 6], [4, 12]]","coins.contains([3, 6]) \/\/ This now works!"],"syntax":"swift"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"The same works for ","type":"text"},{"type":"codeVoice","code":"Codable"},{"text":", ","type":"text"},{"type":"codeVoice","code":"Hashable"},{"text":" and ","type":"text"},{"type":"codeVoice","code":"Decodable"},{"type":"text","text":" conformances"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"(Swift 4.1 actually) Synthesized "},{"code":"Equatable","type":"codeVoice"},{"type":"text","text":" and "},{"code":"Hashable","type":"codeVoice"},{"type":"text","text":" Conformance: A struct\/class is automatically Equatable\/Hashable if all its properties also are. This is super powerful because it works with generics as well! This:"}]}]}]},{"type":"codeListing","code":["enum Either<Left, Right> { ","  case left(Left)","  case right(Right) ","}","","extension Either: Equatable where Left: Equatable, Right: Equatable {","  static func ==(a: Either<Left, Right>, b: Either<Left, Right>) { ","    switch (a, b) { ","      case (.left (let x), .left (let y)): return X == y ","      case (.right (let x), .right(let y)): return x == y","      default: return false","    }","  }","} "],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"Is now this:","type":"text"}]},{"type":"codeListing","code":["enum Either<Left, Right> { ","  case left(Left)","  case right(Right) ","}","","extension Either: Equatable where Left: Equatable, Right: Equatable { }","extension Either: Hashable where Left: Hashable, Right: Hashable { }"],"syntax":"swift"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Hashable Improvements: The "},{"type":"codeVoice","code":"Hashable"},{"text":" protocol doesn‚Äôt require a hash ","type":"text"},{"type":"codeVoice","code":"Int"},{"text":" property anymore but:","type":"text"}]}]}]},{"type":"codeListing","code":["protocol Hashable {","  func hash(into hasher: inout Hasher)","}"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can feed the Hasher with multiple values to hash together and the Hasher will take care of creating the hash for you. This is how you now conform to "},{"type":"codeVoice","code":"Hashable"},{"type":"text","text":":"}]},{"type":"codeListing","code":["extension City: Hashable {","  func hash(into hasher: inout Hasher) {","    name.hash(into: &hasher)","    state.hash(into: &hasher)","  }","}"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"‚ö†Ô∏èHash values will change every time you run the app."}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Generating Random Numbers:","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"All numeric types have a static random function: the new method, which takes a range as a parameter, returns a random number within that range."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Bool also get a "},{"type":"codeVoice","code":".random()"}]}]},{"content":[{"inlineContent":[{"text":"Collections get a ","type":"text"},{"code":".randomElement()","type":"codeVoice"},{"text":" method, which returns a ","type":"text"},{"code":"Element?","type":"codeVoice"},{"text":" (optional because if the collection is empty this method returns ","type":"text"},{"code":"nil","type":"codeVoice"},{"text":")","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Arrays get a "},{"code":".shuffled()","type":"codeVoice"},{"type":"text","text":" method that returns the same array with elements put in a random order üòç"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"All the methods above have an optional random number generator parameter input that you can use if you want to use your own random number generator instead of the default Swift one."}],"type":"paragraph"}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Instead of using:"}]}]}]},{"type":"codeListing","code":["#if os(iOS) || os(watchOS) || os(tvOS)","  import UIKit","  ...","#else","  import AppKit","  ...","#endif"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can now use:"}]},{"type":"codeListing","code":["#if canImport(UIKit)","  import UIKit","  ...","#elseif canImport(AppKit)","  import AppKit","  ...","#else","  #error(\"Unsupported platform\")","#endif"],"syntax":"swift"},{"type":"aside","style":"note","name":"Note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"note the "},{"code":"canImport","type":"codeVoice"},{"type":"text","text":" macro and the new build error "},{"code":"#error","type":"codeVoice"},{"type":"text","text":"."}]}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"No more FIXME\/TODOs in Swift, use #warning instead:","type":"text"}],"type":"paragraph"}]}]},{"type":"codeListing","code":["#warning(\"We need to test this better\")"],"syntax":"swift"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"This session completely ignores ","type":"text"},{"code":"@dynamicMemberLookup","type":"codeVoice"},{"text":".","type":"text"}]}]}]},{"anchor":"Written-By","type":"heading","level":2,"text":"Written By"},{"type":"row","columns":[{"size":1,"content":[{"inlineContent":[{"identifier":"zntfdr","type":"image"}],"type":"paragraph"}]},{"size":4,"content":[{"type":"heading","text":"Federico Zanetello","level":3,"anchor":"Federico-Zanetello"},{"type":"paragraph","inlineContent":[{"overridingTitle":"Contributed Notes","isActive":true,"type":"reference","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","overridingTitleInlineContent":[{"text":"Contributed Notes","type":"text"}]},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"isActive":true,"type":"reference","identifier":"https:\/\/github.com\/zntfdr"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"isActive":true,"type":"reference","identifier":"https:\/\/zntfdr.dev"}]}]}],"numberOfColumns":5},{"type":"paragraph","inlineContent":[{"text":"Missing anything? Corrections? ","type":"text"},{"type":"reference","isActive":true,"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"}]},{"anchor":"Related-Sessions","type":"heading","level":2,"text":"Related Sessions"},{"type":"links","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-406-Swift-Generics-Expanded","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-408-Building-Faster-in-Xcode","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-411-Getting-to-Know-Swift-Package-Manager","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-415-Behind-the-Scenes-of-the-Xcode-Build-Process"],"style":"list"},{"type":"small","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Legal Notice"}]}]},{"type":"small","inlineContent":[{"text":"All content copyright ¬© 2012 ‚Äì 2024 Apple Inc. All rights reserved.","type":"text"},{"text":" ","type":"text"},{"text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries.","type":"text"},{"text":" ","type":"text"},{"text":"This website is not made by, affiliated with, nor endorsed by Apple.","type":"text"}]}],"kind":"content"}],"sections":[],"references":{"zntfdr.jpeg":{"alt":null,"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/zntfdr.jpeg"}],"identifier":"zntfdr.jpeg"},"https://github.com/zntfdr":{"url":"https:\/\/github.com\/zntfdr","type":"link","title":"GitHub","identifier":"https:\/\/github.com\/zntfdr","titleInlineContent":[{"text":"GitHub","type":"text"}]},"doc://WWDCNotes/documentation/WWDCNotes":{"title":"WWDC Notes","kind":"symbol","images":[{"identifier":"WWDCNotes.png","type":"icon"}],"type":"topic","role":"collection","abstract":[{"text":"Session notes shared by the community for the community.","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","url":"\/documentation\/wwdcnotes"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC18-408-Building-Faster-in-Xcode":{"title":"Building Faster in Xcode","type":"topic","role":"sampleCode","kind":"article","abstract":[{"text":"Build your apps faster in Xcode 10. Learn how to structure your projects and tweak your code to take full advantage of all processor cores. Whether you‚Äôve made a few small code changes you want to give a try, or you‚Äôre building your full app for release, these techniques will cut the time it takes to build a running app.","type":"text"}],"url":"\/documentation\/wwdcnotes\/wwdc18-408-building-faster-in-xcode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-408-Building-Faster-in-Xcode"},"doc://WWDCNotes/documentation/WWDCNotes/zntfdr":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","role":"sampleCode","images":[{"type":"card","identifier":"zntfdr.jpeg"},{"type":"icon","identifier":"zntfdr.jpeg"}],"kind":"article","type":"topic","abstract":[{"type":"text","text":"Software engineer with a strong passion for well-written code, thought-out composable architectures, automation, tests, and more."}],"url":"\/documentation\/wwdcnotes\/zntfdr","title":"Federico Zanetello (332 notes)"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"link","title":"Contributions are welcome!","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","titleInlineContent":[{"text":"Contributions are welcome!","type":"text"}]},"WWDC18-Icon.png":{"alt":null,"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC18-Icon.png"}],"identifier":"WWDC18-Icon.png"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC18-411-Getting-to-Know-Swift-Package-Manager":{"title":"Getting to Know Swift Package Manager","type":"topic","role":"sampleCode","kind":"article","abstract":[{"text":"The Swift Package Manager makes it possible to easily develop and distribute source code in the Swift ecosystem. Learn about its goals, design, unique features, and the opportunities it has for continued evolution.","type":"text"}],"url":"\/documentation\/wwdcnotes\/wwdc18-411-getting-to-know-swift-package-manager","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-411-Getting-to-Know-Swift-Package-Manager"},"WWDC18.jpeg":{"alt":null,"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC18.jpeg"}],"identifier":"WWDC18.jpeg"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC18-415-Behind-the-Scenes-of-the-Xcode-Build-Process":{"title":"Behind the Scenes of the Xcode Build Process","type":"topic","role":"sampleCode","kind":"article","abstract":[{"text":"Ever wonder what happens when you build your project in Xcode? Learn how Xcode automates the steps required to build an application, and go behind the scenes to learn how clang, swiftc, and the linker work together to turn your source code into a working program.","type":"text"}],"url":"\/documentation\/wwdcnotes\/wwdc18-415-behind-the-scenes-of-the-xcode-build-process","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-415-Behind-the-Scenes-of-the-Xcode-Build-Process"},"WWDCNotes.png":{"alt":null,"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes.png"}],"identifier":"WWDCNotes.png"},"zntfdr":{"alt":"Profile image of Federico Zanetello","type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/zntfdr.jpeg"}],"identifier":"zntfdr"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC18-406-Swift-Generics-Expanded":{"title":"Swift Generics (Expanded)","type":"topic","role":"sampleCode","kind":"article","abstract":[{"text":"Generics are one of the most powerful features of Swift, enabling you to write flexible, reusable components while maintaining static type information. Learn about the design of Swift‚Äôs generics, including how to generalize protocols, leverage protocol inheritance to express the varying capabilities of related types, build composable generic components with conditional conformances, and reason about the interaction between class inheritance and generics. This expanded version of the WWDC 2018 session includes a brand-new discussion of recursive constraints.","type":"text"}],"url":"\/documentation\/wwdcnotes\/wwdc18-406-swift-generics-expanded","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-406-Swift-Generics-Expanded"},"https://developer.apple.com/wwdc18/401":{"url":"https:\/\/developer.apple.com\/wwdc18\/401","type":"download","checksum":null,"identifier":"https:\/\/developer.apple.com\/wwdc18\/401"},"WWDC18-401-compilation":{"alt":null,"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC18-401-compilation.png"}],"identifier":"WWDC18-401-compilation"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC18":{"title":"WWDC18","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18","images":[{"type":"icon","identifier":"WWDC18-Icon.png"},{"type":"card","identifier":"WWDC18.jpeg"}],"url":"\/documentation\/wwdcnotes\/wwdc18","kind":"article","type":"topic","abstract":[{"type":"text","text":"Xcode 10, Swift 4.2, iOS 12, macOS 10.14 (Mojave), tvOS 12, watchOS 5."}],"role":"collectionGroup"},"https://zntfdr.dev":{"url":"https:\/\/zntfdr.dev","type":"link","title":"Blog","identifier":"https:\/\/zntfdr.dev","titleInlineContent":[{"text":"Blog","type":"text"}]}}}