{"sections":[],"kind":"article","abstract":[{"text":"MusicKit makes it easy to integrate Apple Music into your app. Explore the Swift-based framework: We’ll take you through the basic process of using MusicKit — including how to find, request, and play content — and show you how you can incorporate music subscription workflows into your app if someone hasn’t yet signed up to Apple Music.","type":"text"}],"metadata":{"title":"Meet MusicKit for Swift","role":"sampleCode","modules":[{"name":"WWDC Notes"}],"roleHeading":"WWDC21"},"primaryContentSections":[{"content":[{"type":"heading","text":"Overview","anchor":"overview","level":2},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"MusicKit allows access to Apple Music API to search for content"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"It also allows for playback in third party apps (user needs to be subscribed)"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Music items: ","type":"text"},{"type":"codeVoice","code":"Album"},{"text":" with attributes, relationships and associations","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Use ","type":"text"},{"code":"album.with([.artists, .tracks, .relationAlbums])","type":"codeVoice"},{"text":" for fetching relationships","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"All calls are using Swift concurrency, so ","type":"text"},{"type":"codeVoice","code":"try await"},{"text":" needed on call site","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Playback integrates with system, so media controls in lock screen work for example"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Requests done via ","type":"text"},{"code":"MusicCatalogResourceRequest<Album>(matching:equalTo:)","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Then just call ","type":"text"},{"code":"try await request.response()","type":"codeVoice"},{"text":" on the request object","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Contributor comment: "},{"type":"emphasis","inlineContent":[{"type":"text","text":"The networking structure here is interesting, maybe a new platform best practice!?"}]}]}]},{"content":[{"inlineContent":[{"type":"text","text":"User consent is needed to access music listening history & music library (separately)"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Access is given once per device & per app, dialog has “yes” \/ “no” options","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"As always, a usage description must be provided in "},{"type":"codeVoice","code":"Info.plist"},{"type":"text","text":" file"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Use "},{"type":"codeVoice","code":"MusicAuthorization.request()"},{"type":"text","text":" (async method) to get access in "},{"type":"codeVoice","code":"MusicKit"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"API token for Apple Music API is automated by Xcode, just check the box in Connect"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"3 information to check regarding subscription capabilities:"}]},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"can play catalog content, has cloud library enabled & can become subscriber"}],"type":"paragraph"}]}],"type":"unorderedList"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"MusicSubscription.subscriptionUpdates"},{"text":" informs app when user subscribes","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Two players available, "},{"code":"SystemMusicPlayer","type":"codeVoice"},{"type":"text","text":" integrates with system more, "},{"code":"ApplicationMusicPlayer","type":"codeVoice"},{"type":"text","text":" allows for more customization for the app like playback queue"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Apple Music free trial can be started right within third party apps via system sheet"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"New Affiliate program to get bonus if users subscribe via 3rd party app"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Class supports album customization, named ","type":"text"},{"code":"MusicSubscriptionOffer","type":"codeVoice"},{"text":" (","type":"text"},{"code":".Options","type":"codeVoice"},{"text":")","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Possible use cases: background music in games, music during workouts, social media","type":"text"}],"type":"paragraph"}]}]},{"type":"heading","text":"Written By","anchor":"Written-By","level":2},{"type":"row","numberOfColumns":5,"columns":[{"size":1,"content":[{"inlineContent":[{"identifier":"Jeehut","type":"image"}],"type":"paragraph"}]},{"size":4,"content":[{"level":3,"text":"Cihat Gündüz","type":"heading","anchor":"Cihat-G%C3%BCnd%C3%BCz"},{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","overridingTitle":"Contributed Notes","overridingTitleInlineContent":[{"text":"Contributed Notes","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/Jeehut"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/github.com\/Jeehut"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/fline.dev"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/x.com\/Jeehut"}]}]}]},{"type":"thematicBreak"},{"type":"paragraph","inlineContent":[{"text":"Missing anything? Corrections? ","type":"text"},{"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"reference","isActive":true}]},{"type":"heading","text":"Related Sessions","anchor":"Related-Sessions","level":2},{"type":"links","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110347-Explore-more-content-with-MusicKit","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10019-Discover-concurrency-in-SwiftUI","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10044-Explore-ShazamKit","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10291-Explore-the-catalog-with-the-Apple-Music-API"],"style":"list"},{"type":"small","inlineContent":[{"inlineContent":[{"type":"text","text":"Legal Notice"}],"type":"strong"}]},{"type":"small","inlineContent":[{"text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved.","type":"text"},{"text":" ","type":"text"},{"text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries.","type":"text"},{"text":" ","type":"text"},{"text":"This website is not made by, affiliated with, nor endorsed by Apple.","type":"text"}]}],"kind":"content"}],"sampleCodeDownload":{"kind":"sampleDownload","action":{"type":"reference","identifier":"https:\/\/developer.apple.com\/wwdc21\/10294","isActive":true,"overridingTitle":"Watch Video (17 min)"}},"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10294-Meet-MusicKit-for-Swift","interfaceLanguage":"swift"},"schemaVersion":{"major":0,"patch":0,"minor":3},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc21-10294-meet-musickit-for-swift"]}],"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21"]]},"references":{"WWDCNotes.png":{"type":"image","identifier":"WWDCNotes.png","variants":[{"url":"\/images\/WWDCNotes\/WWDCNotes.png","traits":["1x","light"]}],"alt":null},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21":{"title":"WWDC21","type":"topic","role":"collectionGroup","abstract":[{"type":"text","text":"Xcode 13, Swift 5.5, iOS 15, macOS 12 (Monterey), tvOS 15, watchOS 8."},{"type":"text","text":" "},{"type":"text","text":"New APIs: "},{"code":"MusicKit","type":"codeVoice"},{"type":"text","text":", "},{"code":"DocC","type":"codeVoice"},{"text":", ","type":"text"},{"type":"codeVoice","code":"StoreKit 2"},{"text":", and more.","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21","kind":"article","images":[{"type":"icon","identifier":"WWDC21-Icon.png"},{"type":"card","identifier":"WWDC21.jpeg"}],"url":"\/documentation\/wwdcnotes\/wwdc21"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","titleInlineContent":[{"type":"text","text":"Contributions are welcome!"}],"title":"Contributions are welcome!","type":"link"},"https://developer.apple.com/wwdc21/10294":{"type":"download","identifier":"https:\/\/developer.apple.com\/wwdc21\/10294","checksum":null,"url":"https:\/\/developer.apple.com\/wwdc21\/10294"},"https://github.com/Jeehut":{"type":"link","identifier":"https:\/\/github.com\/Jeehut","title":"GitHub","titleInlineContent":[{"type":"text","text":"GitHub"}],"url":"https:\/\/github.com\/Jeehut"},"WWDC21-Icon.png":{"type":"image","identifier":"WWDC21-Icon.png","variants":[{"url":"\/images\/WWDCNotes\/WWDC21-Icon.png","traits":["1x","light"]}],"alt":null},"https://x.com/Jeehut":{"identifier":"https:\/\/x.com\/Jeehut","url":"https:\/\/x.com\/Jeehut","titleInlineContent":[{"type":"text","text":"X\/Twitter"}],"title":"X\/Twitter","type":"link"},"https://fline.dev":{"type":"link","identifier":"https:\/\/fline.dev","title":"Blog","titleInlineContent":[{"type":"text","text":"Blog"}],"url":"https:\/\/fline.dev"},"Jeehut":{"type":"image","identifier":"Jeehut","variants":[{"url":"\/images\/WWDCNotes\/Jeehut.jpeg","traits":["1x","light"]}],"alt":"Profile image of Cihat Gündüz"},"doc://WWDCNotes/documentation/WWDCNotes":{"role":"collection","images":[{"identifier":"WWDCNotes.png","type":"icon"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","title":"WWDC Notes","type":"topic","kind":"symbol","url":"\/documentation\/wwdcnotes","abstract":[{"type":"text","text":"Session notes shared by the community for the community."}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10291-Explore-the-catalog-with-the-Apple-Music-API":{"role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc21-10291-explore-the-catalog-with-the-apple-music-api","title":"Explore the catalog with the Apple Music API","type":"topic","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10291-Explore-the-catalog-with-the-Apple-Music-API","abstract":[{"type":"text","text":"Discover how you can use the Apple Music API to fetch music catalog metadata for your app. Explore the latest updates to the API as well as some advanced techniques for shaping your requests and highlighting the right metadata for a project."}]},"WWDC21.jpeg":{"type":"image","identifier":"WWDC21.jpeg","variants":[{"url":"\/images\/WWDCNotes\/WWDC21.jpeg","traits":["1x","light"]}],"alt":null},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10044-Explore-ShazamKit":{"url":"\/documentation\/wwdcnotes\/wwdc21-10044-explore-shazamkit","kind":"article","abstract":[{"type":"text","text":"Take advantage of Shazam’s exact audio matching capabilities within your app when you use ShazamKit. Learn how you can harness the immense Shazam catalog to create all sorts of experiences, including quickly recognizing the exact song playing in the background of a video captured by your app, offering dynamic visual effects based on the music playing in a room, or even syncing with external audio to provide companion app experiences. We’ll also show you how you can build custom catalogs within ShazamKit to match with any audio source — all on device."}],"role":"sampleCode","title":"Explore ShazamKit","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10044-Explore-ShazamKit","type":"topic"},"doc://WWDCNotes/documentation/WWDCNotes/Jeehut":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/Jeehut","abstract":[{"text":"Spatial-first Indie Developer for  Platforms. Actively contributing to Open Source since 2011!","type":"text"}],"kind":"article","title":"Cihat Gündüz (61 notes)","url":"\/documentation\/wwdcnotes\/jeehut","images":[{"identifier":"Jeehut.jpeg","type":"card"},{"identifier":"Jeehut.jpeg","type":"icon"}],"type":"topic","role":"sampleCode"},"Jeehut.jpeg":{"type":"image","identifier":"Jeehut.jpeg","variants":[{"url":"\/images\/WWDCNotes\/Jeehut.jpeg","traits":["1x","light"]}],"alt":null},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-110347-Explore-more-content-with-MusicKit":{"role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc22-110347-explore-more-content-with-musickit","title":"Explore more content with MusicKit","type":"topic","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110347-Explore-more-content-with-MusicKit","abstract":[{"type":"text","text":"Discover how you can enhance and personalize your app using MusicKit. We’ll take you through the latest additions to the MusicKit framework and explore how you can bring music content to your app through requests, metadata, and more."}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10019-Discover-concurrency-in-SwiftUI":{"url":"\/documentation\/wwdcnotes\/wwdc21-10019-discover-concurrency-in-swiftui","kind":"article","abstract":[{"text":"Discover how you can use Swift’s concurrency features to build even better SwiftUI apps. We’ll show you how concurrent workflows interact with your ObservableObjects, and explore how you can use them directly in your SwiftUI views and models. Find out how to use await to make your app run smoothly on the SwiftUI runloop, and learn how to fetch remote images quickly with the AsyncImage API. And we’ll take you through the process of enabling additional asynchronous flows in your custom views.","type":"text"}],"role":"sampleCode","title":"Discover concurrency in SwiftUI","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10019-Discover-concurrency-in-SwiftUI","type":"topic"}}}