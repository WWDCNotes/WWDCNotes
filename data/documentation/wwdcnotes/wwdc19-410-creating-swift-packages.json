{"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc19-410-creating-swift-packages"]}],"schemaVersion":{"major":0,"patch":0,"minor":3},"sections":[],"metadata":{"role":"sampleCode","roleHeading":"WWDC19","modules":[{"name":"WWDC Notes"}],"title":"Creating Swift Packages"},"sampleCodeDownload":{"action":{"identifier":"https:\/\/developer.apple.com\/wwdc19\/410","overridingTitle":"Watch Video (31 min)","isActive":true,"type":"reference"},"kind":"sampleDownload"},"primaryContentSections":[{"content":[{"type":"heading","text":"Semantic Versioning","level":2,"anchor":"Semantic-Versioning"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Apple is really pushing us to use semantic versioning","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Use ","type":"text"},{"type":"codeVoice","code":"x.x.x-alpha.1"},{"text":" ","type":"text"},{"type":"codeVoice","code":"x.x.x-beta.2"},{"text":" for pre-releases","type":"text"}],"type":"paragraph"}]}]},{"type":"heading","text":"Package Manifest File","level":2,"anchor":"Package-Manifest-File"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"The core of a package is the Package Manifest File (which is always a ","type":"text"},{"code":"Package.swift","type":"codeVoice"},{"text":" file in the project root):","type":"text"}],"type":"paragraph"}]}]},{"type":"codeListing","syntax":"swift","code":["\/\/ swift-tools-version:5.1 ","import PackageDescription ","","let package = Package(","\tname: \"MyPackage\" ",")"]},{"type":"paragraph","inlineContent":[{"text":"ï¿¼","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"The first line of the package declares the minimum version of the swift compiler required to build this package.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"We can use SPM with older versions of iOS, not only iOS 13 ðŸŽ‰"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"The import declares that weâ€™re going to use the swift package APIs in this file. This is a library provided by Xcode which contains the APIs used in the manifest file.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Then we have a package initializer which is the real deal: it contains the package name, and more.","type":"text"}]}]}]},{"type":"heading","text":"Package Targets","level":2,"anchor":"Package-Targets"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Targets are the basic building blocks of a package. A target can define a module or a test suite.","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Targets can depend on other targets in the same package, and on products in packages which this package depends on.","type":"text"}],"type":"paragraph"}]}]},{"type":"codeListing","syntax":"swift","code":["\/\/ swift-tools-version:5.1 ","import PackageDescription ","","let package = Package(","\tname: \"MyPackage\", ","\ttargets: [ ","    .target(name: \"MyTarget\"),","  ]",")"]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Each target has its own subfolder in the Sources folder, if we donâ€™t like this default path, we can specify another path ourselves like this:"}],"type":"paragraph"}]}]},{"type":"codeListing","syntax":"swift","code":[".target(name: \"FloatingPanel\", path: \"Framework\/Sources\"),"]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"This path is crucial because Xcode will use it to read all the source files in there, itâ€™s basically where Xcode looks at when it wants to compile your package (we donâ€™t need to list one by one all the files, but just tell Xcode this path)."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Test targets are declared in a similar way:","type":"text"}],"type":"paragraph"}]}]},{"type":"codeListing","syntax":"swift","code":["\/\/ swift-tools-version:5.1 ","import PackageDescription ","","let package = Package(","\tname: \"MyPackage\", ","\ttargets: [ ","    .target(name: \"MyTarget\"),","    .testTarget( ","      name: \"MyTargetTests\", ","      dependencies:  [\"MyTarget\"]","    ),","  ]",")"]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Note how we declare a dependency of one target to another.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Test targets by default fall into a "},{"code":"Tests","type":"codeVoice"},{"type":"text","text":" folder instead of the "},{"code":"Sources","type":"codeVoice"},{"type":"text","text":" folder."}]}]}]},{"type":"heading","text":"Products","level":2,"anchor":"Products"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Products define the executables and libraries produced by a package, and make them visible to other packages."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Products are used to export target from a package so other packages can use them.","type":"text"}],"type":"paragraph"}]}]},{"type":"codeListing","syntax":"swift","code":["let package = Package(","\tname: \"MyPackage\",","\tproducts: [","\t\t.library (","\t\t\tname: \"MyProduct\",","\t\t\ttargets: [\"MyTarget\"]","\t\t),","\t],","\t...",")"]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"By default all the packages are static, if we want to load them at run time, we need to specify their type to dynamic:"}]}]}]},{"type":"codeListing","syntax":"swift","code":[".library( ","  name: \"LegacyMenuDownloader\",","  type: .dynamic, ","  targets: [\"LegacyMenuDownloader\"]","),"]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"In case our package has dependencies, we will declare them like this:"}]}]}]},{"type":"codeListing","syntax":"swift","code":["let package = Package(","\tname: \"MenuDownloader\",","\tproducts: [...], ","  dependencies: [ ","    .package (url: \"https:\/\/github.com\/jpsim\/Yams\", .upToNextMajor(from: \"2.0.0\")),","  ], ","  targets: [...]",")"]},{"type":"paragraph","inlineContent":[{"text":"ï¿¼","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Beside versions, we can also declare branches and specific commits as well:"}]}]}]},{"type":"codeListing","syntax":"swift","code":["\/\/ Branch-based requirement. ",".package(url: \"https:\/\/github.com\/jpsim\/Yams\", .branch(\"main\"))","","\/\/ Revision-based requirement. ","package(ur1: \"https:\/\/github.com\/jpsim\/Yams\", revision(\"85cfe06\"))"]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Note that these two last requirements (branch\/revision)  are not allowed in public packages, we must use the version requirement instead."}],"type":"paragraph"}]}]},{"type":"heading","text":"Platform Availability","level":2,"anchor":"Platform-Availability"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Minimum versions that support SPM:"},{"type":"text","text":" "},{"type":"image","identifier":"WWDC19-410-os"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"We can declare in our package the version required by our package:"}]}]}]},{"type":"codeListing","syntax":"swift","code":["let package = Package(","\tname: \"MyPackage\",","\tplatforms: [","\t.macOS(.v10_15), .iOS(.v13)","\t],","\t...",")"]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Note how this does not restrict the usage of the package only on those platforms: this parameter tells which platform minimum version is required for that specific version in order to run."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Package dependencies are locked from editing (you canâ€™t edit your dependencies): however, once you have a local copy of the dependency in your project, that copy overrides the remote dependency and you can edit it.","type":"text"}]}]}]},{"type":"heading","text":"Limits","level":2,"anchor":"Limits"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Currently SPM supports source code and unit tests, no images or other resources.","type":"text"}],"type":"paragraph"}]}]},{"type":"heading","text":"Written By","level":2,"anchor":"Written-By"},{"type":"row","columns":[{"content":[{"inlineContent":[{"identifier":"zntfdr","type":"image"}],"type":"paragraph"}],"size":1},{"content":[{"level":3,"text":"Federico Zanetello","type":"heading","anchor":"Federico-Zanetello"},{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","overridingTitle":"Contributed Notes"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"isActive":true,"type":"reference","identifier":"https:\/\/github.com\/zntfdr"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"isActive":true,"type":"reference","identifier":"https:\/\/zntfdr.dev"}]}],"size":4}],"numberOfColumns":5},{"type":"paragraph","inlineContent":[{"text":"Missing anything? Corrections? ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"}]},{"type":"heading","text":"Related Sessions","level":2,"anchor":"Related-Sessions"},{"type":"links","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110360-Use-Xcode-for-serverside-development","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110401-Create-Swift-Package-plugins","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10197-Discover-and-curate-Swift-Packages-using-Collections","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10142-Build-scalable-enterprise-app-suites","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10147-Distribute-binary-frameworks-as-Swift-packages","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10169-Swift-packages-Resources-and-localization","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-408-Adopting-Swift-Packages-in-Xcode","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-416-Binary-Frameworks-in-Swift","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-411-Getting-to-Know-Swift-Package-Manager"],"style":"list"},{"type":"small","inlineContent":[{"type":"strong","inlineContent":[{"text":"Legal Notice","type":"text"}]}]},{"type":"small","inlineContent":[{"text":"All content copyright Â© 2012 â€“ 2024 Apple Inc. All rights reserved.","type":"text"},{"text":" ","type":"text"},{"text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries.","type":"text"},{"text":" ","type":"text"},{"text":"This website is not made by, affiliated with, nor endorsed by Apple.","type":"text"}]}],"kind":"content"}],"abstract":[{"type":"text","text":"Whether you want to publish code to share with the community, or you just want a convenient way to organize the code in your apps, Swift packages are here to help. Learn how to create local packages for your own development, how to customize your package via the manifest file, and how to go about publishing a package for others to use."}],"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-410-Creating-Swift-Packages","interfaceLanguage":"swift"},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19"]]},"kind":"article","references":{"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-110401-Create-Swift-Package-plugins":{"abstract":[{"type":"text","text":"Tailor your development workflow and learn how to write your own package plugins in Swift. Weâ€™ll show you how you can extend Xcodeâ€™s functionality by using the PackagePlugin API to generate source code or automate release tasks and share best practices for creating great plugins."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110401-Create-Swift-Package-plugins","title":"Create Swift Package plugins","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc22-110401-create-swift-package-plugins","kind":"article","role":"sampleCode"},"https://zntfdr.dev":{"url":"https:\/\/zntfdr.dev","title":"Blog","titleInlineContent":[{"type":"text","text":"Blog"}],"type":"link","identifier":"https:\/\/zntfdr.dev"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-416-Binary-Frameworks-in-Swift":{"role":"sampleCode","kind":"article","abstract":[{"type":"text","text":"Xcode 11 now fully supports using and creating binary frameworks in Swift. Find out how to simultaneously support devices and Simulator with the new XCFramework bundle type, how Swift module interfaces work, and how to manage changes to your framework over time."}],"url":"\/documentation\/wwdcnotes\/wwdc19-416-binary-frameworks-in-swift","title":"Binary Frameworks in Swift","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-416-Binary-Frameworks-in-Swift"},"WWDC19-Icon.png":{"alt":null,"type":"image","variants":[{"url":"\/images\/WWDC19-Icon.png","traits":["1x","light"]}],"identifier":"WWDC19-Icon.png"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-110360-Use-Xcode-for-serverside-development":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110360-Use-Xcode-for-serverside-development","url":"\/documentation\/wwdcnotes\/wwdc22-110360-use-xcode-for-serverside-development","kind":"article","title":"Use Xcode for server-side development","abstract":[{"text":"Discover how you can create, build, and deploy a Swift server app alongside your pre-existing Xcode projects within the same workspace. Weâ€™ll show you how to create your own local app and test endpoints using Xcode, and explore how you can structure and share code between server and client apps to ease your development process","type":"text"}],"role":"sampleCode","type":"topic"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10147-Distribute-binary-frameworks-as-Swift-packages":{"kind":"article","type":"topic","title":"Distribute binary frameworks as Swift packages","role":"sampleCode","abstract":[{"text":"Discover how you can add third-party frameworks to your app and keep them up to date using Swift packages in Xcode. Weâ€™ll show you how to author packages that reference frameworks, explain binary targets and how to specify them in your package manifest file, and demonstrate how to compute checksums so that your clients always get the exact binary you expect.","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10147-Distribute-binary-frameworks-as-Swift-packages","url":"\/documentation\/wwdcnotes\/wwdc20-10147-distribute-binary-frameworks-as-swift-packages"},"WWDCNotes.png":{"alt":null,"type":"image","variants":[{"url":"\/images\/WWDCNotes.png","traits":["1x","light"]}],"identifier":"WWDCNotes.png"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10197-Discover-and-curate-Swift-Packages-using-Collections":{"role":"sampleCode","kind":"article","abstract":[{"type":"text","text":"Whether youâ€™re curating packages for your team, for education purposes, or to share with other developers, Swift Package Collections can help you discover, explore and import new packages into your project. Discover improvements in the Swift Package workflow using Collections, and learn how you can curate, create, sign, and share your own Swift Package Collections."}],"url":"\/documentation\/wwdcnotes\/wwdc21-10197-discover-and-curate-swift-packages-using-collections","title":"Discover and curate Swift Packages using Collections","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10197-Discover-and-curate-Swift-Packages-using-Collections"},"WWDC19-410-os":{"alt":null,"type":"image","variants":[{"url":"\/images\/WWDC19-410-os.png","traits":["1x","light"]}],"identifier":"WWDC19-410-os"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC18-411-Getting-to-Know-Swift-Package-Manager":{"abstract":[{"type":"text","text":"The Swift Package Manager makes it possible to easily develop and distribute source code in the Swift ecosystem. Learn about its goals, design, unique features, and the opportunities it has for continued evolution."}],"type":"topic","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-411-Getting-to-Know-Swift-Package-Manager","title":"Getting to Know Swift Package Manager","url":"\/documentation\/wwdcnotes\/wwdc18-411-getting-to-know-swift-package-manager","role":"sampleCode"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-408-Adopting-Swift-Packages-in-Xcode":{"role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc19-408-adopting-swift-packages-in-xcode","title":"Adopting Swift Packages in Xcode","type":"topic","abstract":[{"type":"text","text":"Swift packages are a great way to organize and share code, and are now supported while building apps for all Apple platforms in Xcode 11. Find out how to use community-developed packages in your project, how Swift packages are structured, and how package versioning and dependencies work."}],"kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-408-Adopting-Swift-Packages-in-Xcode"},"zntfdr":{"variants":[{"traits":["1x","light"],"url":"\/images\/zntfdr.jpeg"}],"type":"image","alt":"Profile image of Federico Zanetello","identifier":"zntfdr"},"zntfdr.jpeg":{"variants":[{"traits":["1x","light"],"url":"\/images\/zntfdr.jpeg"}],"type":"image","alt":null,"identifier":"zntfdr.jpeg"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10169-Swift-packages-Resources-and-localization":{"url":"\/documentation\/wwdcnotes\/wwdc20-10169-swift-packages-resources-and-localization","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10169-Swift-packages-Resources-and-localization","abstract":[{"type":"text","text":"Bring your resources along for the ride when you organize and share code using Swift packages. Discover how to include assets like images and storyboards in a package and how to access them from code. And learn how to add localized strings to make your code accessible to people around the world."}],"role":"sampleCode","type":"topic","title":"Swift packages: Resources and localization"},"WWDC19.jpeg":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC19.jpeg"}],"type":"image","alt":null,"identifier":"WWDC19.jpeg"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"titleInlineContent":[{"type":"text","text":"Contributions are welcome!"}],"type":"link","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","title":"Contributions are welcome!","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10142-Build-scalable-enterprise-app-suites":{"abstract":[{"text":"Learn how to build focused enterprise apps that work well together. In this session, weâ€™ll introduce you to Apple Retailâ€™s suite of enterprise apps, which help employees interact with customers, track operations, manage stores, and stay connected. Discover how Apple Retail created a unified set of apps by adopting Swift Packages and testing for app scalability. And explore how managing apps in production with configurations can help tailor app suites to different regions and locations.","type":"text"}],"kind":"article","title":"Build scalable enterprise app suites","type":"topic","role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc20-10142-build-scalable-enterprise-app-suites","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10142-Build-scalable-enterprise-app-suites"},"https://developer.apple.com/wwdc19/410":{"type":"download","checksum":null,"url":"https:\/\/developer.apple.com\/wwdc19\/410","identifier":"https:\/\/developer.apple.com\/wwdc19\/410"},"doc://WWDCNotes/documentation/WWDCNotes/zntfdr":{"kind":"article","url":"\/documentation\/wwdcnotes\/zntfdr","type":"topic","images":[{"identifier":"zntfdr.jpeg","type":"card"},{"identifier":"zntfdr.jpeg","type":"icon"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","title":"Federico Zanetello (332 notes)","abstract":[{"text":"Software engineer with a strong passion for well-written code, thought-out composable architectures, automation, tests, and more.","type":"text"}],"role":"sampleCode"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19":{"kind":"article","url":"\/documentation\/wwdcnotes\/wwdc19","type":"topic","images":[{"identifier":"WWDC19-Icon.png","type":"icon"},{"identifier":"WWDC19.jpeg","type":"card"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19","title":"WWDC19","abstract":[{"text":"Xcode 11, Swift 5.1, iOS 13, macOS 10.15 (Catalina), tvOS 13, watchOS 6.","type":"text"},{"text":" ","type":"text"},{"text":"New APIs: ","type":"text"},{"code":"Combine","type":"codeVoice"},{"text":", ","type":"text"},{"code":"Core Haptics","type":"codeVoice"},{"text":", ","type":"text"},{"code":"Create ML","type":"codeVoice"},{"text":", and more.","type":"text"}],"role":"collectionGroup"},"doc://WWDCNotes/documentation/WWDCNotes":{"title":"WWDC Notes","url":"\/documentation\/wwdcnotes","type":"topic","images":[{"identifier":"WWDCNotes.png","type":"icon"}],"abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"role":"collection","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","kind":"symbol"},"https://github.com/zntfdr":{"titleInlineContent":[{"type":"text","text":"GitHub"}],"type":"link","url":"https:\/\/github.com\/zntfdr","title":"GitHub","identifier":"https:\/\/github.com\/zntfdr"}}}