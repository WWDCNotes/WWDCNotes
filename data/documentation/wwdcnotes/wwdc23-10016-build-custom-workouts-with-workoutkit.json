{"metadata":{"roleHeading":"WWDC23","title":"Build custom workouts with WorkoutKit","modules":[{"name":"WWDC Notes"}],"role":"sampleCode"},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc23-10016-build-custom-workouts-with-workoutkit"]}],"kind":"article","primaryContentSections":[{"kind":"content","content":[{"level":2,"type":"heading","text":"Introduction to WorkoutKit","anchor":"Introduction-to-WorkoutKit"},{"inlineContent":[{"text":"It allows you to create and customize all of the different workout types that a user can create in the Workout app within your own apps. It is also the bridge to help you bring these workouts into the Workout app for users to perform.","type":"text"}],"type":"paragraph"},{"level":2,"type":"heading","text":"Building a custom workout","anchor":"Building-a-custom-workout"},{"inlineContent":[{"text":"Workouts are composed by 3 stages:","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"image","identifier":"WWDC23-10016-workout-stages"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Each blue box in the imagre above is a step.","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Every step must have a goal. This can be a time or distance goal, if applicable, or also an open goal."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Steps may have 0 or 1 alerts. Current alert types can be pace (average or current), cadence, power, and heart rate.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Blocks are a group of steps, composing the 2nd stage in the image above.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Blocks may contain any number of work and recovery steps, in any order. Blocks can also be repeatable.","type":"text"}]}]}]},{"inlineContent":[{"type":"text","text":"Here’s a code sample of a custom workout:"}],"type":"paragraph"},{"inlineContent":[{"type":"image","identifier":"WWDC23-10016-workout-code-sample"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"The "},{"code":"CustomWorkoutComposition","type":"codeVoice"},{"type":"text","text":" is called using "},{"code":"try","type":"codeVoice"},{"type":"text","text":" because it is validated upon creation."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"There’s also a "},{"type":"codeVoice","code":"WorkoutComposition"},{"type":"text","text":" wrapper to perform additional operations such as APIs to import\/export workout composition as files, which can be shared across devices."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Export files using binary format because they’re a lot smaller."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"There’s an API to preview a workout file before importing it.","type":"text"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"When triggered on watchOS, it will launch the Workout app and offer the user to start the workout, or import it.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"On iOS, it will present a screen on top of your app, in a separate process:","type":"text"}]}]}],"type":"unorderedList"}]}]},{"inlineContent":[{"type":"image","identifier":"WWDC23-10016-workout-preview"}],"type":"paragraph"},{"level":2,"type":"heading","text":"Scheduled Workouts","anchor":"Scheduled-Workouts"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"You can schedule workouts to be performed at a specific time, and plan your week ahead, for instance.","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Your app can schedule workouts and they will appear in a dedicated space at the top of the Workout app:","type":"text"}],"type":"paragraph"}]}]},{"inlineContent":[{"identifier":"WWDC23-10016-scheduled-workouts","type":"image"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Scheduling workouts requires the user’s permission, and syncing is handled locally."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The user is able to see workouts scheduled in the next seven days and the previous seven days."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"You can query for scheduled workouts that the user has completed from your app. It contains scheduled date, and whether it was completed or not. They don’t contain health data. If you want to pull the health data, refer to HealthKit APIs."}]}]}]},{"level":2,"type":"heading","text":"Written By","anchor":"Written-By"},{"type":"row","columns":[{"content":[{"type":"paragraph","inlineContent":[{"identifier":"rogerluan","type":"image"}]}],"size":1},{"content":[{"type":"heading","level":3,"text":"Roger Oba","anchor":"Roger-Oba"},{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/rogerluan","overridingTitle":"Contributed Notes","overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}]},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/rogerluan"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/www.roger.ml"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/x.com\/rogerluan_"}]}],"size":4}],"numberOfColumns":5},{"inlineContent":[{"text":"Missing anything? Corrections? ","type":"text"},{"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","isActive":true,"type":"reference"}],"type":"paragraph"},{"level":2,"type":"heading","text":"Related Sessions","anchor":"Related-Sessions"},{"type":"links","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10023-Build-a-multidevice-workout-app","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10179-Whats-new-in-Core-Motion"],"style":"list"},{"inlineContent":[{"inlineContent":[{"text":"Legal Notice","type":"text"}],"type":"strong"}],"type":"small"},{"inlineContent":[{"type":"text","text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}],"type":"small"}]}],"sections":[],"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10016-Build-custom-workouts-with-WorkoutKit","interfaceLanguage":"swift"},"schemaVersion":{"major":0,"patch":0,"minor":3},"sampleCodeDownload":{"kind":"sampleDownload","action":{"overridingTitle":"Watch Video (21 min)","isActive":true,"identifier":"https:\/\/developer.apple.com\/wwdc23\/10016","type":"reference"}},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23"]]},"abstract":[{"type":"text","text":"WorkoutKit makes it easy to create, preview, and schedule planned workouts for the Workout app on Apple Watch. Learn how to build custom intervals, create alerts, and use the built-in preview UI to send your own workout routines to Apple Watch."}],"references":{"rogerluan.jpeg":{"variants":[{"url":"\/images\/rogerluan.jpeg","traits":["1x","light"]}],"identifier":"rogerluan.jpeg","type":"image","alt":null},"doc://WWDCNotes/documentation/WWDCNotes":{"abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"type":"topic","kind":"symbol","images":[{"identifier":"WWDCNotes.png","type":"icon"}],"title":"WWDC Notes","role":"collection","url":"\/documentation\/wwdcnotes","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes"},"WWDC23-Icon.png":{"variants":[{"url":"\/images\/WWDC23-Icon.png","traits":["1x","light"]}],"identifier":"WWDC23-Icon.png","type":"image","alt":null},"WWDC23-10016-scheduled-workouts":{"variants":[{"url":"\/images\/WWDC23-10016-scheduled-workouts.png","traits":["1x","light"]}],"identifier":"WWDC23-10016-scheduled-workouts","type":"image","alt":"Scheduled Workouts"},"WWDC23-10016-workout-preview":{"variants":[{"url":"\/images\/WWDC23-10016-workout-preview.png","traits":["1x","light"]}],"identifier":"WWDC23-10016-workout-preview","type":"image","alt":"Workout Preview"},"WWDCNotes.png":{"variants":[{"url":"\/images\/WWDCNotes.png","traits":["1x","light"]}],"identifier":"WWDCNotes.png","type":"image","alt":null},"https://x.com/rogerluan_":{"identifier":"https:\/\/x.com\/rogerluan_","title":"X\/Twitter","url":"https:\/\/x.com\/rogerluan_","type":"link","titleInlineContent":[{"type":"text","text":"X\/Twitter"}]},"rogerluan":{"variants":[{"url":"\/images\/rogerluan.jpeg","traits":["1x","light"]}],"identifier":"rogerluan","type":"image","alt":"Profile image of Roger Oba"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23":{"kind":"article","images":[{"identifier":"WWDC23-Icon.png","type":"icon"},{"identifier":"WWDC23.jpeg","type":"card"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23","role":"collectionGroup","abstract":[{"type":"text","text":"Xcode 15, Swift 5.9, iOS 17, macOS 14 (Sonoma), tvOS 17, visionOS 1, watchOS 10."},{"type":"text","text":" "},{"type":"text","text":"New APIs: "},{"type":"codeVoice","code":"SwiftData"},{"type":"text","text":", "},{"type":"codeVoice","code":"Observation"},{"type":"text","text":", "},{"type":"codeVoice","code":"StoreKit"},{"type":"text","text":" views, and more."}],"type":"topic","title":"WWDC23","url":"\/documentation\/wwdcnotes\/wwdc23"},"https://github.com/rogerluan":{"identifier":"https:\/\/github.com\/rogerluan","title":"GitHub","url":"https:\/\/github.com\/rogerluan","type":"link","titleInlineContent":[{"type":"text","text":"GitHub"}]},"doc://WWDCNotes/documentation/WWDCNotes/rogerluan":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/rogerluan","url":"\/documentation\/wwdcnotes\/rogerluan","title":"Roger Oba (7 notes)","kind":"article","role":"sampleCode","images":[{"identifier":"rogerluan.jpeg","type":"card"},{"identifier":"rogerluan.jpeg","type":"icon"}],"abstract":[{"type":"text","text":"Core contributor @fastlane 🚀"}],"type":"topic"},"https://www.roger.ml":{"identifier":"https:\/\/www.roger.ml","title":"Blog","url":"https:\/\/www.roger.ml","type":"link","titleInlineContent":[{"type":"text","text":"Blog"}]},"WWDC23-10016-workout-stages":{"variants":[{"url":"\/images\/WWDC23-10016-workout-stages.png","traits":["1x","light"]}],"identifier":"WWDC23-10016-workout-stages","type":"image","alt":"Workout Stages"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10179-Whats-new-in-Core-Motion":{"title":"What’s new in Core Motion","kind":"article","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10179-Whats-new-in-Core-Motion","role":"sampleCode","abstract":[{"type":"text","text":"Learn how you can use the latest Core Motion updates to expand how your app uses motion data. Discover how to stream higher-frequency sensor data when recording a HealthKit workout on Apple Watch. We’ll show you how you can get submersion data — including water depth and temperature — during water-based activities like snorkeling. Find out how to stream motion data like attitude, user acceleration, and rotation rate from audio devices like AirPods to connected devices like iPhone and Mac."}],"url":"\/documentation\/wwdcnotes\/wwdc23-10179-whats-new-in-core-motion"},"WWDC23.jpeg":{"variants":[{"url":"\/images\/WWDC23.jpeg","traits":["1x","light"]}],"identifier":"WWDC23.jpeg","type":"image","alt":null},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10023-Build-a-multidevice-workout-app":{"kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10023-Build-a-multidevice-workout-app","role":"sampleCode","title":"Build a multi-device workout app","url":"\/documentation\/wwdcnotes\/wwdc23-10023-build-a-multidevice-workout-app","type":"topic","abstract":[{"type":"text","text":"Learn how you can get iPhone involved in your Apple Watch-based workout apps with HealthKit. We’ll show you how to mirror workouts between devices and take a ride with cycling data types. Plus, get to know HealthKit for iPad."}]},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","title":"Contributions are welcome!","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"link","titleInlineContent":[{"type":"text","text":"Contributions are welcome!"}]},"https://developer.apple.com/wwdc23/10016":{"checksum":null,"identifier":"https:\/\/developer.apple.com\/wwdc23\/10016","url":"https:\/\/developer.apple.com\/wwdc23\/10016","type":"download"},"WWDC23-10016-workout-code-sample":{"variants":[{"url":"\/images\/WWDC23-10016-workout-code-sample.png","traits":["1x","light"]}],"identifier":"WWDC23-10016-workout-code-sample","type":"image","alt":"Workout Code Sample"}}}