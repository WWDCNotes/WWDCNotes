{"metadata":{"roleHeading":"WWDC20","modules":[{"name":"WWDC Notes"}],"title":"Meet the new Photos picker","role":"sampleCode"},"sections":[],"kind":"article","primaryContentSections":[{"content":[{"level":2,"anchor":"overview","type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"PHPicker: a new system-provided picker screen that gives you access to photos and videos from the user’s photo library."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"It’s recommended that you use this picker instead of building your own custom photo selection UI."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"New version includes:"}]},{"items":[{"content":[{"inlineContent":[{"text":"a new design and new easy to use API","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"an integrated search","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"easy multi-select"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"zoom gesture","type":"text"}]}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"type":"text","text":"PHPicker is private by default:"}]},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"the picker screen runs out of process and talks to the app via XPC"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"your app has no direct access to the photos library"}]}]},{"content":[{"inlineContent":[{"text":"it doesn’t need to get photo library permission (don’t ask for it unless you ","type":"text"},{"inlineContent":[{"text":"really","type":"text"}],"type":"emphasis"},{"text":" need it)","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"you only get selected photos and videos in response"}],"type":"paragraph"}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"text":"PHPicker is not a name of a single class, but a set of classes that work together.","type":"text"}]},{"level":2,"anchor":"Elements-of-the-API","type":"heading","text":"Elements of the API"},{"type":"paragraph","inlineContent":[{"identifier":"https:\/\/developer.apple.com\/documentation\/photokit\/phpickerconfiguration","type":"reference","isActive":true},{"type":"text","text":" – lets you specify limits and filters:"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"selectionLimit"},{"text":" – number of items that can be selected (1 by default, 0 = unlimited)","type":"text"}]}]},{"content":[{"inlineContent":[{"code":"filter","type":"codeVoice"},{"text":" – e.g. ","type":"text"},{"code":".images","type":"codeVoice"},{"text":" or ","type":"text"},{"code":".any(of: [.videos, .livePhotos])","type":"codeVoice"}],"type":"paragraph"}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"identifier":"https:\/\/developer.apple.com\/documentation\/photokit\/phpickerviewcontroller","isActive":true,"type":"reference"},{"text":" – the main view controller handling the picker:","type":"text"}]},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"the picker doesn’t dismiss itself automatically, call "},{"type":"codeVoice","code":"picker.dismiss(animated:)"},{"type":"text","text":" when you get the response"}],"type":"paragraph"}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"identifier":"https:\/\/developer.apple.com\/documentation\/photokit\/phpickerviewcontrollerdelegate","isActive":true,"type":"reference"},{"text":" – delegate for the picker:","type":"text"}]},{"items":[{"content":[{"inlineContent":[{"isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/photokit\/phpickerviewcontrollerdelegate\/3606609-picker","type":"reference"}],"type":"paragraph"}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"identifier":"https:\/\/developer.apple.com\/documentation\/photokit\/phpickerresult","type":"reference","isActive":true},{"type":"text","text":" – an array of these objects is passed to the app in response"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"get ","type":"text"},{"type":"codeVoice","code":"itemProvider"},{"text":" from the result","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"check "},{"type":"codeVoice","code":"itemProvider.canLoadObject(ofClass: UIImage.self)"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"get the image via ","type":"text"},{"type":"codeVoice","code":"itemProvider.loadObject(ofClass: UIImage.self) { … }"}]}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can normally extract picked photos from "},{"type":"codeVoice","code":"PHPickerResult"},{"type":"text","text":" item providers without touching the "},{"type":"codeVoice","code":"PHPhotoLibrary"},{"type":"text","text":" at all, but if you do need to access the photo library anyway, then pass it to "},{"identifier":"https:\/\/developer.apple.com\/documentation\/photokit\/phpickerconfiguration\/3616114-init","isActive":true,"type":"reference"},{"type":"text","text":" and get "},{"type":"codeVoice","code":"assetIdentifier"},{"type":"text","text":" references from the picker results."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you use PHPicker with photo library access and you only got limited access to a subset of photos, then:"}]},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"PHPicker will still let the user choose photos from their whole library"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"but the selection you have direct access to will not be extended by what they choose in the picker"}]}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The photo library APIs from "},{"identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/uiimagepickercontroller","type":"reference","isActive":true},{"type":"text","text":" are deprecated."}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":""},{"type":"reference","isActive":true,"identifier":"https:\/\/mackuba.eu\/2020\/07\/07\/photo-library-changes-ios-14\/"}]}],"type":"aside","style":"note","name":"Full blog post here"},{"level":2,"anchor":"Written-By","type":"heading","text":"Written By"},{"numberOfColumns":5,"columns":[{"size":1,"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"mackuba"}]}]},{"size":4,"content":[{"type":"heading","text":"Kuba Suder","anchor":"Kuba-Suder","level":3},{"type":"paragraph","inlineContent":[{"overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}],"overridingTitle":"Contributed Notes","isActive":true,"type":"reference","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/mackuba"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/github.com\/mackuba"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/x.com\/kuba_suder"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/mackuba.eu"}]}]}],"type":"row"},{"type":"paragraph","inlineContent":[{"text":"Missing anything? Corrections? ","type":"text"},{"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","isActive":true,"type":"reference"}]},{"level":2,"anchor":"Related-Sessions","type":"heading","text":"Related Sessions"},{"items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10107-Embed-the-Photos-Picker-in-your-app","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10023-Whats-new-in-the-Photos-picker","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10046-Improve-access-to-Photos-in-your-app","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10160-Capture-and-process-ProRAW-images","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10052-Build-with-iOS-pickers-menus-and-actions","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10641-Handle-the-Limited-Photos-Library-in-your-app","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10676-Build-trust-through-better-privacy"],"type":"links","style":"list"},{"type":"small","inlineContent":[{"type":"strong","inlineContent":[{"text":"Legal Notice","type":"text"}]}]},{"type":"small","inlineContent":[{"type":"text","text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}]}],"kind":"content"}],"abstract":[{"text":"Let people select photos and videos to use in your app without requiring full Photo Library access. Discover how the PHPicker API for iOS and Mac Catalyst ensures privacy while providing your app the features you need.","type":"text"}],"schemaVersion":{"minor":3,"patch":0,"major":0},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc20-10652-meet-the-new-photos-picker"]}],"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20"]]},"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10652-Meet-the-new-Photos-picker","interfaceLanguage":"swift"},"sampleCodeDownload":{"kind":"sampleDownload","action":{"type":"reference","overridingTitle":"Watch Video (14 min)","isActive":true,"identifier":"https:\/\/developer.apple.com\/wwdc20\/10652"}},"references":{"doc://WWDCNotes/documentation/WWDCNotes/mackuba":{"type":"topic","images":[{"identifier":"mackuba.jpeg","type":"card"},{"identifier":"mackuba.jpeg","type":"icon"}],"kind":"article","url":"\/documentation\/wwdcnotes\/mackuba","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/mackuba","abstract":[{"text":"Independent Mac & iOS developer. Sometimes freelancing, mostly working on my own stuff these days.","type":"text"}],"role":"sampleCode","title":"Kuba Suder (16 notes)"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10641-Handle-the-Limited-Photos-Library-in-your-app":{"kind":"article","type":"topic","abstract":[{"type":"text","text":"Access the photos and videos you need for your app while preserving privacy. With the new Limited Photos Library feature, people can directly control which photos and videos an app can access to protect their private content. We’ll explore how this feature may affect your app, and take you through alternatives like PHPicker."}],"url":"\/documentation\/wwdcnotes\/wwdc20-10641-handle-the-limited-photos-library-in-your-app","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10641-Handle-the-Limited-Photos-Library-in-your-app","title":"Handle the Limited Photos Library in your app"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10107-Embed-the-Photos-Picker-in-your-app":{"role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10107-Embed-the-Photos-Picker-in-your-app","url":"\/documentation\/wwdcnotes\/wwdc23-10107-embed-the-photos-picker-in-your-app","abstract":[{"type":"text","text":"Discover how you can simply, safely, and securely access the Photos Library in your app. Learn how to get started with the embedded picker and explore the options menu and HDR still image support. We’ll also show you how to take advantage of UI customization options to help the picker blend into your existing interface."}],"type":"topic","kind":"article","title":"Embed the Photos Picker in your app"},"WWDC20.jpeg":{"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC20.jpeg"}],"identifier":"WWDC20.jpeg","alt":null},"WWDCNotes.png":{"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes.png"}],"identifier":"WWDCNotes.png","alt":null},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20","title":"WWDC20","abstract":[{"text":"Xcode 12, Swift 5.3, iOS 14, macOS 11 (Big Sur), tvOS 14, watchOS 7.","type":"text"},{"text":" ","type":"text"},{"text":"New APIs: ","type":"text"},{"type":"codeVoice","code":"WidgetKit"},{"text":", ","type":"text"},{"type":"codeVoice","code":"StoreKit Testing"},{"text":", and more.","type":"text"}],"url":"\/documentation\/wwdcnotes\/wwdc20","kind":"article","role":"collectionGroup","type":"topic","images":[{"type":"icon","identifier":"WWDC20-Icon.png"},{"type":"card","identifier":"WWDC20.jpeg"}]},"https://developer.apple.com/documentation/uikit/uiimagepickercontroller":{"type":"link","url":"https:\/\/developer.apple.com\/documentation\/uikit\/uiimagepickercontroller","titleInlineContent":[{"code":"UIImagePickerController","type":"codeVoice"}],"identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/uiimagepickercontroller","title":"UIImagePickerController"},"https://x.com/kuba_suder":{"type":"link","url":"https:\/\/x.com\/kuba_suder","titleInlineContent":[{"text":"X\/Twitter","type":"text"}],"identifier":"https:\/\/x.com\/kuba_suder","title":"X\/Twitter"},"https://developer.apple.com/documentation/photokit/phpickerconfiguration/3616114-init":{"type":"link","url":"https:\/\/developer.apple.com\/documentation\/photokit\/phpickerconfiguration\/3616114-init","titleInlineContent":[{"code":"PHPickerConfiguration.init","type":"codeVoice"}],"identifier":"https:\/\/developer.apple.com\/documentation\/photokit\/phpickerconfiguration\/3616114-init","title":"PHPickerConfiguration.init"},"doc://WWDCNotes/documentation/WWDCNotes":{"url":"\/documentation\/wwdcnotes","abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"title":"WWDC Notes","type":"topic","images":[{"type":"icon","identifier":"WWDCNotes.png"}],"kind":"symbol","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","role":"collection"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10676-Build-trust-through-better-privacy":{"kind":"article","type":"topic","abstract":[{"type":"text","text":"Privacy is a more important issue than ever. Learn about Apple’s privacy pillars, our approach to privacy, and how to adopt the latest features on our platforms that can help you earn customer trust, create more personal experiences, and improve engagement. Explore the transparency iOS provides when your app is recording using the microphone or camera, control over location with approximate location, tracking transparency and permissions, and much more."}],"url":"\/documentation\/wwdcnotes\/wwdc20-10676-build-trust-through-better-privacy","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10676-Build-trust-through-better-privacy","title":"Build trust through better privacy"},"https://mackuba.eu":{"type":"link","url":"https:\/\/mackuba.eu","titleInlineContent":[{"text":"Blog","type":"text"}],"identifier":"https:\/\/mackuba.eu","title":"Blog"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"type":"link","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","titleInlineContent":[{"text":"Contributions are welcome!","type":"text"}],"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","title":"Contributions are welcome!"},"https://mackuba.eu/2020/07/07/photo-library-changes-ios-14/":{"type":"link","url":"https:\/\/mackuba.eu\/2020\/07\/07\/photo-library-changes-ios-14\/","titleInlineContent":[{"text":"https:\/\/mackuba.eu\/2020\/07\/07\/photo-library-changes-ios-14\/","type":"text"}],"identifier":"https:\/\/mackuba.eu\/2020\/07\/07\/photo-library-changes-ios-14\/","title":"https:\/\/mackuba.eu\/2020\/07\/07\/photo-library-changes-ios-14\/"},"https://developer.apple.com/documentation/photokit/phpickerviewcontrollerdelegate":{"type":"link","url":"https:\/\/developer.apple.com\/documentation\/photokit\/phpickerviewcontrollerdelegate","titleInlineContent":[{"code":"PHPickerViewControllerDelegate","type":"codeVoice"}],"identifier":"https:\/\/developer.apple.com\/documentation\/photokit\/phpickerviewcontrollerdelegate","title":"PHPickerViewControllerDelegate"},"mackuba":{"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/mackuba.jpeg"}],"identifier":"mackuba","alt":"Profile image of Kuba Suder"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10052-Build-with-iOS-pickers-menus-and-actions":{"kind":"article","role":"sampleCode","type":"topic","title":"Build with iOS pickers, menus and actions","abstract":[{"type":"text","text":"Build iPhone and iPad apps with fluid interfaces and easily-accessible contextual information. We’ll show you how to integrate the latest UIKit controls into your app to best take advantage of menus, date pickers, page controls, and segmented controllers. Learn how to adopt Menus throughly your user interface, and explore how UIAction can help unify your event handling."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10052-Build-with-iOS-pickers-menus-and-actions","url":"\/documentation\/wwdcnotes\/wwdc20-10052-build-with-ios-pickers-menus-and-actions"},"mackuba.jpeg":{"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/mackuba.jpeg"}],"identifier":"mackuba.jpeg","alt":null},"https://developer.apple.com/documentation/photokit/phpickerviewcontrollerdelegate/3606609-picker":{"type":"link","url":"https:\/\/developer.apple.com\/documentation\/photokit\/phpickerviewcontrollerdelegate\/3606609-picker","titleInlineContent":[{"code":"picker(_: didFinishPicking results:)","type":"codeVoice"}],"identifier":"https:\/\/developer.apple.com\/documentation\/photokit\/phpickerviewcontrollerdelegate\/3606609-picker","title":"picker(_: didFinishPicking results:)"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10046-Improve-access-to-Photos-in-your-app":{"url":"\/documentation\/wwdcnotes\/wwdc21-10046-improve-access-to-photos-in-your-app","abstract":[{"type":"text","text":"PHPicker is the simplest and most secure way to integrate the Photos library into your app — and it’s getting even better. Learn how to handle ordered selection of images in your app, as well as pre-selecting assets any time the picker is shown. And for apps that need to integrate more deeply with PhotoKit, discover how you can use PHCloudIdentifier to sync photo project content across devices, helping people easily transition their image work between iPhone, iPad, and Mac."}],"title":"Improve access to Photos in your app","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10046-Improve-access-to-Photos-in-your-app","type":"topic","kind":"article","role":"sampleCode"},"https://developer.apple.com/documentation/photokit/phpickerviewcontroller":{"type":"link","url":"https:\/\/developer.apple.com\/documentation\/photokit\/phpickerviewcontroller","titleInlineContent":[{"code":"PHPickerViewController","type":"codeVoice"}],"identifier":"https:\/\/developer.apple.com\/documentation\/photokit\/phpickerviewcontroller","title":"PHPickerViewController"},"https://developer.apple.com/wwdc20/10652":{"type":"download","checksum":null,"url":"https:\/\/developer.apple.com\/wwdc20\/10652","identifier":"https:\/\/developer.apple.com\/wwdc20\/10652"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10160-Capture-and-process-ProRAW-images":{"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10160-Capture-and-process-ProRAW-images","url":"\/documentation\/wwdcnotes\/wwdc21-10160-capture-and-process-proraw-images","kind":"article","role":"sampleCode","title":"Capture and process ProRAW images","abstract":[{"text":"When you support ProRAW in your app, you can help photographers easily capture and edit images by combining standard RAW information with Apple’s advanced computational photography techniques. We’ll take you through an overview of the format, including the look and feel of ProRAW images, quality metrics, and compatibility with your app. From there, we’ll explore how you can incorporate ProRAW into your app at every stage of the production pipeline, including capturing imagery with AVFoundation, storage using PhotoKit, and editing with Core Image.","type":"text"}]},"https://developer.apple.com/documentation/photokit/phpickerresult":{"type":"link","url":"https:\/\/developer.apple.com\/documentation\/photokit\/phpickerresult","titleInlineContent":[{"code":"PHPickerResult","type":"codeVoice"}],"identifier":"https:\/\/developer.apple.com\/documentation\/photokit\/phpickerresult","title":"PHPickerResult"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10023-Whats-new-in-the-Photos-picker":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10023-Whats-new-in-the-Photos-picker","abstract":[{"type":"text","text":"PHPicker provides simple and secure integration between your app and the system Photos library. Learn how SwiftUI and Transferable can help you offer integration across iOS, iPadOS, macOS, and watchOS."}],"role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc22-10023-whats-new-in-the-photos-picker","type":"topic","title":"What’s new in the Photos picker","kind":"article"},"WWDC20-Icon.png":{"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC20-Icon.png"}],"identifier":"WWDC20-Icon.png","alt":null},"https://github.com/mackuba":{"type":"link","url":"https:\/\/github.com\/mackuba","titleInlineContent":[{"text":"GitHub","type":"text"}],"identifier":"https:\/\/github.com\/mackuba","title":"GitHub"},"https://developer.apple.com/documentation/photokit/phpickerconfiguration":{"type":"link","url":"https:\/\/developer.apple.com\/documentation\/photokit\/phpickerconfiguration","titleInlineContent":[{"code":"PHPickerConfiguration","type":"codeVoice"}],"identifier":"https:\/\/developer.apple.com\/documentation\/photokit\/phpickerconfiguration","title":"PHPickerConfiguration"}}}