{"abstract":[{"text":"Discover how to create stunning visual effects in SwiftUI. Learn to build unique scroll effects, rich color treatments, and custom transitions. We’ll also explore advanced graphic effects using Metal shaders and custom text rendering.","type":"text"}],"metadata":{"roleHeading":"WWDC24","role":"sampleCode","modules":[{"name":"WWDC Notes"}],"title":"Create custom visual effects with SwiftUI"},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC24"]]},"sampleCodeDownload":{"kind":"sampleDownload","action":{"isActive":true,"overridingTitle":"Watch Video","identifier":"https:\/\/developer.apple.com\/wwdc24\/10151","type":"reference"}},"schemaVersion":{"minor":3,"major":0,"patch":0},"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC24-10151-Create-custom-visual-effects-with-SwiftUI","interfaceLanguage":"swift"},"kind":"article","sections":[],"primaryContentSections":[{"kind":"content","content":[{"text":"Overview","anchor":"overview","level":2,"type":"heading"},{"inlineContent":[{"text":"Philip Davis and Rob Bohnke","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Small details make a big difference, and visual effects can enhance perception and functionality. Experiment to find the right effect."}],"type":"paragraph"},{"inlineContent":[{"text":"Effects can:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Show feature is working","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Add personality","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Focus attention"}],"type":"paragraph"}]}],"type":"unorderedList"},{"inlineContent":[{"type":"text","text":"Covered in the talk:"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Scroll effects","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Color treatments","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"View transitions","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Text transitions"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Metal shaders"}],"type":"paragraph"}]}],"type":"orderedList"},{"text":"1. Scroll view effects","anchor":"1-Scroll-view-effects","level":2,"type":"heading"},{"inlineContent":[{"type":"text","text":"Basic enhancement: enable scroll paging with "},{"type":"codeVoice","code":"scrollTargetBehavior(.paging)"}],"type":"paragraph"},{"inlineContent":[{"code":".scrollTransition","type":"codeVoice"},{"text":" modifier changes collection of elements to something custom","type":"text"},{"text":" ","type":"text"},{"text":"Exposes: content to transition and its scroll phase","type":"text"},{"text":" ","type":"text"},{"text":"Use ","type":"text"},{"code":"phase.value","type":"codeVoice"},{"text":" to check how far off screen view is","type":"text"},{"text":" ","type":"text"},{"code":"phase.identity","type":"codeVoice"},{"text":" will be true when content is fully on screen","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Use "},{"type":"codeVoice","code":".visualEffect"},{"type":"text","text":" to e.g. change view hue rotation based on view’s position in scroll view"},{"type":"text","text":" "},{"type":"text","text":"Exposes "},{"type":"codeVoice","code":"contentPlaceholder"},{"type":"text","text":" (similar to content in scrollTransition), and "},{"type":"codeVoice","code":"proxy"},{"type":"text","text":" (gives geometry values of view)"},{"type":"text","text":" "},{"type":"text","text":"You can modify scale, skew, rotation, offset, brightness, and color properties of views, for example, to create your own custom scroll view effect"}],"type":"paragraph"},{"text":"2. Color effects","anchor":"2-Color-effects","level":2,"type":"heading"},{"inlineContent":[{"type":"text","text":"Color can give app identity, focus attention, or clarify intent"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Existing support in SwiftUI:"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"Gradient types: linear, radial, angular","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Color controls: brightness, hue rotation, saturation"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Blend modes"}],"type":"paragraph"}]}],"type":"unorderedList"},{"inlineContent":[{"inlineContent":[{"type":"text","text":"New"}],"type":"strong"},{"text":": mesh gradients","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Made from grid of points"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Each point has an associated color"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"SwiftUI interpolates colors between points to create a color fill"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Points can be moved to modify color transitions"}]}]}],"type":"unorderedList"},{"code":["MeshGradient(","    width: 3,","    height: 3,","    points: [","        [0.0, 0.0], [0.5, 0.0], [1.0, 0.0],","        [0.0, 0.5], [0.9, 0.3], [1.0, 0.5],","        [0.0, 1.0], [0.5, 1.0], [1.0, 1.0]","    ],","    colors: [","        .black,.black,.black,","        .blue, .blue, .blue,","        .green, .green, .green","    ]",")"],"syntax":"swift","type":"codeListing"},{"inlineContent":[{"text":"Possible uses","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"decorative","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"match imagery"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"signal change with mesh gradient animation","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"inlineContent":[{"type":"text","text":"Play with position of control points, grid size, and color palette"}],"type":"paragraph"},{"text":"3. View transitions","anchor":"3-View-transitions","level":2,"type":"heading"},{"inlineContent":[{"type":"text","text":"Add or remove views"},{"type":"text","text":" "},{"type":"text","text":"Provide context to what changed and why"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Standard transitions like scale and opacity"},{"type":"text","text":" "},{"type":"text","text":"Combine transitions"},{"type":"text","text":" "},{"type":"text","text":"Create entirely custom transitions"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Create a new struct conforming to "},{"code":"Transition","type":"codeVoice"},{"type":"text","text":" protocol"}]}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"body"},{"type":"text","text":" function takes "},{"type":"codeVoice","code":"content"},{"type":"text","text":" and "},{"type":"codeVoice","code":"phase"},{"type":"text","text":" parameters, similar to scroll views"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Add view modifiers like "},{"code":"scaleEffect","type":"codeVoice"},{"type":"text","text":", "},{"code":"opacity","type":"codeVoice"},{"type":"text","text":", "},{"code":"blur","type":"codeVoice"},{"type":"text","text":", "},{"code":"rotationEffect","type":"codeVoice"},{"type":"text","text":","}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Check "},{"type":"codeVoice","code":"phase.isIdentity"},{"type":"text","text":", "},{"type":"codeVoice","code":"phase.willAppear"},{"type":"text","text":", and "},{"type":"codeVoice","code":"phase.willDisappear"},{"type":"text","text":" to adjust modifier effects"}]}]}],"type":"orderedList"},{"inlineContent":[{"text":"Use transitions to:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"Ease an element into view as it loads","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Introduce key information"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Make graphical element feel dynamic"}],"type":"paragraph"}]}],"type":"unorderedList"},{"text":"4. Text transitions","anchor":"4-Text-transitions","level":2,"type":"heading"},{"inlineContent":[{"type":"text","text":"Use text transitions to animate text by component, like line, word, and glyph"},{"type":"text","text":" "},{"type":"codeVoice","code":"TextRenderer"},{"type":"text","text":" new protocol to customize how text is drawn for entire view tree"}],"type":"paragraph"},{"inlineContent":[{"text":"Default rendering behavior:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"Declare a struct conforming to ","type":"text"},{"code":"TextRenderer","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Implement "},{"type":"codeVoice","code":"draw(layout: in:)"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"codeVoice","code":"Text.Layout"},{"type":"text","text":": access individual components of text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"code":"GraphicsContext","type":"codeVoice"},{"type":"text","text":" is the same as in "},{"code":"Canvas","type":"codeVoice"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"See ","type":"text"},{"inlineContent":[{"type":"text","text":"Add rich graphics to your SwiftUI app"}],"type":"strong"}],"type":"paragraph"}]}]}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"For default rendering, iterate over lines and draw in context","type":"text"}]}]}],"type":"orderedList"},{"inlineContent":[{"type":"text","text":"Example custom rendering"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"To drive a custom transition, declare properties such as: "},{"code":"elapsedTime","type":"codeVoice"},{"type":"text","text":", "},{"code":"elementDuration","type":"codeVoice"},{"type":"text","text":", "},{"code":"totalDuration","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Conform to "},{"type":"codeVoice","code":"Animatable"},{"type":"text","text":" protocol, and forward "},{"type":"codeVoice","code":"animatableData"},{"type":"text","text":" property to "},{"type":"codeVoice","code":"elapsedTime"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Distribute available time among all text layout elements","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"For each text line, update ","type":"text"},{"code":"GraphicsContext","type":"codeVoice"},{"text":" properties (like opacity, blur, translation) based on line properties such as ","type":"text"},{"code":"typographicBounds","type":"codeVoice"}],"type":"paragraph"}]}],"type":"orderedList"},{"inlineContent":[{"text":"To focus on specific elements in text, use ","type":"text"},{"code":"TextAttribute","type":"codeVoice"},{"text":" ","type":"text"},{"text":"Conform struct to ","type":"text"},{"code":"TextAttribute","type":"codeVoice"},{"text":" protocol to pass data from text to ","type":"text"},{"code":"TextRenderer","type":"codeVoice"},{"text":" ","type":"text"},{"text":"Use ","type":"text"},{"code":"customAttribute","type":"codeVoice"},{"text":" modifier with your struct to mark a SwiftUI ","type":"text"},{"code":"Text","type":"codeVoice"},{"text":" element","type":"text"}],"type":"paragraph"},{"text":"5. Metal shaders","anchor":"5-Metal-shaders","level":2,"type":"heading"},{"inlineContent":[{"type":"text","text":"Most fine-grained control. Small programs calculating effects directly on device GPU."},{"type":"text","text":" "},{"type":"text","text":"Used internally to implement many SwiftUI features, including mesh gradients"},{"type":"text","text":" "},{"type":"text","text":"Pass colors, numbers, and images to shaders to modify the effect"},{"type":"text","text":" "},{"type":"text","text":"Written in Metal, not Swift"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Uses of shaders in SwiftUI:"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Custom fills","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Color effects"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Distortion effects","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Layer effects","type":"text"}]}]}],"type":"unorderedList"},{"text":"Conclusion","anchor":"Conclusion","level":2,"type":"heading"},{"inlineContent":[{"type":"text","text":"Try experimenting with:"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Custom scroll effects"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Mesh gradients","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Custom transitions"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Text renderer","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Metal shaders","type":"text"}]}]}],"type":"unorderedList"},{"text":"Written By","anchor":"Written-By","level":2,"type":"heading"},{"numberOfColumns":5,"columns":[{"size":1,"content":[{"inlineContent":[{"type":"image","identifier":"coughski"}],"type":"paragraph"}]},{"size":4,"content":[{"text":"Kuba Szulaczkowski","anchor":"Kuba-Szulaczkowski","level":3,"type":"heading"},{"inlineContent":[{"overridingTitleInlineContent":[{"text":"Contributed Notes","type":"text"}],"type":"reference","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/coughski","isActive":true,"overridingTitle":"Contributed Notes"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","identifier":"https:\/\/github.com\/coughski","isActive":true},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","identifier":"https:\/\/","isActive":true},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"type":"reference","identifier":"https:\/\/x.com\/coughski","isActive":true}],"type":"paragraph"}]}],"type":"row"},{"type":"thematicBreak"},{"inlineContent":[{"text":"Missing anything? Corrections? ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"}],"type":"paragraph"},{"text":"Related Sessions","anchor":"Related-Sessions","level":2,"type":"heading"},{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Legal Notice","type":"text"}]}],"type":"small"},{"inlineContent":[{"type":"text","text":"All content copyright © 2012 – 2025 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}],"type":"small"}]}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc24-10151-create-custom-visual-effects-with-swiftui"]}],"references":{"coughski.jpeg":{"identifier":"coughski.jpeg","type":"image","variants":[{"url":"\/images\/WWDCNotes\/coughski.jpeg","traits":["1x","light"]}],"alt":null},"doc://WWDCNotes/documentation/WWDCNotes/WWDC24":{"title":"WWDC24","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC24","type":"topic","role":"collectionGroup","abstract":[{"text":"Xcode 16, Swift 6, iOS 18, macOS 15 (Sequoia), tvOS 18, visionOS 2, watchOS 11.","type":"text"},{"text":" ","type":"text"},{"text":"New APIs: Swift Testing, ","type":"text"},{"code":"FinanceKit","type":"codeVoice"},{"text":", ","type":"text"},{"code":"TabletopKit","type":"codeVoice"},{"text":", and more.","type":"text"}],"kind":"article","images":[{"identifier":"WWDC24-Icon.png","type":"icon"},{"identifier":"WWDC24.jpeg","type":"card"}],"url":"\/documentation\/wwdcnotes\/wwdc24"},"WWDCNotes.png":{"variants":[{"url":"\/images\/WWDCNotes\/WWDCNotes.png","traits":["1x","light"]}],"identifier":"WWDCNotes.png","type":"image","alt":null},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"titleInlineContent":[{"type":"text","text":"Contributions are welcome!"}],"type":"link","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","title":"Contributions are welcome!"},"coughski":{"identifier":"coughski","type":"image","variants":[{"url":"\/images\/WWDCNotes\/coughski.jpeg","traits":["1x","light"]}],"alt":"Profile image of Kuba Szulaczkowski"},"https://":{"url":"https:\/\/","titleInlineContent":[{"text":"Blog","type":"text"}],"title":"Blog","identifier":"https:\/\/","type":"link"},"https://developer.apple.com/wwdc24/10151":{"type":"download","identifier":"https:\/\/developer.apple.com\/wwdc24\/10151","checksum":null,"url":"https:\/\/developer.apple.com\/wwdc24\/10151"},"https://x.com/coughski":{"identifier":"https:\/\/x.com\/coughski","title":"X\/Twitter","type":"link","url":"https:\/\/x.com\/coughski","titleInlineContent":[{"text":"X\/Twitter","type":"text"}]},"doc://WWDCNotes/documentation/WWDCNotes/coughski":{"title":"Kuba Szulaczkowski (3 notes)","abstract":[{"text":"No Bio on GitHub","type":"text"}],"kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/coughski","images":[{"type":"card","identifier":"coughski.jpeg"},{"type":"icon","identifier":"coughski.jpeg"}],"url":"\/documentation\/wwdcnotes\/coughski","role":"sampleCode","type":"topic"},"doc://WWDCNotes/documentation/WWDCNotes":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","role":"collection","url":"\/documentation\/wwdcnotes","abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"images":[{"identifier":"WWDCNotes.png","type":"icon"}],"title":"WWDC Notes","type":"topic","kind":"symbol"},"WWDC24-Icon.png":{"variants":[{"url":"\/images\/WWDCNotes\/WWDC24-Icon.png","traits":["1x","light"]}],"type":"image","identifier":"WWDC24-Icon.png","alt":null},"WWDC24.jpeg":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/WWDC24.jpeg"}],"identifier":"WWDC24.jpeg","type":"image","alt":null},"https://github.com/coughski":{"identifier":"https:\/\/github.com\/coughski","title":"GitHub","type":"link","url":"https:\/\/github.com\/coughski","titleInlineContent":[{"text":"GitHub","type":"text"}]}}}