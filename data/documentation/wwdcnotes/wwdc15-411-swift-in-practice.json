{"sampleCodeDownload":{"action":{"identifier":"https:\/\/developer.apple.com\/wwdc15\/411","isActive":true,"type":"reference","overridingTitle":"Watch Video (38 min)"},"kind":"sampleDownload"},"schemaVersion":{"patch":0,"minor":3,"major":0},"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC15-411-Swift-in-Practice","interfaceLanguage":"swift"},"kind":"article","sections":[],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc15-411-swift-in-practice"]}],"abstract":[{"type":"text","text":"Learn how Swift can help you define away some common pitfalls in app development, allowing your apps to benefit from safer runtime behavior while enjoying strong guarantees provided by Swift at compile-time. Hear about how API availability checking in Swift allows you to easily take advantage of new APIs while guaranteeing safe deployment to earlier OS releases. See how enumerations and protocols can help not only maintain compile-time invariants between your app’s code and assets but also reduce boilerplate."}],"metadata":{"roleHeading":"WWDC15","modules":[{"name":"WWDC Notes"}],"title":"Swift in Practice","role":"sampleCode"},"primaryContentSections":[{"kind":"content","content":[{"type":"heading","text":"Take advantage of new APIs while deploying to older OS releases","level":2,"anchor":"Take-advantage-of-new-APIs-while-deploying-to-older-OS-releases"},{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Problem"}],"type":"strong"},{"text":": Users on different OS releases","type":"text"}]},{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Solution"}],"type":"strong"},{"text":": Adopt new features and support the older OS releases","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Always use the ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"Latest SDK"}]},{"text":" to access complete set of APIs","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Use Deployment Target to set an application’s minimum supported OS release"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Manually check Framework, Class, etc."}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Framework: manually check framework as optional"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Class: manually check if a method\/function available."}],"type":"paragraph"}]}]}]},{"content":[{"inlineContent":[{"text":"Compile-Time API Availability Checking.","type":"text"}],"type":"paragraph"}]}]},{"type":"heading","text":"Enforce expected application behavior using enums and protocols","level":2,"anchor":"Enforce-expected-application-behavior-using-enums-and-protocols"},{"type":"heading","text":"Use Case: Asset Catalog Identifiers","level":3,"anchor":"Use-Case-Asset-Catalog-Identifiers"},{"type":"codeListing","code":["extension UIImage {","    enum AssetIdentifier: String {","        case isabella = \"Isabella\"","        case william = \"William\"","        case Olivia = \"Olivia\"","    }","    ","    convenience init!(assertIdentifier: AssetIdentifier) {","        self.init(named: assertIdentifier.rawValue)","    }","}"],"syntax":"swift"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Centrally located constants"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Doesn’t pollute global namespace"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Must use one of the enum cases"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Image initialization are not failable"}],"type":"paragraph"}]}]},{"type":"heading","text":"Use Case: Segue Identifiers","level":3,"anchor":"Use-Case-Segue-Identifiers"},{"type":"codeListing","code":["class ViewController: UIViewController {","    enum SegueIdentifier: String {","        case ShowImportUnicorn = \"ShowImportUnicorn\"","        case ShowCreateNewUnicore = \"Show CreateNewUnicorn\"","    }","    ","    override func prepareForSegue(segue: UIStoryboardSegue, sender: AnyObject?) {","        guard let identifier = segue.identifier, segueIdentifier = SegueIdentifier(rawValue: identifier)","        else { fatalError(\"Invalid segue identifier \\(segue.identifier).\")}","        ","        switch segueIdentifier {","            case .ShowImportUnicorn:    \/\/ Config...","            case .ShowCreateUnicor:     \/\/ Config...","        }","    }","}"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"When new case added to enum, then the compiler will tell us switch is not exhausted.","type":"text"}]},{"type":"codeListing","code":["class ViewController: UIViewController {","    func performSegueWithIdentifier(segueIdentifier: SegueIdentifier, sender: AnyObject?) {","        performSegueWithIdentifier(segueIdentifier.rawValue, sender: sender)","    }","}"],"syntax":"swift"},{"type":"heading","text":"To avoid duplicate all of the smart solution showed above, use `Protocol`","level":3,"anchor":"To-avoid-duplicate-all-of-the-smart-solution-showed-above-use-Protocol"},{"type":"codeListing","code":["protocol SegueHandlerType {","    typealias SegueIdentifier: RawRepresentable","}","","\/\/ Shared Implementation.","extension SegueHandlerType where Self: UIViewController, SegueIdentifier.RawValue == String {","    func segueIdentifier(for segue: UIStoryboardSegue) -> SegueIdentifier {","        guard let identifier = segue.identifier,","            let segueIdentifier = SegueIdentifier(rawValue: identifier)","        else { fatalError(\"Unknown segue: \\(segue))\") }","        return segueIdentifier","    }","    ","    func performSegueWithIdentifier(segueIdentifier: SegueIdentifier, sender: AnyObject?) {","        performSegueWithIdentifier(segueIdentifier.rawValue, sender: sender)","    }","}","","class ViewController: UIViewController, SegueHandlerType {","    enum SegueIdentifier: String {","    \/\/ ...","    }","}"],"syntax":"swift"},{"type":"heading","text":"Written By","level":2,"anchor":"Written-By"},{"type":"row","columns":[{"size":1,"content":[{"inlineContent":[{"type":"image","identifier":"antonio081014"}],"type":"paragraph"}]},{"size":4,"content":[{"anchor":"Yi","type":"heading","level":3,"text":"Yi"},{"type":"paragraph","inlineContent":[{"overridingTitle":"Contributed Notes","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/antonio081014","overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}],"isActive":true,"type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/github.com\/antonio081014","isActive":true,"type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/medium.com\/@antonio081014","isActive":true,"type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/x.com\/antonio081014","isActive":true,"type":"reference"}]}]}],"numberOfColumns":5},{"type":"thematicBreak"},{"type":"paragraph","inlineContent":[{"text":"Missing anything? Corrections? ","type":"text"},{"isActive":true,"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"reference"}]},{"type":"heading","text":"Related Sessions","level":2,"anchor":"Related-Sessions"},{"type":"small","inlineContent":[{"inlineContent":[{"type":"text","text":"Legal Notice"}],"type":"strong"}]},{"type":"small","inlineContent":[{"text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved.","type":"text"},{"text":" ","type":"text"},{"text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries.","type":"text"},{"text":" ","type":"text"},{"text":"This website is not made by, affiliated with, nor endorsed by Apple.","type":"text"}]}]}],"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC15"]]},"references":{"https://github.com/antonio081014":{"type":"link","identifier":"https:\/\/github.com\/antonio081014","title":"GitHub","titleInlineContent":[{"text":"GitHub","type":"text"}],"url":"https:\/\/github.com\/antonio081014"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","titleInlineContent":[{"type":"text","text":"Contributions are welcome!"}],"type":"link","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","title":"Contributions are welcome!"},"WWDCNotes.png":{"alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/WWDCNotes.png"}],"type":"image","identifier":"WWDCNotes.png"},"https://developer.apple.com/wwdc15/411":{"type":"download","identifier":"https:\/\/developer.apple.com\/wwdc15\/411","checksum":null,"url":"https:\/\/developer.apple.com\/wwdc15\/411"},"antonio081014.jpeg":{"alt":null,"type":"image","identifier":"antonio081014.jpeg","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/antonio081014.jpeg"}]},"antonio081014":{"type":"image","variants":[{"url":"\/images\/WWDCNotes\/antonio081014.jpeg","traits":["1x","light"]}],"identifier":"antonio081014","alt":"Profile image of Yi"},"WWDC15-Icon.png":{"alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/WWDC15-Icon.png"}],"type":"image","identifier":"WWDC15-Icon.png"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC15":{"abstract":[{"text":"Xcode 7, Swift 2.0, iOS 9, macOS 10.11 (El Capitan), watchOS 2.","type":"text"}],"role":"collectionGroup","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC15","type":"topic","kind":"article","url":"\/documentation\/wwdcnotes\/wwdc15","images":[{"type":"icon","identifier":"WWDC15-Icon.png"},{"type":"card","identifier":"WWDC15.jpeg"}],"title":"WWDC15"},"doc://WWDCNotes/documentation/WWDCNotes/antonio081014":{"abstract":[{"type":"text","text":"Reveal a brilliant idea in a very mobile engineer way."}],"kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/antonio081014","images":[{"identifier":"antonio081014.jpeg","type":"card"},{"identifier":"antonio081014.jpeg","type":"icon"}],"type":"topic","url":"\/documentation\/wwdcnotes\/antonio081014","role":"sampleCode","title":"Yi (16 notes)"},"WWDC15.jpeg":{"alt":null,"type":"image","identifier":"WWDC15.jpeg","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/WWDC15.jpeg"}]},"https://x.com/antonio081014":{"type":"link","identifier":"https:\/\/x.com\/antonio081014","title":"X\/Twitter","titleInlineContent":[{"type":"text","text":"X\/Twitter"}],"url":"https:\/\/x.com\/antonio081014"},"doc://WWDCNotes/documentation/WWDCNotes":{"url":"\/documentation\/wwdcnotes","kind":"symbol","abstract":[{"text":"Session notes shared by the community for the community.","type":"text"}],"role":"collection","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","images":[{"identifier":"WWDCNotes.png","type":"icon"}],"title":"WWDC Notes"},"https://medium.com/@antonio081014":{"url":"https:\/\/medium.com\/@antonio081014","titleInlineContent":[{"text":"Blog","type":"text"}],"type":"link","title":"Blog","identifier":"https:\/\/medium.com\/@antonio081014"}}}