{"sections":[],"metadata":{"title":"Develop advanced web content","modules":[{"name":"WWDC Notes"}],"role":"sampleCode","roleHeading":"WWDC21"},"sampleCodeDownload":{"kind":"sampleDownload","action":{"type":"reference","overridingTitle":"Watch Video (36 min)","isActive":true,"identifier":"https:\/\/developer.apple.com\/wwdc21\/10030"}},"schemaVersion":{"patch":0,"major":0,"minor":3},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10030-Develop-advanced-web-content"},"abstract":[{"text":"Develop in JavaScript, WebGL, or WebAssembly? Learn how the latest updates to Safari and WebKit — including language changes to class syntax — can help simplify your development process, enhance performance, and improve security. We’ll explore several web APIs that can help provide better interoperability and bring new capabilities to your web content.","type":"text"}],"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21"]]},"kind":"article","primaryContentSections":[{"content":[{"anchor":"JavaScript-enhancements","text":"JavaScript enhancements","type":"heading","level":2},{"items":[{"content":[{"inlineContent":[{"text":"Class field syntax","type":"text"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Private instance fields and methods","type":"text"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"use "},{"type":"codeVoice","code":"#variableName"},{"type":"text","text":" instead of "},{"type":"codeVoice","code":"_variableName"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"define methods with ","type":"text"},{"code":"#methodName","type":"codeVoice"},{"text":" instead of methodName","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"applies to static fields"}],"type":"paragraph"}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Language-enforced access protection","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Public and private static fields"}],"type":"paragraph"}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Weak references","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Weakly refer to an object without preventing garbage collection: use "},{"code":"new WeakRef(object)","type":"codeVoice"},{"type":"text","text":" to held a weak reference to an object"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Get underlying object from weak reference if it exists: check via "},{"code":"deref()?","type":"codeVoice"},{"type":"text","text":" e.g. "},{"code":"weakObject.deref()?.objectMethod();","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Register notifications about objects garbage collection via ","type":"text"},{"code":"FinalizationRegistry","type":"codeVoice"},{"text":" (warning: you may not get the callback from FinalizationRegistry right way because it runs on event loop)","type":"text"}]}]}]}]},{"content":[{"inlineContent":[{"text":"Top-level await","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"available in modules"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"use "},{"type":"codeVoice","code":"await"},{"type":"text","text":" outside of a async function at the top level"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"async modules block execution of modules importing them"}],"type":"paragraph"}]}],"type":"unorderedList"}]},{"content":[{"inlineContent":[{"type":"text","text":"Module in workers"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"efficient resource utilization"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"ergonomic and performance benefits of modules (dynamic import, optimized loading and execution, and dependency management)"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"easy to move heavy work to background thread"}]}]},{"content":[{"inlineContent":[{"text":"modules are now available in different types of workers, including web worker, service worker, and worklet","type":"text"}],"type":"paragraph"}]}]}]},{"content":[{"inlineContent":[{"text":"Internationalization improvements","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"anchor":"WebAssembly-updates","text":"WebAssembly updates","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"text":"What’s WebAssembly?","type":"text"}]},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"binary instruction format for a stack-based virtual machine"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"type of a code that can be run in modern web browsers with performance close to native code"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"designed to be a portable compilation target for programming languages like C, C++, or Rust"}],"type":"paragraph"}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Enhancements:"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"bulk memory operations"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"non-trapping float-int conversions","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Sign-extension operators","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"JavaScript BigInt integration","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"reference types"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"streaming download and compilation"}]}]}],"type":"unorderedList"},{"anchor":"New-web-APIs","text":"New web APIs","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"New features\/feature updates:"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"WebGL 2.0","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Storage Access"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"WebM"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"VP9","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Media Recorder"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Audio Worklet","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Web Share","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Media Session","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Speech recognition"}],"type":"paragraph"}]}],"type":"unorderedList"},{"anchor":"Written-By","text":"Written By","type":"heading","level":2},{"columns":[{"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"zntfdr"}]}],"size":1},{"content":[{"anchor":"Federico-Zanetello","level":3,"type":"heading","text":"Federico Zanetello"},{"inlineContent":[{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","isActive":true,"overridingTitle":"Contributed Notes","overridingTitleInlineContent":[{"text":"Contributed Notes","type":"text"}],"type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/github.com\/zntfdr","isActive":true,"type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/zntfdr.dev","isActive":true,"type":"reference"}],"type":"paragraph"}],"size":4}],"numberOfColumns":5,"type":"row"},{"type":"paragraph","inlineContent":[{"text":"Missing anything? Corrections? ","type":"text"},{"type":"reference","isActive":true,"identifier":"https:\/\/wwdcnotes.github.io\/WWDCNotes\/documentation\/wwdcnotes\/contributing"}]},{"anchor":"Related-Sessions","text":"Related Sessions","type":"heading","level":2},{"style":"list","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10027-Explore-Safari-Web-Extension-improvements","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10029-Design-for-Safari-15","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10031-Discover-Web-Inspector-improvements","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10032-Explore-WKWebView-additions","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10033-Meet-privacypreserving-ad-attribution","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10104-Meet-Safari-Web-Extensions-on-iOS","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10189-Coordinate-media-playback-in-Safari-with-Group-Activities"],"type":"links"},{"type":"small","inlineContent":[{"type":"strong","inlineContent":[{"text":"Legal Notice","type":"text"}]}]},{"type":"small","inlineContent":[{"type":"text","text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}]}],"kind":"content"}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc21-10030-develop-advanced-web-content"]}],"references":{"WWDC21-Icon.png":{"alt":null,"type":"image","variants":[{"url":"\/images\/WWDC21-Icon.png","traits":["1x","light"]}],"identifier":"WWDC21-Icon.png"},"https://zntfdr.dev":{"url":"https:\/\/zntfdr.dev","titleInlineContent":[{"text":"Blog","type":"text"}],"type":"link","title":"Blog","identifier":"https:\/\/zntfdr.dev"},"https://wwdcnotes.github.io/WWDCNotes/documentation/wwdcnotes/contributing":{"type":"link","identifier":"https:\/\/wwdcnotes.github.io\/WWDCNotes\/documentation\/wwdcnotes\/contributing","titleInlineContent":[{"type":"text","text":"Contributions are welcome!"}],"title":"Contributions are welcome!","url":"https:\/\/wwdcnotes.github.io\/WWDCNotes\/documentation\/wwdcnotes\/contributing"},"zntfdr.jpeg":{"variants":[{"traits":["1x","light"],"url":"\/images\/zntfdr.jpeg"}],"type":"image","alt":null,"identifier":"zntfdr.jpeg"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10029-Design-for-Safari-15":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10029-Design-for-Safari-15","url":"\/documentation\/wwdcnotes\/wwdc21-10029-design-for-safari-15","type":"topic","title":"Design for Safari 15","kind":"article","abstract":[{"text":"Meet Safari 15: redesigned and ready to help people explore the web. Discover how you can approach designing websites and apps for Safari, and learn how to incorporate the tab bar in your designs. We’ll also take you through features like Live Text and accessibility best practices, explore the latest updates to CSS and Form Controls, and learn how to use the aspect-ratio property in CSS to create incredible websites.","type":"text"}],"role":"sampleCode"},"zntfdr":{"alt":"Profile image of Federico Zanetello","type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/zntfdr.jpeg"}],"identifier":"zntfdr"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10031-Discover-Web-Inspector-improvements":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10031-Discover-Web-Inspector-improvements","role":"sampleCode","type":"topic","kind":"article","url":"\/documentation\/wwdcnotes\/wwdc21-10031-discover-web-inspector-improvements","title":"Discover Web Inspector improvements","abstract":[{"type":"text","text":"Web Inspector provides the tools for you to understand and debug your web pages on macOS, iOS, and iPadOS. We’ll take you through the latest features and improvements to Web Inspector, including a new overlay for inspecting CSS Grid containers on your pages, even more configurable breakpoints to make debugging simpler, and the ability to create and edit Audits."}]},"https://github.com/zntfdr":{"url":"https:\/\/github.com\/zntfdr","titleInlineContent":[{"type":"text","text":"GitHub"}],"type":"link","title":"GitHub","identifier":"https:\/\/github.com\/zntfdr"},"WWDC21.jpeg":{"alt":null,"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC21.jpeg"}],"identifier":"WWDC21.jpeg"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10032-Explore-WKWebView-additions":{"kind":"article","url":"\/documentation\/wwdcnotes\/wwdc21-10032-explore-wkwebview-additions","title":"Explore WKWebView additions","role":"sampleCode","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10032-Explore-WKWebView-additions","abstract":[{"text":"Explore the latest updates to WKWebView. We’ll show you how to use APIs to manipulate web content without JavaScript, explore delegates that can help with WebRTC and Downloads, and share how you can easily create a richer web experience within your app.","type":"text"}]},"doc://WWDCNotes/documentation/WWDCNotes":{"type":"topic","title":"WWDC Notes","images":[{"identifier":"WWDCNotes.png","type":"icon"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","abstract":[{"text":"Session notes shared by the community for the community.","type":"text"}],"kind":"symbol","url":"\/documentation\/wwdcnotes","role":"collection"},"WWDCNotes.png":{"variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes.png"}],"type":"image","alt":null,"identifier":"WWDCNotes.png"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10189-Coordinate-media-playback-in-Safari-with-Group-Activities":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10189-Coordinate-media-playback-in-Safari-with-Group-Activities","title":"Coordinate media playback in Safari with Group Activities","type":"topic","kind":"article","role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc21-10189-coordinate-media-playback-in-safari-with-group-activities","abstract":[{"text":"Create SharePlay experiences that people can enjoy on the web and in your companion app. Learn how you can use the Group Activities framework in combination with a companion website to bring SharePlay to Safari, letting people connect with each other for enjoyable group interactions — even if they haven’t yet downloaded your app from the App Store.","type":"text"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10104-Meet-Safari-Web-Extensions-on-iOS":{"abstract":[{"type":"text","text":"Safari Web Extensions use HTML, CSS, and JavaScript to offer people powerful browser customizations — and you can now create them for every device that supports Safari. Learn how to build a Safari Web Extension that works for all devices, and discover how you can convert an existing extension to Safari through Xcode and the Safari Web Extension Converter."}],"role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10104-Meet-Safari-Web-Extensions-on-iOS","kind":"article","title":"Meet Safari Web Extensions on iOS","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc21-10104-meet-safari-web-extensions-on-ios"},"doc://WWDCNotes/documentation/WWDCNotes/zntfdr":{"type":"topic","role":"sampleCode","title":"Federico Zanetello (332 notes)","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","url":"\/documentation\/wwdcnotes\/zntfdr","abstract":[{"text":"Software engineer with a strong passion for well-written code, thought-out composable architectures, automation, tests, and more.","type":"text"}],"images":[{"identifier":"zntfdr.jpeg","type":"card"},{"identifier":"zntfdr.jpeg","type":"icon"}],"kind":"article"},"https://developer.apple.com/wwdc21/10030":{"checksum":null,"type":"download","identifier":"https:\/\/developer.apple.com\/wwdc21\/10030","url":"https:\/\/developer.apple.com\/wwdc21\/10030"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10027-Explore-Safari-Web-Extension-improvements":{"url":"\/documentation\/wwdcnotes\/wwdc21-10027-explore-safari-web-extension-improvements","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10027-Explore-Safari-Web-Extension-improvements","type":"topic","kind":"article","abstract":[{"type":"text","text":"Learn how you can extend Safari’s functionality with Safari Web Extensions. We’ll introduce you to the latest WebExtension APIs, explore non-persistent background page support — a particularly relevant topic if you’re developing for iOS — and discover how you can use the Declarative Net Request WebExtensions API to block content on the web. Finally, we’ll show you how to customize tabs in Safari 15."}],"title":"Explore Safari Web Extension improvements"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21":{"type":"topic","role":"collectionGroup","title":"WWDC21","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21","url":"\/documentation\/wwdcnotes\/wwdc21","abstract":[{"type":"text","text":"Xcode 13, Swift 5.5, iOS 15, macOS 12 (Monterey), tvOS 15, watchOS 8."},{"type":"text","text":" "},{"type":"text","text":"New APIs: "},{"type":"codeVoice","code":"MusicKit"},{"type":"text","text":", "},{"type":"codeVoice","code":"DocC"},{"type":"text","text":", "},{"type":"codeVoice","code":"StoreKit 2"},{"type":"text","text":", and more."}],"images":[{"type":"icon","identifier":"WWDC21-Icon.png"},{"type":"card","identifier":"WWDC21.jpeg"}],"kind":"article"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10033-Meet-privacypreserving-ad-attribution":{"url":"\/documentation\/wwdcnotes\/wwdc21-10033-meet-privacypreserving-ad-attribution","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10033-Meet-privacypreserving-ad-attribution","type":"topic","kind":"article","abstract":[{"type":"text","text":"Discover how you can measure your ad campaigns in apps and on the web without compromising privacy. We’ll introduce you to Private Click Measurement and explore SKAdNetwork, which provides you with a more secure, private, and useful way to measure your app installs."}],"title":"Meet privacy-preserving ad attribution"}}}