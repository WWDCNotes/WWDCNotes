{"metadata":{"modules":[{"name":"WWDC Notes"}],"title":"Testing in Xcode","roleHeading":"WWDC19","role":"sampleCode"},"kind":"article","hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19"]]},"sections":[],"schemaVersion":{"major":0,"minor":3,"patch":0},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc19-413-testing-in-xcode"]}],"abstract":[{"text":"Unit testing is an essential tool to consistently verify your code works correctly. Learn about the built-in testing features in Xcode, using XCTest. Find out how to organize your tests and run them under different configurations using test plans, new in Xcode 11. Discover how to automate testing and efficiently work with the results.","type":"text"}],"sampleCodeDownload":{"action":{"isActive":true,"identifier":"https:\/\/developer.apple.com\/wwdc19\/413","type":"reference","overridingTitle":"Watch Video (53 min)"},"kind":"sampleDownload"},"primaryContentSections":[{"content":[{"type":"heading","level":2,"text":"Test Pyramid","anchor":"Test-Pyramid"},{"type":"paragraph","inlineContent":[{"identifier":"WWDC19-413-pyramid","type":"image"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Manage better structure of Testing in terms of pyramid tests:"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Unit tests are simple and fast tests."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Integration tests used to validate a larger section of the code (than unit tests), it involves clusters of classes and their communication"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"User Interface tests"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Tests user facing behavior of the app. Makes sure that the app does what you expect it to do.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"(not shown) Performance Tests"}]}]},{"content":[{"inlineContent":[{"text":"They run multiple times on a given test and they look at the average timing, memory usage and other parameters to make sure we do not introduce regressions.","type":"text"}],"type":"paragraph"}]}]},{"type":"heading","level":2,"text":"Test Plans","anchor":"Test-Plans"},{"type":"paragraph","inlineContent":[{"text":"Introducing new Test Plans to managing Unit \/ UI Testing in Xcode with multiple configuration in each test plans and can run tests more than once with different settings (e.g. with different localization).","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Test plans allow to define multiple variants in one place, and then run the same scheme for all of them. This “one place” is a "},{"type":"codeVoice","code":".xctestplan"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Inside the "},{"code":".xctestplan","type":"codeVoice"},{"type":"text","text":" we have two main tabs: test and configuration."}]},{"type":"heading","level":3,"text":"Tests tab","anchor":"Tests-tab"},{"type":"paragraph","inlineContent":[{"text":"In here can see all the tests per test target, then per test class, and lastly per unit test (like you normally do on the navigator)","type":"text"}]},{"type":"heading","level":3,"text":"Configuration tab","anchor":"Configuration-tab"},{"type":"paragraph","inlineContent":[{"identifier":"WWDC19-413-conf","type":"image"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"In the left column we can have different configurations for different situations (like different localization, sanitizers and more)."}]},{"type":"paragraph","inlineContent":[{"text":"We have a basic “shared settings” configuration, where we can customize all the parameters shown above, that is inherited by all our configurations.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"Each configuration can override any parameter (set by the shared configuration or the default value).","type":"text"}]},{"type":"heading","level":2,"text":"Running Specific Configurations Only","anchor":"Running-Specific-Configurations-Only"},{"type":"paragraph","inlineContent":[{"type":"text","text":"From now on, each test will be run for every configuration defined in the "},{"type":"codeVoice","code":".xctestplan"},{"type":"text","text":" (obviously only on the configurations where the test is enabled)."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"However, if we just want to run the tests in one configuration, we can option click on the test ribbon and choose the proper configuration:"}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC19-413-runTest"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Same can be done from the tests navigator:"}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"WWDC19-413-runTest2"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"From the image above we can see also which test plan is currently active as well."}]},{"type":"heading","anchor":"Result-bundles","text":"Result bundles","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"Result bundles are files containing results of building and testing our app, they contain data such as:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"test coverage","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"test report (fail\/success)","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"build log","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"test attachments (screenshots and more)"}],"type":"paragraph"}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"These bundles can be open in Xcode to navigate and see all the details, or can be accessed via scripts with the new "},{"code":"xcresulttool","type":"codeVoice"},{"type":"text","text":" command line. This command line also outputs json files for us to use in other tools."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Beside "},{"code":"xcresulttool","type":"codeVoice"},{"type":"text","text":", this year we also get "},{"code":"xccov","type":"codeVoice"},{"type":"text","text":", which extracts the code coverage from a result bundle. It can also compare two result bundles to see if the coverage has decreased over time."}]},{"type":"heading","anchor":"Written-By","text":"Written By","level":2},{"type":"row","numberOfColumns":5,"columns":[{"size":1,"content":[{"type":"paragraph","inlineContent":[{"identifier":"zntfdr","type":"image"}]}]},{"size":4,"content":[{"type":"heading","text":"Federico Zanetello","level":3,"anchor":"Federico-Zanetello"},{"type":"paragraph","inlineContent":[{"overridingTitle":"Contributed Notes","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","isActive":true,"type":"reference","overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}]},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/github.com\/zntfdr","isActive":true,"type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/zntfdr.dev","isActive":true,"type":"reference"}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Missing anything? Corrections? "},{"type":"reference","isActive":true,"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"}]},{"type":"heading","anchor":"Related-Sessions","text":"Related Sessions","level":2},{"type":"links","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110361-Author-fast-and-reliable-tests-for-Xcode-Cloud","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10142-Build-scalable-enterprise-app-suites","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10164-XCTSkip-your-tests","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-401-Whats-New-in-Xcode-11","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-403-Creating-Great-Localized-Experiences-with-Xcode-11","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-404-Getting-Started-with-Xcode","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-417-Improving-Battery-Life-and-Performance","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-422-Designing-for-Adverse-Network-and-Temperature-Conditions","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-403-Whats-New-in-Testing"],"style":"list"},{"type":"small","inlineContent":[{"inlineContent":[{"text":"Legal Notice","type":"text"}],"type":"strong"}]},{"type":"small","inlineContent":[{"type":"text","text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}]}],"kind":"content"}],"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-413-Testing-in-Xcode","interfaceLanguage":"swift"},"references":{"WWDCNotes.png":{"identifier":"WWDCNotes.png","variants":[{"url":"\/images\/WWDCNotes.png","traits":["1x","light"]}],"type":"image","alt":null},"WWDC19-413-conf":{"identifier":"WWDC19-413-conf","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC19-413-conf.png"}],"type":"image","alt":null},"doc://WWDCNotes/documentation/WWDCNotes/WWDC18-403-Whats-New-in-Testing":{"title":"What’s New in Testing","role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc18-403-whats-new-in-testing","abstract":[{"type":"text","text":"Hear about exciting improvements to code coverage, including how you can build your own automation on top of Xcode’s coverage reports. Learn how to dramatically speed up the execution of your tests by leveraging distributed parallel testing, new in Xcode 10."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC18-403-Whats-New-in-Testing","kind":"article","type":"topic"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-401-Whats-New-in-Xcode-11":{"role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-401-Whats-New-in-Xcode-11","title":"What’s New in Xcode 11","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc19-401-whats-new-in-xcode-11","abstract":[{"text":"Start the week with a tour of new features in Xcode 11, designed to help you get from idea to product faster than ever. Discover new ways to edit and organize your source code, new capabilities for designing and previewing user interfaces, and great improvements for debugging and testing. Get an overview for sessions covering developer tools this year.","type":"text"}],"kind":"article"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10164-XCTSkip-your-tests":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10164-XCTSkip-your-tests","role":"sampleCode","type":"topic","abstract":[{"text":"Get the test results that matter — and skip the ones that don’t. Discover how you can implement XCTSkip to conditionally avoid tests at runtime. We’ll take you through how to return this new test result and better document tests beyond pass and fail within your test bundle.","type":"text"}],"title":"XCTSkip your tests","url":"\/documentation\/wwdcnotes\/wwdc20-10164-xctskip-your-tests","kind":"article"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-403-Creating-Great-Localized-Experiences-with-Xcode-11":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-403-Creating-Great-Localized-Experiences-with-Xcode-11","kind":"article","title":"Creating Great Localized Experiences with Xcode 11","url":"\/documentation\/wwdcnotes\/wwdc19-403-creating-great-localized-experiences-with-xcode-11","role":"sampleCode","type":"topic","abstract":[{"text":"Learn how your app can support per-app language settings in iOS 13. Get the details on localizing assets with asset catalogs and simplifying your localization workflow with Xcode 11. Understand how to generate screenshots in multiple languages for localization and testing.","type":"text"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10142-Build-scalable-enterprise-app-suites":{"type":"topic","title":"Build scalable enterprise app suites","role":"sampleCode","kind":"article","abstract":[{"text":"Learn how to build focused enterprise apps that work well together. In this session, we’ll introduce you to Apple Retail’s suite of enterprise apps, which help employees interact with customers, track operations, manage stores, and stay connected. Discover how Apple Retail created a unified set of apps by adopting Swift Packages and testing for app scalability. And explore how managing apps in production with configurations can help tailor app suites to different regions and locations.","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10142-Build-scalable-enterprise-app-suites","url":"\/documentation\/wwdcnotes\/wwdc20-10142-build-scalable-enterprise-app-suites"},"https://github.com/zntfdr":{"type":"link","identifier":"https:\/\/github.com\/zntfdr","titleInlineContent":[{"text":"GitHub","type":"text"}],"title":"GitHub","url":"https:\/\/github.com\/zntfdr"},"WWDC19-Icon.png":{"type":"image","identifier":"WWDC19-Icon.png","alt":null,"variants":[{"url":"\/images\/WWDC19-Icon.png","traits":["1x","light"]}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-110361-Author-fast-and-reliable-tests-for-Xcode-Cloud":{"url":"\/documentation\/wwdcnotes\/wwdc22-110361-author-fast-and-reliable-tests-for-xcode-cloud","abstract":[{"text":"Discover how you can create effective testing plans for Xcode Cloud, Apple’s continuous integration and continuous delivery service. We’ll show you how testing can be an essential tool to consistently verify your code works correctly. Learn how you can author fast, reliable, and efficient tests for Xcode Cloud, avoid irrelevant failures, and verify your code changes quickly.","type":"text"}],"role":"sampleCode","title":"Author fast and reliable tests for Xcode Cloud","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110361-Author-fast-and-reliable-tests-for-Xcode-Cloud","kind":"article"},"zntfdr":{"type":"image","identifier":"zntfdr","alt":"Profile image of Federico Zanetello","variants":[{"url":"\/images\/zntfdr.jpeg","traits":["1x","light"]}]},"zntfdr.jpeg":{"type":"image","identifier":"zntfdr.jpeg","alt":null,"variants":[{"url":"\/images\/zntfdr.jpeg","traits":["1x","light"]}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19":{"type":"topic","title":"WWDC19","role":"collectionGroup","images":[{"identifier":"WWDC19-Icon.png","type":"icon"},{"identifier":"WWDC19.jpeg","type":"card"}],"abstract":[{"text":"Xcode 11, Swift 5.1, iOS 13, macOS 10.15 (Catalina), tvOS 13, watchOS 6.","type":"text"},{"text":" ","type":"text"},{"text":"New APIs: ","type":"text"},{"type":"codeVoice","code":"Combine"},{"text":", ","type":"text"},{"type":"codeVoice","code":"Core Haptics"},{"text":", ","type":"text"},{"code":"Create ML","type":"codeVoice"},{"text":", and more.","type":"text"}],"url":"\/documentation\/wwdcnotes\/wwdc19","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19"},"WWDC19-413-runTest":{"type":"image","identifier":"WWDC19-413-runTest","alt":null,"variants":[{"url":"\/images\/WWDC19-413-runTest.png","traits":["1x","light"]}]},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"type":"link","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","titleInlineContent":[{"text":"Contributions are welcome!","type":"text"}],"title":"Contributions are welcome!","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"},"doc://WWDCNotes/documentation/WWDCNotes/zntfdr":{"type":"topic","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","url":"\/documentation\/wwdcnotes\/zntfdr","kind":"article","title":"Federico Zanetello (332 notes)","abstract":[{"type":"text","text":"Software engineer with a strong passion for well-written code, thought-out composable architectures, automation, tests, and more."}],"images":[{"type":"card","identifier":"zntfdr.jpeg"},{"type":"icon","identifier":"zntfdr.jpeg"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-404-Getting-Started-with-Xcode":{"url":"\/documentation\/wwdcnotes\/wwdc19-404-getting-started-with-xcode","title":"Getting Started with Xcode","abstract":[{"text":"Xcode is the development environment for creating great apps for Apple platforms. Find out how to take advantage of Xcode features to go all the way from a new project to App Store distribution. Along the way, you’ll learn how to navigate the Xcode user interface, how to take advantage of the source editor and live user interface previews, how to incorporate community-developed Swift packages into your app, and how to refactor and test your code, all while developing a working SwiftUI app.","type":"text"}],"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-404-Getting-Started-with-Xcode","role":"sampleCode","kind":"article"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-422-Designing-for-Adverse-Network-and-Temperature-Conditions":{"role":"sampleCode","type":"topic","abstract":[{"text":"World-class apps deliver a great user experience, even in the most strenuous environments. Learn how to use Xcode to simulate adverse network and temperature conditions. Put your app through its paces and get a firsthand view of how it performs. Hear about best practices that you can adopt to respond to challenging conditions.","type":"text"}],"kind":"article","url":"\/documentation\/wwdcnotes\/wwdc19-422-designing-for-adverse-network-and-temperature-conditions","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-422-Designing-for-Adverse-Network-and-Temperature-Conditions","title":"Designing for Adverse Network and Temperature Conditions"},"https://developer.apple.com/wwdc19/413":{"type":"download","identifier":"https:\/\/developer.apple.com\/wwdc19\/413","checksum":null,"url":"https:\/\/developer.apple.com\/wwdc19\/413"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC19-417-Improving-Battery-Life-and-Performance":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC19-417-Improving-Battery-Life-and-Performance","url":"\/documentation\/wwdcnotes\/wwdc19-417-improving-battery-life-and-performance","type":"topic","title":"Improving Battery Life and Performance","role":"sampleCode","abstract":[{"type":"text","text":"Learn about new ways to find and fix performance issues during daily development, beta testing, and public release on the App Store. Learn how to catch performance issues during daily development by measuring CPU, memory, and more in your XCTests. Discover how to find issues in the field during beta testing and public release using MetricKit. See how the Xcode Organizer now displays the most important metrics from your app aggregated from each version on the App Store."}],"kind":"article"},"doc://WWDCNotes/documentation/WWDCNotes":{"kind":"symbol","abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"role":"collection","images":[{"identifier":"WWDCNotes.png","type":"icon"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","type":"topic","url":"\/documentation\/wwdcnotes","title":"WWDC Notes"},"WWDC19.jpeg":{"identifier":"WWDC19.jpeg","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC19.jpeg"}],"type":"image","alt":null},"https://zntfdr.dev":{"identifier":"https:\/\/zntfdr.dev","title":"Blog","url":"https:\/\/zntfdr.dev","type":"link","titleInlineContent":[{"text":"Blog","type":"text"}]},"WWDC19-413-pyramid":{"identifier":"WWDC19-413-pyramid","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC19-413-pyramid.png"}],"type":"image","alt":null},"WWDC19-413-runTest2":{"identifier":"WWDC19-413-runTest2","variants":[{"url":"\/images\/WWDC19-413-runTest2.png","traits":["1x","light"]}],"type":"image","alt":null}}}