{"kind":"article","abstract":[{"text":"With device input — as with all things in life — where you put focus matters. Discover how you can move focus in your app with SwiftUI, programmatically dismiss the keyboard, and build large navigation targets from small views. Together, these APIs can help you simplify your app’s interface and make it more powerful for people to find what they need.","type":"text"}],"metadata":{"title":"Direct and reflect focus in SwiftUI","role":"sampleCode","roleHeading":"WWDC21","modules":[{"name":"WWDC Notes"}]},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21"]]},"schemaVersion":{"major":0,"minor":3,"patch":0},"sampleCodeDownload":{"kind":"sampleDownload","action":{"isActive":true,"overridingTitle":"Watch Video (11 min)","type":"reference","identifier":"https:\/\/developer.apple.com\/wwdc21\/10023"}},"primaryContentSections":[{"content":[{"anchor":"overview","level":2,"text":"Overview","type":"heading"},{"items":[{"content":[{"inlineContent":[{"text":"Focus is the system that lets your app take input from keyboards, remotes, game controllers, accessible switch controls, and other sources that – unlike touch inputs – are not tied to specific screen coordinates","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"the focus view is often drawn with special embellishments, making it easy for people to predict where their input will be directed","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"anchor":"Focus-state-API","level":2,"text":"Focus state API","type":"heading"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"new "},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/SwiftUI\/FocusState","isActive":true},{"type":"text","text":" property wrapper, which controls the placement of the app focus"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"new "},{"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/focused(_:)","type":"reference","isActive":true},{"type":"text","text":" and "},{"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/focused(_:equals:)","type":"reference","isActive":true},{"type":"text","text":" view modifiers, which bind the view focus state to the given state value"}],"type":"paragraph"}]}]},{"type":"codeListing","syntax":"swift","code":["struct LoginForm {","  enum Field: Hashable {","    case username","    case password","  }","","  @State private var username = \"\"","  @State private var password = \"\"","  @FocusState private var focusedField: Field?","","  var body: some View {","    Form {","      TextField(\"Username\", text: $username)","        .focused($focusedField, equals: .username)","","      SecureField(\"Password\", text: $password)","        .focused($focusedField, equals: .password)","","      Button(\"Sign In\", action: onSignInTap)","    }","  }","","  \/\/\/ Puts the focus on one of the text fields if their data is missing.","  func onSignInTap() {","    if username.isEmpty {","      focusedField = .username","    } else if password.isEmpty {","      focusedField = .password","    } else {","      handleLogin(username, password)","    }","  }","}"]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Note that the FocusState value is optional ("},{"type":"codeVoice","code":"Field?"},{"type":"text","text":" in the example): "},{"type":"codeVoice","code":"nil"},{"type":"text","text":" is used for cases where focus is in an unrelated part of the screen."}],"type":"paragraph"}]}]},{"type":"heading","level":2,"text":"Focus sections","anchor":"Focus-sections"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"code":"FocusState","type":"codeVoice"},{"type":"text","text":"s are not just for text fields, but can also be used to navigate the focus of the app (think browsing tvOS)"}]}]},{"content":[{"inlineContent":[{"text":"new ","type":"text"},{"type":"codeVoice","code":"focusSection()"},{"text":" view modifier, which tells SwiftUi that this view is capable of accepting focus if it contains any focusable subviews","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"this is used (in tvOS) to navigate between different\/separate focus sections of the screen","type":"text"}]}]}]},{"type":"codeListing","syntax":"swift","code":["struct ContentView: View {","","  var body: some View {","    HStack {","      VStack) {","         ...","      }","      .focusSection()","","      VStack {","        ...","      }","      .focusSection()","    }","  }","}"]},{"type":"heading","level":2,"text":"Written By","anchor":"Written-By"},{"columns":[{"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"zntfdr"}]}],"size":1},{"content":[{"type":"heading","text":"Federico Zanetello","level":3,"anchor":"Federico-Zanetello"},{"type":"paragraph","inlineContent":[{"overridingTitle":"Contributed Notes","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","isActive":true,"overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}],"type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/github.com\/zntfdr","isActive":true,"type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/zntfdr.dev","isActive":true,"type":"reference"}]}],"size":4}],"type":"row","numberOfColumns":5},{"type":"paragraph","inlineContent":[{"type":"text","text":"Missing anything? Corrections? "},{"isActive":true,"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"reference"}]},{"type":"heading","level":2,"text":"Related Sessions","anchor":"Related-Sessions"},{"style":"list","type":"links","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10075-Use-SwiftUI-with-AppKit","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10018-Whats-new-in-SwiftUI","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10120-Support-Full-Keyboard-Access-in-your-iOS-app"]},{"type":"small","inlineContent":[{"type":"strong","inlineContent":[{"text":"Legal Notice","type":"text"}]}]},{"type":"small","inlineContent":[{"type":"text","text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}]}],"kind":"content"}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc21-10023-direct-and-reflect-focus-in-swiftui"]}],"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10023-Direct-and-reflect-focus-in-SwiftUI","interfaceLanguage":"swift"},"sections":[],"references":{"zntfdr.jpeg":{"alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/zntfdr.jpeg"}],"type":"image","identifier":"zntfdr.jpeg"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10075-Use-SwiftUI-with-AppKit":{"title":"Use SwiftUI with AppKit","url":"\/documentation\/wwdcnotes\/wwdc22-10075-use-swiftui-with-appkit","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10075-Use-SwiftUI-with-AppKit","type":"topic","role":"sampleCode","abstract":[{"type":"text","text":"Discover how the Shortcuts app uses both SwiftUI and AppKit to create a top-tier experience on macOS. Follow along with the Shortcuts team as we explore how you can host SwiftUI views in AppKit code, handle layout and sizing, participate in the responder chain, enable navigational focus, and more. We’ll also show you how to host AppKit views, helping you migrate existing code into a SwiftUI layout within your app."}]},"https://developer.apple.com/documentation/swiftui/view/focused(_:equals:)":{"url":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/focused(_:equals:)","type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/focused(_:equals:)","title":"focused(_:equals:)","titleInlineContent":[{"type":"codeVoice","code":"focused(_:equals:)"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10018-Whats-new-in-SwiftUI":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10018-Whats-new-in-SwiftUI","abstract":[{"type":"text","text":"There’s never been a better time to develop your apps with SwiftUI. Discover the latest updates to the UI framework — including lists, buttons, and text fields — and learn how these features can help you more fully adopt SwiftUI in your app. Find out how to create beautiful, visually-rich graphics using the canvas view, materials, and enhancements to symbols. Explore multi-column tables on macOS, refinements to focus and keyboard interaction, and the multi-platform search API. And we’ll show you how to take advantage of features like Swift concurrency, a brand new AttributedString, format styles, localization, and so much more."}],"type":"topic","kind":"article","title":"What’s new in SwiftUI","url":"\/documentation\/wwdcnotes\/wwdc21-10018-whats-new-in-swiftui","role":"sampleCode"},"WWDC21.jpeg":{"alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC21.jpeg"}],"type":"image","identifier":"WWDC21.jpeg"},"https://zntfdr.dev":{"url":"https:\/\/zntfdr.dev","type":"link","identifier":"https:\/\/zntfdr.dev","title":"Blog","titleInlineContent":[{"text":"Blog","type":"text"}]},"WWDC21-Icon.png":{"alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC21-Icon.png"}],"type":"image","identifier":"WWDC21-Icon.png"},"https://developer.apple.com/documentation/SwiftUI/FocusState":{"url":"https:\/\/developer.apple.com\/documentation\/SwiftUI\/FocusState","type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/SwiftUI\/FocusState","title":"@FocusState","titleInlineContent":[{"type":"codeVoice","code":"@FocusState"}]},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"link","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","title":"Contributions are welcome!","titleInlineContent":[{"text":"Contributions are welcome!","type":"text"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21":{"url":"\/documentation\/wwdcnotes\/wwdc21","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21","title":"WWDC21","kind":"article","images":[{"type":"icon","identifier":"WWDC21-Icon.png"},{"type":"card","identifier":"WWDC21.jpeg"}],"role":"collectionGroup","abstract":[{"text":"Xcode 13, Swift 5.5, iOS 15, macOS 12 (Monterey), tvOS 15, watchOS 8.","type":"text"},{"text":" ","type":"text"},{"text":"New APIs: ","type":"text"},{"code":"MusicKit","type":"codeVoice"},{"text":", ","type":"text"},{"code":"DocC","type":"codeVoice"},{"text":", ","type":"text"},{"code":"StoreKit 2","type":"codeVoice"},{"type":"text","text":", and more."}],"type":"topic"},"https://developer.apple.com/documentation/swiftui/view/focused(_:)":{"titleInlineContent":[{"type":"codeVoice","code":"focused(_:)"}],"url":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/focused(_:)","type":"link","title":"focused(_:)","identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/focused(_:)"},"doc://WWDCNotes/documentation/WWDCNotes/zntfdr":{"url":"\/documentation\/wwdcnotes\/zntfdr","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","title":"Federico Zanetello (332 notes)","kind":"article","images":[{"identifier":"zntfdr.jpeg","type":"card"},{"identifier":"zntfdr.jpeg","type":"icon"}],"role":"sampleCode","abstract":[{"text":"Software engineer with a strong passion for well-written code, thought-out composable architectures, automation, tests, and more.","type":"text"}],"type":"topic"},"WWDCNotes.png":{"alt":null,"type":"image","variants":[{"url":"\/images\/WWDCNotes.png","traits":["1x","light"]}],"identifier":"WWDCNotes.png"},"https://developer.apple.com/wwdc21/10023":{"url":"https:\/\/developer.apple.com\/wwdc21\/10023","checksum":null,"type":"download","identifier":"https:\/\/developer.apple.com\/wwdc21\/10023"},"https://github.com/zntfdr":{"titleInlineContent":[{"text":"GitHub","type":"text"}],"url":"https:\/\/github.com\/zntfdr","type":"link","title":"GitHub","identifier":"https:\/\/github.com\/zntfdr"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10120-Support-Full-Keyboard-Access-in-your-iOS-app":{"title":"Support Full Keyboard Access in your iOS app","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10120-Support-Full-Keyboard-Access-in-your-iOS-app","kind":"article","url":"\/documentation\/wwdcnotes\/wwdc21-10120-support-full-keyboard-access-in-your-ios-app","role":"sampleCode","abstract":[{"type":"text","text":"iPhone and iPad support numerous input modes for those with motor impairments, including touch interaction modification, Switch Control, and Full Keyboard Access. We’ll explore how people can interact with their devices solely through keyboard input, working through a real-life example to discover key APIs. We’ll also take you through some best practices for supporting motor accessibility when you integrate Full Keyboard Access in your apps."}]},"doc://WWDCNotes/documentation/WWDCNotes":{"kind":"symbol","type":"topic","title":"WWDC Notes","role":"collection","images":[{"type":"icon","identifier":"WWDCNotes.png"}],"abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","url":"\/documentation\/wwdcnotes"},"zntfdr":{"alt":"Profile image of Federico Zanetello","type":"image","variants":[{"url":"\/images\/zntfdr.jpeg","traits":["1x","light"]}],"identifier":"zntfdr"}}}