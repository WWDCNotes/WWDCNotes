{"schemaVersion":{"patch":0,"major":0,"minor":3},"metadata":{"role":"sampleCode","title":"Meet Transferable","roleHeading":"WWDC22","modules":[{"name":"WWDC Notes"}]},"sections":[],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc22-10062-meet-transferable"]}],"primaryContentSections":[{"content":[{"text":"Overview","anchor":"overview","type":"heading","level":2},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"sharing is now supported on watchOS 9"}],"type":"paragraph"}]}]},{"text":"Content type (Uniform type identifier - UTI)","anchor":"Content-type-Uniform-type-identifier-UTI","type":"heading","level":2},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Apple-specific technology that describes identifiers for different binary structures as well as abstract concepts"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"in order to declare a custom identifier:","type":"text"}]},{"type":"orderedList","items":[{"content":[{"inlineContent":[{"text":"add its declaration to your app ","type":"text"},{"text":"Info.plist","type":"text"},{"text":" file","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"(recommended) create a file extension: if the data is saved on disk, the system will know that your app can open that file"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"declare it in code"}]}]}]}]}]},{"syntax":"swift","type":"codeListing","code":["import UniformTypeIdentifiers","","\/\/ also declare the content type in the Info.plist","extension UTType {","  static var profile: UTType = UTType(exportedAs: \"com.example.profile\")","}"]},{"text":"`Transferable`","anchor":"Transferable","type":"heading","level":2},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Swift-first declarative way to describe how your models can be serialized and deserialized for sharing and data transfer"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"supports standard "},{"type":"codeVoice","code":"Transferable"},{"type":"text","text":" types: "},{"type":"codeVoice","code":"String"},{"type":"text","text":", "},{"type":"codeVoice","code":"Data"},{"type":"text","text":", "},{"type":"codeVoice","code":"URL"},{"type":"text","text":", Attributed String, "},{"type":"codeVoice","code":"Image"}]}]}]},{"text":"Use example","anchor":"Use-example","type":"heading","level":3},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"new ","type":"text"},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/pastebutton"},{"text":":","type":"text"}]}]}]},{"syntax":"swift","type":"codeListing","code":["var body: some View {","  \/\/ üëáüèª allow pasting a Transferable type","  PasteButton(payloadType: String.self) { pastedString in","    \/\/ ...","  }","}"]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"new "},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/draggable(_:)","isActive":true},{"type":"text","text":" and "},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/dropdestination(payloadtype:action:istargeted:)","isActive":true},{"type":"text","text":" modifiers:"}]}]}]},{"syntax":"swift","type":"codeListing","code":["struct PortraitView: View {","  @State var portrait: Image \/\/ üëàüèª Transferable type","","  var body: some View {","    portrait","      .cornerRadius(8)","      .draggable(portrait) \/\/ üëàüèª drag support","      .dropDestination(payloadType: Image.self) { (images: [Image], _) in \/\/ üëàüèª drop support","        if let image = images.first {","          portrait = image","          return true","        }","        return false","      }","  }","}"]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"new "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/sharelink"},{"type":"text","text":":"}],"type":"paragraph"}]}]},{"syntax":"swift","type":"codeListing","code":["var body: some View {","  VStack {","    portrait","    Text(model.name)","  }","  .toolbar {","    ShareLink(item: portrait, preview: SharePreview(model.name))","  }","}"]},{"text":"Conforming custom types to `Transferable`","anchor":"Conforming-custom-types-to-Transferable","type":"heading","level":2},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"Transferable"},{"text":" definition:","type":"text"}]}]}]},{"syntax":"swift","type":"codeListing","code":["public protocol Transferable {","  associatedtype Representation: TransferRepresentation","","  @TransferRepresentationBuilder<Self> static var transferRepresentation: Self.Representation { get }","}","","public protocol TransferRepresentation: Sendable {","  associatedtype Item: Transferable","  associatedtype Body: TransferRepresentation","","  @TransferRepresentationBuilder<Self.Item> var body: Self.Body { get }","}"]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"to conform a type to ","type":"text"},{"code":"Transferable","type":"codeVoice"},{"text":", there‚Äôs only one property to implement: ","type":"text"},{"code":"transferRepresentation","type":"codeVoice"},{"text":" (of type ","type":"text"},{"code":"TransferRepresentation","type":"codeVoice"},{"text":")","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"There are three important representations to be aware of:"}]}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"CodableRepresentation"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"DataRepresentation"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"FileRepresentation"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"if our type conforms to "},{"type":"codeVoice","code":"Codable"},{"type":"text","text":", we can use the "},{"type":"codeVoice","code":"CodableRepresentation"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"by default "},{"code":"Transferable","type":"codeVoice"},{"type":"text","text":" uses a "},{"code":"JSONEncoder","type":"codeVoice"},{"type":"text","text":"\/"},{"code":"JSONDecoder","type":"codeVoice"},{"type":"text","text":" , but you can provide your own"}],"type":"paragraph"}]}],"type":"unorderedList"}]}]},{"syntax":"swift","type":"codeListing","code":["import CoreTransferable","import UniformTypeIdentifiers","","struct Profile: Codable, Transferable { \/\/ üëàüèª","  var id: UUID","  var name: String","  var bio: String","  var funFacts: [String]","  var video: URL?","  var portrait: URL?","","  \/\/ MARK: Transferable","","  static var transferRepresentation: some TransferRepresentation { \/\/ üëàüèª","    CodableRepresentation(contentType: .profile)","  }","}","","\/\/ also declare the content type in the Info.plist","extension UTType {","  static var profile: UTType = UTType(exportedAs: \"com.example.profile\")","}"]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"DataRepresentation"},{"type":"text","text":" vs. "},{"type":"codeVoice","code":"FileRepresentation"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"choose the former if the model is always in-memory"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"choose the latter if the model can be stored on disk","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"FileRepresentation","type":"codeVoice"},{"text":" is intended to work with the URLs written to disk, and ensure receivers‚Äô access to this file or its copy by granting a temporary sandbox extension","type":"text"}]}]}],"type":"unorderedList"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"we can pass multiple representations in the "},{"type":"codeVoice","code":"transferRepresentation"},{"type":"text","text":" property"}]},{"items":[{"content":[{"inlineContent":[{"text":"the receiver will use the first representation with the content type they support.","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"}]}]},{"syntax":"swift","type":"codeListing","code":["import CoreTransferable","import UniformTypeIdentifiers","","struct Profile: Codable {","  var id: UUID","  var name: String","  var bio: String","  var funFacts: [String]","  var video: URL?","  var portrait: URL?","}","","extension Profile: Transferable {","  static var transferRepresentation: some TransferRepresentation {","  CodableRepresentation(contentType: .profile) \/\/ üëàüèª first representation","  ProxyRepresentation(exporting: \\.name) \/\/ üëàüèª alternative representation","  }","}","","\/\/ also declare the content type in the Info.plist","extension UTType {","  static var profile: UTType = UTType(exportedAs: \"com.example.profile\")","}"]},{"text":"Written By","anchor":"Written-By","type":"heading","level":2},{"numberOfColumns":5,"columns":[{"size":1,"content":[{"type":"paragraph","inlineContent":[{"identifier":"zntfdr","type":"image"}]}]},{"size":4,"content":[{"level":3,"type":"heading","text":"Federico Zanetello","anchor":"Federico-Zanetello"},{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","overridingTitle":"Contributed Notes","overridingTitleInlineContent":[{"text":"Contributed Notes","type":"text"}],"isActive":true,"type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/github.com\/zntfdr","isActive":true,"type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/zntfdr.dev","isActive":true,"type":"reference"}]}]}],"type":"row"},{"type":"thematicBreak"},{"type":"paragraph","inlineContent":[{"text":"Missing anything? Corrections? ","type":"text"},{"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","isActive":true,"type":"reference"}]},{"text":"Related Sessions","anchor":"Related-Sessions","type":"heading","level":2},{"style":"list","type":"links","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10052-Whats-new-in-SwiftUI","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10093-Integrate-your-custom-collaboration-app-with-Messages","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10095-Enhance-collaboration-experiences-with-Messages","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10133-Build-a-productivity-app-for-Apple-Watch"]},{"type":"small","inlineContent":[{"inlineContent":[{"type":"text","text":"Legal Notice"}],"type":"strong"}]},{"type":"small","inlineContent":[{"type":"text","text":"All content copyright ¬© 2012 ‚Äì 2024 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}]}],"kind":"content"}],"kind":"article","identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10062-Meet-Transferable","interfaceLanguage":"swift"},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22"]]},"abstract":[{"type":"text","text":"Meet Transferable: a model-layer protocol that allows for effortless support for sharing, drag and drop, copy\/paste, and other features in your app."}],"sampleCodeDownload":{"action":{"overridingTitle":"Watch Video (14 min)","identifier":"https:\/\/developer.apple.com\/wwdc22\/10062","type":"reference","isActive":true},"kind":"sampleDownload"},"references":{"doc://WWDCNotes/documentation/WWDCNotes/zntfdr":{"abstract":[{"text":"Software engineer with a strong passion for well-written code, thought-out composable architectures, automation, tests, and more.","type":"text"}],"kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","role":"sampleCode","title":"Federico Zanetello (332 notes)","type":"topic","url":"\/documentation\/wwdcnotes\/zntfdr","images":[{"type":"card","identifier":"zntfdr.jpeg"},{"type":"icon","identifier":"zntfdr.jpeg"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22":{"abstract":[{"text":"Xcode 14, Swift 5.7, iOS 16, macOS 13 (Ventura), tvOS 16, watchOS 9.","type":"text"},{"text":" ","type":"text"},{"text":"New APIs: ","type":"text"},{"type":"codeVoice","code":"WeatherKit"},{"text":", ","type":"text"},{"type":"codeVoice","code":"ScreenCaptureKit"},{"text":", ","type":"text"},{"type":"codeVoice","code":"Swift Regex"},{"text":", and more.","type":"text"}],"kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22","role":"collectionGroup","title":"WWDC22","type":"topic","url":"\/documentation\/wwdcnotes\/wwdc22","images":[{"identifier":"WWDC22-Icon.png","type":"icon"},{"identifier":"WWDC22.jpeg","type":"card"}]},"https://developer.apple.com/documentation/swiftui/view/dropdestination(payloadtype:action:istargeted:)":{"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/dropdestination(payloadtype:action:istargeted:)","titleInlineContent":[{"code":"dropDestination(payloadType:action:isTargeted:)","type":"codeVoice"}],"type":"link","url":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/dropdestination(payloadtype:action:istargeted:)","title":"dropDestination(payloadType:action:isTargeted:)"},"https://developer.apple.com/documentation/swiftui/sharelink":{"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/sharelink","title":"ShareLink","titleInlineContent":[{"code":"ShareLink","type":"codeVoice"}],"url":"https:\/\/developer.apple.com\/documentation\/swiftui\/sharelink","type":"link"},"doc://WWDCNotes/documentation/WWDCNotes":{"url":"\/documentation\/wwdcnotes","kind":"symbol","images":[{"identifier":"WWDCNotes.png","type":"icon"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","abstract":[{"text":"Session notes shared by the community for the community.","type":"text"}],"type":"topic","role":"collection","title":"WWDC Notes"},"https://zntfdr.dev":{"type":"link","title":"Blog","titleInlineContent":[{"type":"text","text":"Blog"}],"url":"https:\/\/zntfdr.dev","identifier":"https:\/\/zntfdr.dev"},"https://developer.apple.com/wwdc22/10062":{"checksum":null,"identifier":"https:\/\/developer.apple.com\/wwdc22\/10062","url":"https:\/\/developer.apple.com\/wwdc22\/10062","type":"download"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10133-Build-a-productivity-app-for-Apple-Watch":{"role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc22-10133-build-a-productivity-app-for-apple-watch","abstract":[{"type":"text","text":"Your wrist has never been more productive. Discover how you can use SwiftUI and system features to build a great productivity app for Apple Watch. We‚Äôll show you how you can design great work experiences for the wrist, and explore how you can get text input, display a basic chart, and share content with friends."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10133-Build-a-productivity-app-for-Apple-Watch","type":"topic","title":"Build a productivity app for Apple Watch","kind":"article"},"https://developer.apple.com/documentation/swiftui/pastebutton":{"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/pastebutton","title":"PasteButton","titleInlineContent":[{"type":"codeVoice","code":"PasteButton"}],"url":"https:\/\/developer.apple.com\/documentation\/swiftui\/pastebutton","type":"link"},"https://github.com/zntfdr":{"identifier":"https:\/\/github.com\/zntfdr","titleInlineContent":[{"type":"text","text":"GitHub"}],"type":"link","url":"https:\/\/github.com\/zntfdr","title":"GitHub"},"zntfdr":{"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/zntfdr.jpeg"}],"identifier":"zntfdr","alt":"Profile image of Federico Zanetello"},"https://developer.apple.com/documentation/swiftui/view/draggable(_:)":{"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/draggable(_:)","title":"draggable(_:)","titleInlineContent":[{"type":"codeVoice","code":"draggable(_:)"}],"url":"https:\/\/developer.apple.com\/documentation\/swiftui\/view\/draggable(_:)","type":"link"},"WWDC22-Icon.png":{"identifier":"WWDC22-Icon.png","alt":null,"type":"image","variants":[{"url":"\/images\/WWDCNotes\/WWDC22-Icon.png","traits":["1x","light"]}]},"zntfdr.jpeg":{"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/zntfdr.jpeg"}],"identifier":"zntfdr.jpeg","alt":null},"WWDCNotes.png":{"identifier":"WWDCNotes.png","alt":null,"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/WWDCNotes.png"}]},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","titleInlineContent":[{"type":"text","text":"Contributions are welcome!"}],"type":"link","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","title":"Contributions are welcome!"},"WWDC22.jpeg":{"type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/WWDC22.jpeg"}],"identifier":"WWDC22.jpeg","alt":null},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10095-Enhance-collaboration-experiences-with-Messages":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10095-Enhance-collaboration-experiences-with-Messages","abstract":[{"type":"text","text":"Discover how you can help improve communication and collaboration in your app with Collaboration in Messages. Learn how to tie a document to Messages conversations for simple sharing and discussion. Explore how you can keep everyone in the conversation up to date on the latest activity in the document. And find out how you can add customizable UI in your app to manage collaboration details and connect documents to Messages conversations and FaceTime calls."}],"title":"Enhance collaboration experiences with Messages","url":"\/documentation\/wwdcnotes\/wwdc22-10095-enhance-collaboration-experiences-with-messages","kind":"article","role":"sampleCode","type":"topic"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10093-Integrate-your-custom-collaboration-app-with-Messages":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10093-Integrate-your-custom-collaboration-app-with-Messages","abstract":[{"text":"Discover how the SharedWithYou framework can augment your app‚Äôs collaboration infrastructure. We‚Äôll show you how to send secure invitations to collaborative content and synchronize participant changes. We‚Äôll also cover displaying content updates within the relevant conversation.","type":"text"}],"title":"Integrate your custom collaboration app with Messages","url":"\/documentation\/wwdcnotes\/wwdc22-10093-integrate-your-custom-collaboration-app-with-messages","kind":"article","role":"sampleCode","type":"topic"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10052-Whats-new-in-SwiftUI":{"role":"sampleCode","url":"\/documentation\/wwdcnotes\/wwdc22-10052-whats-new-in-swiftui","abstract":[{"text":"It‚Äôs a SwiftUI party ‚Äî and you‚Äôre invited! Join us as we share the latest updates and a glimpse into the future of UI framework design. Discover deep levels of customization, advanced techniques for layout, elegant strategies for sharing, and rock-solid structural approaches for designing an app top-to-bottom in SwiftUI. We‚Äôll also have some celebratory fun as we play with the latest graphical effects and explore APIs.","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10052-Whats-new-in-SwiftUI","type":"topic","title":"What‚Äôs new in SwiftUI","kind":"article"}}}