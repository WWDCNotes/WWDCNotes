{"sections":[],"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23"]]},"schemaVersion":{"major":0,"patch":0,"minor":3},"metadata":{"role":"sampleCode","title":"Dive deeper into SwiftData","modules":[{"name":"WWDC Notes"}],"roleHeading":"WWDC23"},"kind":"article","sampleCodeDownload":{"kind":"sampleDownload","action":{"isActive":true,"type":"reference","overridingTitle":"Watch Video (15 min)","identifier":"https:\/\/developer.apple.com\/wwdc23\/10196"}},"primaryContentSections":[{"kind":"content","content":[{"level":2,"type":"heading","text":"Overview","anchor":"overview"},{"type":"paragraph","inlineContent":[{"text":"Speaker: Nick Gillett, SwiftData Engineer","type":"text"}]},{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"NOTE: Watch “Meet SwiftData” and “Model your schema with SwiftData” first.","type":"text"}],"type":"strong"}]},{"level":2,"type":"heading","text":"Configuring persistence","anchor":"Configuring-persistence"},{"level":3,"type":"heading","text":"Model","anchor":"Model"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Uses types you already use.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"@Model"},{"text":" macro describes the schema and is used for instances in code.","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Inferred or explicit structure.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Offers deep customization."}]}]}],"type":"unorderedList"},{"name":"Note","type":"aside","content":[{"inlineContent":[{"text":"The Schema is applied to a class called the ","type":"text"},{"code":"ModelContainer","type":"codeVoice"},{"text":" to describe how data should be persisted.","type":"text"}],"type":"paragraph"}],"style":"note"},{"name":"Note","type":"aside","content":[{"inlineContent":[{"type":"text","text":"The "},{"code":"ModelContainer","type":"codeVoice"},{"type":"text","text":" consumes the Schema to generate a database that can hold instances of the "},{"code":"Model","type":"codeVoice"},{"type":"text","text":" classes."}],"type":"paragraph"}],"style":"note"},{"name":"Note","type":"aside","content":[{"inlineContent":[{"text":"When working with instances of a ","type":"text"},{"code":"Model","type":"codeVoice"},{"text":" class in code, those instances are linked to a ","type":"text"},{"code":"ModelContext","type":"codeVoice"},{"text":" which tracks and manages their state in memory.","type":"text"}],"type":"paragraph"}],"style":"note"},{"level":3,"type":"heading","text":"ModelContainer","anchor":"ModelContainer"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"The bridge between the Schema and its persistence.","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"It holds descriptions about how objects are stored, like whether they’re in memory, or on disk."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Knows about versioning, migration, and graph separation.","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"code":["\/\/ ModelContainer initialized with just Trip","let container = try ModelContainer(for: Trip.self)","","\/\/ SwiftData infers related model classes as well","let container = try ModelContainer(","    for: [","        Trip.self, ","        BucketListItem.self, ","        LivingAccommodation.self","    ]",")"],"syntax":"swift","type":"codeListing"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"type":"codeVoice","code":"ModelContainer"},{"type":"text","text":" is added to a "},{"type":"codeVoice","code":"View"},{"type":"text","text":" or "},{"type":"codeVoice","code":"Scene"},{"type":"text","text":" by using the "},{"type":"codeVoice","code":".modelContainer()"},{"type":"text","text":" modifier."}]},{"type":"paragraph","inlineContent":[{"text":"For more advanced use cases the ","type":"text"},{"code":"ModelContainer","type":"codeVoice"},{"text":" can be instantiated with a ","type":"text"},{"code":"ModelConfiguration","type":"codeVoice"},{"text":".","type":"text"}]},{"level":3,"type":"heading","text":"ModelConfiguration","anchor":"ModelConfiguration"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Describes the persistence of a Schema.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Controls where data is stored, like in memory for transient data or on disk for persistent data."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Can use a specific file URL chosen by you, or it can generate one automatically using the entitlements of your application like the group container entitlement."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Can describe that a persistence file should be loaded in a read only mode, preventing writes to sensitive or template data."}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Applications that use more than one CloudKit container can specify it as part of the `ModelConfiguration``for a Schema."}],"type":"paragraph"}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"text":"Here is an example, where some schemas (trip, bucket list item and living accommodation) are in one store and others (person, address) are in another store:","type":"text"}]},{"code":["let fullSchema = Schema([","    Trip.self,","    BucketListItem.self,","    LivingAccommodations.self,","    Person.self,","    Address.self","])","","let trips = ModelConfiguration(","    schema: Schema([","        Trip.self,","        BucketListItem.self,","        LivingAccommodations.self","    ]),","    url: URL(filePath: \"\/path\/to\/trip.store\"),","    cloudKitContainerIdentifier: \"com.example.trips\"",")","","let people = ModelConfiguration(","    schema: Schema([Person.self, Address.self]),","    url: URL(filePath: \"\/path\/to\/people.store\"),","    cloudKitContainerIdentifier: \"com.example.people\"",") ","","let container = try ModelContainer(for: fullSchema, trips, people)"],"syntax":"swift","type":"codeListing"},{"name":"Note","type":"aside","content":[{"inlineContent":[{"type":"text","text":"With the power of ModelConfiguration, it’s easy to describe the persistence requirements of your application, no matter how complicated they may be."}],"type":"paragraph"}],"style":"note"},{"level":2,"type":"heading","text":"Track and persist changes","anchor":"Track-and-persist-changes"},{"level":3,"type":"heading","text":"ModelContext","anchor":"ModelContext"},{"items":[{"content":[{"inlineContent":[{"text":"Tracks objects in use","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Propagates changes to "},{"type":"codeVoice","code":"ModelContainer"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Clear changes with rollback or reset"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Undo\/redo support","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Autosave","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"name":"Note","type":"aside","content":[{"type":"paragraph","inlineContent":[{"text":"When we use the ","type":"text"},{"type":"codeVoice","code":".modelContainer()"},{"text":" modifier in view or scene code, it prepares the application’s environment in a specific way. The modifier binds the new ","type":"text"},{"type":"codeVoice","code":"\\.modelContext"},{"text":" key in the environment to the container’s mainContext.","type":"text"}]}],"style":"note"},{"name":"Note","type":"aside","content":[{"inlineContent":[{"type":"text","text":"The main context is a special "},{"type":"codeVoice","code":"MainActor"},{"type":"text","text":"-aligned model context intended for working with ModelObjects in scenes and views. By using the model context from the environment, view code has easy access to the context used by the "},{"type":"codeVoice","code":"@Query"},{"type":"text","text":" here so that it can perform actions like delete here."}],"type":"paragraph"}],"style":"note"},{"code":["struct ContentView: View {","    @Query var trips: [Trip]   <------- Fetch objects","    @Environment(\\.modelContext) var modelContext","  ","    var body: some View {","        NavigationStack (path: $path) {","            List(selection: $selection) {","                ForEach(trips) { trip in","                    TripListItem(trip: trip)","                        .swipeActions(edge: .trailing) {","                            Button(role: .destructive) {","                                modelContext.delete(trip)   <------- Delete object","                            } label: {","                                Label(\"Delete\", systemImage: \"trash\")","                            }","                        }","                }","                .onDelete(perform: deleteTrips(at:))","            }","        }","    }","}"],"syntax":"swift","type":"codeListing"},{"level":4,"type":"heading","text":"Undo\/redo","anchor":"Undoredo"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Automatically registers actions","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"code":".modelContainer()","type":"codeVoice"},{"text":" uses the environment’s ","type":"text"},{"code":"\\.undoManager","type":"codeVoice"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Support standard system gestures","type":"text"}]}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"text":"When undo is enabled, “shake-to-undo” and three finger swipes can be used to undo or redo changes with no additional code.","type":"text"}]},{"code":["@main","struct TripsApp: App {","   @Environment(\\.undoManager) var undoManager","   var body: some Scene {","        WindowGroup {","            ContentView()","        }","        .modelContainer(for: Trip.self, isUndoEnabled: true)","    }","}"],"syntax":"swift","type":"codeListing"},{"level":4,"type":"heading","text":"Autosave","anchor":"Autosave"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Main context automatically saves","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Will save in response to system events like an application entering the foreground or background"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Will also periodically save as an application is used","type":"text"}]}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Autosave is enabled by default, but can be disabled if desired using the "},{"type":"codeVoice","code":".modelContainer()"},{"type":"text","text":" modifier’s "},{"type":"codeVoice","code":"isAutosaveEnabled"},{"type":"text","text":" argument."}]},{"name":"Note","type":"aside","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Autosave is disabled for model contexts created by hand."}]}],"style":"note"},{"code":["@main","struct TripsApp: App {","   var body: some Scene {","        WindowGroup {","            ContentView()","        }","        .modelContainer(for: Trip.self, isAutosaveEnabled: false)","    }","}"],"syntax":"swift","type":"codeListing"},{"level":2,"type":"heading","text":"Modeling at scale","anchor":"Modeling-at-scale"},{"name":"Note","type":"aside","content":[{"inlineContent":[{"text":"Tasks like working with data on a background queue, syncing with a remote server or other persistence mechanism, and batch processing all work with model objects, frequently in sets or graphs.","type":"text"}],"type":"paragraph"}],"style":"note"},{"level":3,"type":"heading","text":"`FetchDescriptor`","anchor":"FetchDescriptor"},{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"FetchDescriptor"},{"type":"text","text":" uses the new "},{"type":"codeVoice","code":"Predicate"},{"type":"text","text":" macro."}]},{"name":"Note","type":"aside","content":[{"inlineContent":[{"code":"Predicate","type":"codeVoice"},{"text":" uses the Models you create and SwiftData uses the Schema generated from those models to translate these predicates into database queries. ","type":"text"},{"code":"FetchDescriptor","type":"codeVoice"},{"text":" combines the power of the new Foundation ","type":"text"},{"code":"Predicate","type":"codeVoice"},{"text":" macro with the Schema to bring compiler validated queries to persistence.","type":"text"}],"type":"paragraph"}],"style":"note"},{"name":"Note","type":"aside","content":[{"inlineContent":[{"type":"codeVoice","code":"FetchDescriptor"},{"type":"text","text":" and related classes, like "},{"type":"codeVoice","code":"SortDescriptor"},{"type":"text","text":", use generics to form the result type and tell the compiler about the properties of the model you can use. There are a number of tuning options you’ve come to know and love, like offset and limit, as well as parameters for faulting and prefetching."}],"type":"paragraph"}],"style":"note"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Fetching objects is easy and requires no casting:"}]},{"code":["let context = self.newSwiftContext(from: Trip.self)","var trips = try context.fetch(FetchDescriptor<Trip>())"],"syntax":"swift","type":"codeListing"},{"type":"paragraph","inlineContent":[{"text":"Fetching object with a predicate:","type":"text"}]},{"code":["let context = self.newSwiftContext(from: Trip.self)","let hotelNames = [\"First\", \"Second\", \"Third\"]","","var predicate = #Predicate<Trip> { trip in","    trip.livingAccommodations.filter {","        hotelNames.contains($0.placeName)","    }.count > 0","}","","var descriptor = FetchDescriptor(predicate: predicate)","var trips = try context.fetch(descriptor)"],"syntax":"swift","type":"codeListing"},{"level":3,"type":"heading","text":"Enumerate function on `ModelContext`","anchor":"Enumerate-function-on-ModelContext"},{"name":"Note","type":"aside","content":[{"inlineContent":[{"text":"Designed to help make the foiblesome pattern of batch traversal and enumeration implicitly efficient by encapsulating the platform best practices at a single call site.","type":"text"}],"type":"paragraph"}],"style":"note"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Works great with ","type":"text"},{"code":"FetchDescriptor","type":"codeVoice"},{"text":"s regardless of their complexity","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Implements platform best practices for traversals like batching and mutation guards"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Batch size is default set to 5000 objects"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Could be set to 10000 to reduce I\/O at the expense of memory growth","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"For heavier data graphs it could be lowered at the expense of more I\/O","type":"text"}]}]}]}]}],"type":"unorderedList"},{"name":"Note","type":"aside","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"One of the most frequent causes of performance issues with large traversals is mutations that are trapped in the context during the enumeration. "},{"type":"codeVoice","code":"allowEscapingMutations"},{"type":"text","text":" tells enumerate that this is intentional, when not set, enumerate will throw if it discovers that the ModelContext performing the enumeration is dirty, preventing it from freeing objects that were already traversed."}]}],"style":"note"},{"level":2,"type":"heading","text":"Written By","anchor":"Written-By"},{"columns":[{"content":[{"type":"paragraph","inlineContent":[{"identifier":"MortenGregersen","type":"image"}]}],"size":1},{"content":[{"type":"heading","anchor":"Morten-Bjerg-Gregersen","level":3,"text":"Morten Bjerg Gregersen"},{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/MortenGregersen","overridingTitleInlineContent":[{"text":"Contributed Notes","type":"text"}],"isActive":true,"overridingTitle":"Contributed Notes","type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/github.com\/MortenGregersen","isActive":true,"type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"http:\/\/atterdagapps.com","isActive":true,"type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/x.com\/mortengregersen","isActive":true,"type":"reference"}]}],"size":4}],"numberOfColumns":5,"type":"row"},{"type":"paragraph","inlineContent":[{"text":"Missing anything? Corrections? ","type":"text"},{"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","isActive":true,"type":"reference"}]},{"level":2,"type":"heading","text":"Related Sessions","anchor":"Related-Sessions"},{"items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10149-Discover-Observation-in-SwiftUI","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10154-Build-an-app-with-SwiftData","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10187-Meet-SwiftData","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10189-Migrate-to-SwiftData","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10195-Model-your-schema-with-SwiftData"],"type":"links","style":"list"},{"type":"small","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Legal Notice"}]}]},{"type":"small","inlineContent":[{"type":"text","text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}]}]}],"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10196-Dive-deeper-into-SwiftData","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Learn how you can harness the power of SwiftData in your app. Find out how ModelContext and ModelContainer work together to persist your app’s data. We’ll show you how to track and make your changes manually and use SwiftData at scale with FetchDescriptor, SortDescriptor, and enumerate."}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc23-10196-dive-deeper-into-swiftdata"]}],"references":{"doc://WWDCNotes/documentation/WWDCNotes/MortenGregersen":{"title":"Morten Bjerg Gregersen (21 notes)","kind":"article","url":"\/documentation\/wwdcnotes\/mortengregersen","role":"sampleCode","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/MortenGregersen","abstract":[{"type":"text","text":"Hi 👋 I am Morten - I live in Denmark 🇩🇰"}],"images":[{"identifier":"MortenGregersen.jpeg","type":"card"},{"identifier":"MortenGregersen.jpeg","type":"icon"}]},"http://atterdagapps.com":{"identifier":"http:\/\/atterdagapps.com","titleInlineContent":[{"type":"text","text":"Blog"}],"url":"http:\/\/atterdagapps.com","title":"Blog","type":"link"},"https://github.com/MortenGregersen":{"identifier":"https:\/\/github.com\/MortenGregersen","titleInlineContent":[{"type":"text","text":"GitHub"}],"url":"https:\/\/github.com\/MortenGregersen","title":"GitHub","type":"link"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","titleInlineContent":[{"type":"text","text":"Contributions are welcome!"}],"url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","title":"Contributions are welcome!","type":"link"},"https://x.com/mortengregersen":{"identifier":"https:\/\/x.com\/mortengregersen","titleInlineContent":[{"type":"text","text":"X\/Twitter"}],"url":"https:\/\/x.com\/mortengregersen","title":"X\/Twitter","type":"link"},"https://developer.apple.com/wwdc23/10196":{"checksum":null,"identifier":"https:\/\/developer.apple.com\/wwdc23\/10196","url":"https:\/\/developer.apple.com\/wwdc23\/10196","type":"download"},"doc://WWDCNotes/documentation/WWDCNotes":{"role":"collection","abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","images":[{"type":"icon","identifier":"WWDCNotes.png"}],"url":"\/documentation\/wwdcnotes","title":"WWDC Notes","type":"topic","kind":"symbol"},"WWDC23.jpeg":{"identifier":"WWDC23.jpeg","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23.jpeg"}],"type":"image","alt":null},"WWDCNotes.png":{"identifier":"WWDCNotes.png","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes.png"}],"type":"image","alt":null},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10187-Meet-SwiftData":{"type":"topic","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10187-Meet-SwiftData","title":"Meet SwiftData","url":"\/documentation\/wwdcnotes\/wwdc23-10187-meet-swiftdata","abstract":[{"type":"text","text":"SwiftData is a powerful and expressive persistence framework built for Swift. We’ll show you how you can model your data directly from Swift code, use SwiftData to work with your models, and integrate with SwiftUI."}],"role":"sampleCode"},"WWDC23-Icon.png":{"identifier":"WWDC23-Icon.png","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-Icon.png"}],"type":"image","alt":null},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10149-Discover-Observation-in-SwiftUI":{"abstract":[{"type":"text","text":"Simplify your SwiftUI data models with Observation. We’ll share how the Observable macro can help you simplify models and improve your app’s performance. Get to know Observation, learn the fundamentals of the macro, and find out how to migrate from ObservableObject to Observable."}],"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10149-Discover-Observation-in-SwiftUI","url":"\/documentation\/wwdcnotes\/wwdc23-10149-discover-observation-in-swiftui","kind":"article","title":"Discover Observation in SwiftUI","role":"sampleCode"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10189-Migrate-to-SwiftData":{"abstract":[{"type":"text","text":"Discover how you can start using SwiftData in your apps. We’ll show you how to use Xcode to generate model classes from your existing Core Data object models, use SwiftData alongside your previous implementation, or even completely replace your existing solution."}],"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10189-Migrate-to-SwiftData","url":"\/documentation\/wwdcnotes\/wwdc23-10189-migrate-to-swiftdata","kind":"article","title":"Migrate to SwiftData","role":"sampleCode"},"MortenGregersen":{"identifier":"MortenGregersen","variants":[{"traits":["1x","light"],"url":"\/images\/MortenGregersen.jpeg"}],"type":"image","alt":"Profile image of Morten Bjerg Gregersen"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10195-Model-your-schema-with-SwiftData":{"kind":"article","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10195-Model-your-schema-with-SwiftData","abstract":[{"text":"Learn how to use schema macros and migration plans with SwiftData to build more complex features for your app. We’ll show you how to fine-tune your persistence with @Attribute and @Relationship options. Learn how to exclude properties from your data model with @Transient and migrate from one version of your schema to the next with ease.","type":"text"}],"title":"Model your schema with SwiftData","url":"\/documentation\/wwdcnotes\/wwdc23-10195-model-your-schema-with-swiftdata","role":"sampleCode"},"MortenGregersen.jpeg":{"identifier":"MortenGregersen.jpeg","variants":[{"traits":["1x","light"],"url":"\/images\/MortenGregersen.jpeg"}],"type":"image","alt":null},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23":{"abstract":[{"text":"Xcode 15, Swift 5.9, iOS 17, macOS 14 (Sonoma), tvOS 17, visionOS 1, watchOS 10.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"New APIs: "},{"type":"codeVoice","code":"SwiftData"},{"text":", ","type":"text"},{"code":"Observation","type":"codeVoice"},{"text":", ","type":"text"},{"code":"StoreKit","type":"codeVoice"},{"text":" views, and more.","type":"text"}],"images":[{"type":"icon","identifier":"WWDC23-Icon.png"},{"type":"card","identifier":"WWDC23.jpeg"}],"role":"collectionGroup","kind":"article","type":"topic","title":"WWDC23","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23","url":"\/documentation\/wwdcnotes\/wwdc23"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10154-Build-an-app-with-SwiftData":{"title":"Build an app with SwiftData","abstract":[{"type":"text","text":"Discover how SwiftData can help you persist data in your app. Code along with us as we bring SwiftData to a multi-platform SwiftUI app. Learn how to convert existing model classes into SwiftData models, set up the environment, reflect model layer changes in UI, and build document-based applications backed by SwiftData storage."}],"type":"topic","url":"\/documentation\/wwdcnotes\/wwdc23-10154-build-an-app-with-swiftdata","role":"sampleCode","kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10154-Build-an-app-with-SwiftData"}}}