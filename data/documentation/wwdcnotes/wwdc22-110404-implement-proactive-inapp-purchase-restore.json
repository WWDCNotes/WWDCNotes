{"abstract":[{"type":"text","text":"Learn how you can restore someone‚Äôs in-app purchases access proactively when they first open your app. We‚Äôll show you how you can deliver instant access to existing subscriptions using StoreKit or StoreKit 2 and cover best practices for both your client and server implementations. Find out more about how you can determine customer purchase state and create a personalized onboarding experience for your app."}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc22-110404-implement-proactive-inapp-purchase-restore"]}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-110404-Implement-proactive-inapp-purchase-restore"},"sampleCodeDownload":{"kind":"sampleDownload","action":{"overridingTitle":"Watch Video (21 min)","isActive":true,"identifier":"https:\/\/developer.apple.com\/wwdc22\/110404","type":"reference"}},"sections":[],"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22"]]},"primaryContentSections":[{"kind":"content","content":[{"anchor":"overview","level":2,"text":"Overview","type":"heading"},{"inlineContent":[{"text":"üò± ‚ÄúNo Overview Available!‚Äù","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Be the hero to change that by watching the video and providing notes! It‚Äôs super easy:"},{"type":"text","text":" "},{"isActive":true,"type":"reference","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"}],"type":"paragraph"},{"anchor":"Related-Sessions","level":2,"text":"Related Sessions","type":"heading"},{"items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10007-Whats-new-with-inapp-purchase","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10040-Explore-inapp-purchase-integration-and-migration","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10114-Meet-StoreKit-2","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10671-Architecting-for-subscriptions"],"type":"links","style":"list"}]}],"metadata":{"modules":[{"name":"WWDC Notes"}],"title":"Implement proactive in-app purchase restore","roleHeading":"WWDC22","role":"sampleCode"},"schemaVersion":{"minor":3,"patch":0,"major":0},"kind":"article","references":{"doc://WWDCNotes/documentation/WWDCNotes":{"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"images":[{"type":"icon","identifier":"WWDCNotes.png"}],"kind":"symbol","title":"WWDC Notes","role":"collection","url":"\/documentation\/wwdcnotes"},"https://developer.apple.com/wwdc22/110404":{"type":"download","checksum":null,"url":"https:\/\/developer.apple.com\/wwdc22\/110404","identifier":"https:\/\/developer.apple.com\/wwdc22\/110404"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22":{"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22","abstract":[{"type":"text","text":"Xcode 14, Swift 5.7, iOS 16, macOS 13 (Ventura), tvOS 16, watchOS 9."},{"type":"text","text":" "},{"type":"text","text":"New APIs: "},{"type":"codeVoice","code":"WeatherKit"},{"type":"text","text":", "},{"code":"ScreenCaptureKit","type":"codeVoice"},{"text":", ","type":"text"},{"code":"Swift Regex","type":"codeVoice"},{"text":", and more.","type":"text"}],"images":[{"identifier":"WWDC22-Icon.png","type":"icon"},{"identifier":"WWDC22.jpeg","type":"card"}],"kind":"article","title":"WWDC22","role":"collectionGroup","url":"\/documentation\/wwdcnotes\/wwdc22"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC21-10114-Meet-StoreKit-2":{"kind":"article","type":"topic","abstract":[{"type":"text","text":"StoreKit 2 delivers powerful, Swift-native APIs for in-app purchases and auto-renewable subscriptions. Learn how you can easily implement in-app purchases and subscriptions, and discover APIs for retrieving product information, handling transactions, determining product entitlements and customer status, as well as comprehensive testing support in Xcode."}],"url":"\/documentation\/wwdcnotes\/wwdc21-10114-meet-storekit-2","title":"Meet StoreKit 2","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC21-10114-Meet-StoreKit-2"},"WWDC22.jpeg":{"identifier":"WWDC22.jpeg","alt":null,"type":"image","variants":[{"url":"\/images\/WWDC22.jpeg","traits":["1x","light"]}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10040-Explore-inapp-purchase-integration-and-migration":{"kind":"article","type":"topic","abstract":[{"type":"text","text":"Learn how you can migrate to the latest App Store Server APIs and incorporate App Store Server Notifications. We‚Äôll help you get started with these tools and provide best practices to make the most of managing in-app purchases on your server. Discover how you can sign JSON Web Tokens, verify signed transactions, and migrate from verifyReceipt."}],"url":"\/documentation\/wwdcnotes\/wwdc22-10040-explore-inapp-purchase-integration-and-migration","title":"Explore in-app purchase integration and migration","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10040-Explore-inapp-purchase-integration-and-migration"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10671-Architecting-for-subscriptions":{"kind":"article","type":"topic","title":"Architecting for subscriptions","url":"\/documentation\/wwdcnotes\/wwdc20-10671-architecting-for-subscriptions","abstract":[{"text":"Learn how you can build simple entitlement logic to enhance the customer experience. We‚Äôll dive deep into key concepts and provide guidance for architecting your systems to accurately entitle service. You‚Äôll learn best practices for subscription features and how to craft the best customer experience throughout the subscription lifecycle.","type":"text"}],"role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10671-Architecting-for-subscriptions"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC22-10007-Whats-new-with-inapp-purchase":{"kind":"article","type":"topic","abstract":[{"type":"text","text":"Learn how you can make your in-app purchase experience even better on iPhone, iPad, Mac, and Apple Watch. We‚Äôll take you through enhancements to StoreKit 2 and App Store Server API, and explore improvements to App Store Server Notifications. Discover how you can verify app purchases with App Transaction API, add properties to your StoreKit models, incorporate SwiftUI-friendly APIs and StoreKit Messages, and preserve applicationUsername in transactions. For those working server-side, we‚Äôll show you how to make the most of App Store Server Notifications, additional ways to retrieve user transaction history, and recovery steps when your server experiences an outage."}],"url":"\/documentation\/wwdcnotes\/wwdc22-10007-whats-new-with-inapp-purchase","title":"What‚Äôs new with in-app purchase","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC22-10007-Whats-new-with-inapp-purchase"},"WWDC22-Icon.png":{"identifier":"WWDC22-Icon.png","alt":null,"type":"image","variants":[{"url":"\/images\/WWDC22-Icon.png","traits":["1x","light"]}]},"WWDCNotes.png":{"identifier":"WWDCNotes.png","alt":null,"type":"image","variants":[{"url":"\/images\/WWDCNotes.png","traits":["1x","light"]}]},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","titleInlineContent":[{"type":"text","text":"Learn More‚Ä¶"}],"type":"link","title":"Learn More‚Ä¶","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"}}}