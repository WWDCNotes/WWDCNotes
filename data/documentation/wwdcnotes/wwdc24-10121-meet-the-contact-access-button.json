{"kind":"article","hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC24"]]},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc24-10121-meet-the-contact-access-button"]}],"sampleCodeDownload":{"kind":"sampleDownload","action":{"identifier":"https:\/\/developer.apple.com\/wwdc24\/10121","isActive":true,"type":"reference","overridingTitle":"Watch Video"}},"abstract":[{"type":"text","text":"Learn about the new Contacts authorization modes and how to improve Contacts access in your app. Discover how to integrate the Contact Access Button into your app to share additional contacts on demand and provide an easier path to Contacts authorization. We‚Äôll also cover Contacts security features and an alternative API to be used if the button isn‚Äôt appropriate for your app."}],"sections":[],"metadata":{"role":"sampleCode","title":"Meet the Contact Access Button","roleHeading":"WWDC24","modules":[{"name":"WWDC Notes"}]},"schemaVersion":{"patch":0,"major":0,"minor":3},"primaryContentSections":[{"kind":"content","content":[{"anchor":"Key-Takeaways","type":"heading","level":2,"text":"Key Takeaways"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"‚õî Users can now provide limited access to contacts in an app","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"üîé Use ","type":"text"},{"code":"ContactAccessButton","type":"codeVoice"},{"text":" to show search results for restricted contacts","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"üíΩ Use "},{"type":"codeVoice","code":"CNContactStore"},{"type":"text","text":" to get contact data"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"üîò Use "},{"type":"codeVoice","code":"ContentAccessPicker"},{"type":"text","text":" to allow users to change access without leaving an app"}]}]}],"type":"unorderedList"},{"anchor":"Presenters","type":"heading","level":2,"text":"Presenters"},{"items":[{"content":[{"inlineContent":[{"text":"Ada, Software Engineer","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"anchor":"Limited-Access","type":"heading","level":2,"text":"Limited Access"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Users can now choose to share a limited number of contacts with an app"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Access level as well as selected contacts can be changed at any time","type":"text"}]}]}],"type":"unorderedList"},{"anchor":"Authorization-Levels","type":"heading","level":3,"text":"Authorization Levels"},{"rows":[[[{"inlineContent":[{"type":"text","text":"Authorization Level"}],"type":"paragraph"}],[{"inlineContent":[{"text":"Read","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"Write"}],"type":"paragraph"}]],[[{"inlineContent":[{"type":"text","text":"Full"}],"type":"paragraph"}],[{"inlineContent":[{"text":"üü¢","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"text":"üü¢","type":"text"}],"type":"paragraph"}]],[[{"inlineContent":[{"type":"text","text":"Limited"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"üü°"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"üü¢"}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"Not Determined","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"text":"-","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"text":"-","type":"text"}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"Denied","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"üî¥"}],"type":"paragraph"}],[{"inlineContent":[{"text":"üî¥","type":"text"}],"type":"paragraph"}]]],"header":"row","type":"table","alignments":["unset","center","center"]},{"anchor":"Contact-Access-Picker","type":"heading","level":2,"text":"Contact Access Picker"},{"items":[{"content":[{"inlineContent":[{"text":"Full screen picker that lets users select contacts without leaving an app","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"anchor":"Contact-Access-Button","type":"heading","level":2,"text":"Contact Access Button"},{"items":[{"content":[{"inlineContent":[{"text":"Allows a full contact picker experience in an app without requiring full access","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"By selecting the Contact Access Button a user can quickly grant an app access to the contact"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Enables restricted contacts to appear in an app‚Äôs search results for contacts","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Can be used even if an app‚Äôs authorization level is ‚ÄúNot Determined‚Äù","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"anchor":"Using-ContactAccessButton","type":"heading","level":3,"text":"Using `ContactAccessButton`"},{"code":["@Binding var searchText: String","@State var authorizationStatus: CNAuthorizationStatus = .notDetermined","","var body: some View {","    List {","        \/\/ Show Results for App's Data Store","        ForEach(searchResults(for: searchText)) { person in","            ResultRow(person)","        }","    ","        \/\/ Show Results from ContactAccessButton","        if authorizationStatus == .limited || authorizationStatus == .notDetermined {","            ContactAccessButton(queryString: searchText) { identifiers in ","                let contacts = await fetchContacts(withIdentifiers: identifiers)","                dismissSearch(withResult: contacts)","            }","        }","    }","}"],"type":"codeListing","syntax":"swift"},{"anchor":"Accessing-Contacts","type":"heading","level":2,"text":"Accessing Contacts"},{"anchor":"CNContactStore","type":"heading","level":3,"text":"`CNContactStore`"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Primary way to read\/write contact data","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Requires authorization to access","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Provides notifications when data is changed","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"anchor":"Contact-Picker-View-Controller","type":"heading","level":3,"text":"Contact Picker View Controller"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"System UI contact picker"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Delivers a snapshot of contact data on when the picker is closed","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"No authorization is required","type":"text"}]}]}],"type":"unorderedList"},{"anchor":"Contact-Access-Picker","type":"heading","level":3,"text":"Contact Access Picker"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"System UI contact picker, that allows users to quickly change contact access"}]}]},{"content":[{"inlineContent":[{"text":"Returns contacts to the app as identifiers in ","type":"text"},{"code":"CNContactStore","type":"codeVoice"}],"type":"paragraph"}]}],"type":"unorderedList"},{"anchor":"Which-Access-Method-to-Use","type":"heading","level":3,"text":"Which Access Method to Use"},{"rows":[[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Authorization Level"}]}],[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"CNContactPickerViewController"}]}],[{"type":"paragraph","inlineContent":[{"code":"CNContactStore","type":"codeVoice"}]}],[{"type":"paragraph","inlineContent":[{"code":"ContactAccessButton","type":"codeVoice"}]}],[{"type":"paragraph","inlineContent":[{"code":"ContactAccessPicker","type":"codeVoice"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"Full","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"üü¢","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"üü¢"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Not Needed"}]}],[{"type":"paragraph","inlineContent":[{"text":"Not Needed","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Limited"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"üü¢"}]}],[{"type":"paragraph","inlineContent":[{"text":"üü°","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"üü¢"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"üü¢"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Not Determined"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"üü¢"}]}],[{"type":"paragraph","inlineContent":[{"text":"Prompt","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"üü¢","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"üî¥","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"Denied","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"üü¢","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"üî¥"}]}],[{"type":"paragraph","inlineContent":[{"text":"üî¥","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"üî¥"}]}]]],"header":"row","type":"table","alignments":["unset","center","center","center","center"]},{"anchor":"Written-By","type":"heading","level":2,"text":"Written By"},{"type":"row","numberOfColumns":5,"columns":[{"size":1,"content":[{"inlineContent":[{"identifier":"harrison-heinig","type":"image"}],"type":"paragraph"}]},{"size":4,"content":[{"text":"Harrison Heinig","anchor":"Harrison-Heinig","level":3,"type":"heading"},{"inlineContent":[{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/harrison-heinig","type":"reference","overridingTitle":"Contributed Notes","isActive":true,"overridingTitleInlineContent":[{"text":"Contributed Notes","type":"text"}]},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"identifier":"https:\/\/github.com\/harrison-heinig","type":"reference","isActive":true},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"identifier":"https:\/\/","type":"reference","isActive":true}],"type":"paragraph"}]}]},{"type":"thematicBreak"},{"inlineContent":[{"type":"text","text":"Missing anything? Corrections? "},{"type":"reference","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","isActive":true}],"type":"paragraph"},{"inlineContent":[{"inlineContent":[{"type":"text","text":"Legal Notice"}],"type":"strong"}],"type":"small"},{"inlineContent":[{"type":"text","text":"All content copyright ¬© 2012 ‚Äì 2024 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}],"type":"small"}]}],"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC24-10121-Meet-the-Contact-Access-Button","interfaceLanguage":"swift"},"references":{"WWDC24.jpeg":{"identifier":"WWDC24.jpeg","type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/WWDC24.jpeg"}],"alt":null},"WWDCNotes.png":{"identifier":"WWDCNotes.png","variants":[{"url":"\/images\/WWDCNotes\/WWDCNotes.png","traits":["1x","light"]}],"type":"image","alt":null},"https://":{"type":"link","titleInlineContent":[{"text":"Blog","type":"text"}],"identifier":"https:\/\/","title":"Blog","url":"https:\/\/"},"doc://WWDCNotes/documentation/WWDCNotes":{"kind":"symbol","abstract":[{"text":"Session notes shared by the community for the community.","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","role":"collection","url":"\/documentation\/wwdcnotes","type":"topic","title":"WWDC Notes","images":[{"type":"icon","identifier":"WWDCNotes.png"}]},"doc://WWDCNotes/documentation/WWDCNotes/harrison-heinig":{"title":"Harrison Heinig (2 notes)","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/harrison-heinig","url":"\/documentation\/wwdcnotes\/harrison-heinig","role":"sampleCode","type":"topic","abstract":[{"type":"text","text":"No Bio on GitHub"}],"images":[{"identifier":"harrison-heinig.jpeg","type":"card"},{"identifier":"harrison-heinig.jpeg","type":"icon"}],"kind":"article"},"WWDC24-Icon.png":{"identifier":"WWDC24-Icon.png","variants":[{"url":"\/images\/WWDCNotes\/WWDC24-Icon.png","traits":["1x","light"]}],"type":"image","alt":null},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"type":"link","titleInlineContent":[{"text":"Contributions are welcome!","type":"text"}],"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","title":"Contributions are welcome!","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC24":{"kind":"article","images":[{"type":"icon","identifier":"WWDC24-Icon.png"},{"type":"card","identifier":"WWDC24.jpeg"}],"role":"collectionGroup","url":"\/documentation\/wwdcnotes\/wwdc24","title":"WWDC24","type":"topic","abstract":[{"text":"Xcode 16, Swift 6, iOS 18, macOS 15 (Sequoia), tvOS 18, visionOS 2, watchOS 11.","type":"text"},{"text":" ","type":"text"},{"text":"New APIs: Swift Testing, ","type":"text"},{"type":"codeVoice","code":"FinanceKit"},{"text":", ","type":"text"},{"type":"codeVoice","code":"TabletopKit"},{"text":", and more.","type":"text"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC24"},"https://github.com/harrison-heinig":{"identifier":"https:\/\/github.com\/harrison-heinig","url":"https:\/\/github.com\/harrison-heinig","type":"link","titleInlineContent":[{"type":"text","text":"GitHub"}],"title":"GitHub"},"https://developer.apple.com/wwdc24/10121":{"identifier":"https:\/\/developer.apple.com\/wwdc24\/10121","type":"download","checksum":null,"url":"https:\/\/developer.apple.com\/wwdc24\/10121"},"harrison-heinig":{"type":"image","identifier":"harrison-heinig","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/harrison-heinig.jpeg"}],"alt":"Profile image of Harrison Heinig"},"harrison-heinig.jpeg":{"identifier":"harrison-heinig.jpeg","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes\/harrison-heinig.jpeg"}],"type":"image","alt":null}}}