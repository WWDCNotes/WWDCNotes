{"identifier":{"url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10167-Expand-on-Swift-macros","interfaceLanguage":"swift"},"metadata":{"modules":[{"name":"WWDC Notes"}],"roleHeading":"WWDC23","role":"sampleCode","title":"Expand on Swift macros"},"kind":"article","sections":[],"sampleCodeDownload":{"action":{"identifier":"https:\/\/developer.apple.com\/wwdc23\/10167","overridingTitle":"Watch Video (39 min)","isActive":true,"type":"reference"},"kind":"sampleDownload"},"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23"]]},"variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc23-10167-expand-on-swift-macros"],"traits":[{"interfaceLanguage":"swift"}]}],"schemaVersion":{"minor":3,"patch":0,"major":0},"primaryContentSections":[{"content":[{"type":"heading","level":2,"text":"Overview","anchor":"overview"},{"inlineContent":[{"text":"Speaker: Becca Royal-Gordon","type":"text"}],"type":"paragraph"},{"type":"heading","level":2,"text":"Why macros?","anchor":"Why-macros"},{"inlineContent":[{"text":"Swift has “derived protocol conformance” for many protocol like ","type":"text"},{"code":"CaseIterable","type":"codeVoice"},{"text":", ","type":"text"},{"code":"Codable","type":"codeVoice"},{"text":", ","type":"text"},{"code":"Hashable","type":"codeVoice"},{"text":" and ","type":"text"},{"code":"Equatable","type":"codeVoice"},{"text":".","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Macros help taking this to other places:"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Eliminate boilerplate"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Make tedious things easy"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Share with other developers in packages"}]}]}]},{"type":"heading","level":2,"text":"Design philosophy","anchor":"Design-philosophy"},{"inlineContent":[{"type":"text","text":"Swift macros are very different than macros in C and Objective-C. They had 4 goals in mind when implementing macro support."}],"type":"paragraph"},{"type":"heading","level":3,"text":"First goal: Distinctive use sites","anchor":"First-goal-Distinctive-use-sites"},{"style":"note","name":"Note","type":"aside","content":[{"inlineContent":[{"text":"The first goal is that it should be pretty obvious when you’re using a macro.","type":"text"}],"type":"paragraph"}]},{"style":"note","name":"Note","type":"aside","content":[{"inlineContent":[{"type":"text","text":"…if you don’t see #’s or @’s, you can be confident that there aren’t any macros involved."}],"type":"paragraph"}]},{"inlineContent":[{"type":"text","text":"There are two kinds of macros."}],"type":"paragraph"},{"type":"heading","level":4,"text":"Freestanding macros","anchor":"Freestanding-macros"},{"syntax":"swift","type":"codeListing","code":["return #unwrap(icon, message: \"should be in the app bundle\")"]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Take the place of an expression or declaration"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Start with a # sign"}],"type":"paragraph"}]}]},{"type":"heading","level":4,"text":"Attached macros","anchor":"Attached-macros"},{"syntax":"swift","type":"codeListing","code":["@AddCompletionHandler func sendRequest() async throws -> Response"]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Attached to another declaration","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Start with an @ sign"}]}]}]},{"type":"heading","level":3,"text":"Second goal: Complete, type-checked, validated","anchor":"Second-goal-Complete-type-checked-validated"},{"style":"note","name":"Note","type":"aside","content":[{"type":"paragraph","inlineContent":[{"text":"You can’t pass “1 +” to a macro because arguments have to be complete expressions. Nor can you pass an argument with the wrong type because macro arguments and results are type-checked, just like function arguments. And a macro’s implementation can validate its inputs and emit compiler warnings or errors if something’s wrong, so it’s easier to be certain that you’re using a macro correctly.","type":"text"}]}]},{"type":"heading","level":3,"text":"Third goal: Inserted in predictable ways","anchor":"Third-goal-Inserted-in-predictable-ways"},{"style":"note","name":"Note","type":"aside","content":[{"inlineContent":[{"type":"text","text":"A macro can only add to the visible code in your program. It can’t remove it or change it."}],"type":"paragraph"}]},{"inlineContent":[{"type":"text","text":"Even if you don’t know what "},{"code":"#someUnknownMacro()","type":"codeVoice"},{"type":"text","text":" does, it can’t delete the call to "},{"code":"finishDoingThingy()","type":"codeVoice"},{"type":"text","text":"."}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["func doThingy() {","  startDoingThingy()","  #someUnknownMacro()","  finishDoingThingy()","}"]},{"type":"heading","level":3,"text":"Fourth goal: Macros are not magic","anchor":"Fourth-goal-Macros-are-not-magic"},{"style":"note","name":"Note","type":"aside","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Macros just add more code to your program, and that’s something you can see right in Xcode."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can right-click on a macro’s use site and ask to see what it expands into. You can set breakpoints in the expansion or step into it with the debugger. When the code inside a macro expansion doesn’t compile, you’ll see both where the error is in the expansion, and where that expansion goes in your source code. And all of these tools work even if the macro is provided by a closed-source library."}]}]},{"type":"heading","level":2,"text":"Translation model","anchor":"Translation-model"},{"style":"note","name":"Note","type":"aside","content":[{"inlineContent":[{"type":"text","text":"When Swift sees you call a macro in your code, like the “stringify” macro from the Xcode macro package template, it extracts that use from the code and sends it to a special compiler plug-in that contains the implementation for that macro."}],"type":"paragraph"},{"inlineContent":[{"text":"The plug-in runs as a separate process in a secure sandbox, and it contains custom Swift code written by the macro’s author. It processes the macro use and returns an “expansion,” a new fragment of code created by the macro. The Swift compiler then adds that expansion to your program and compiles your code and the expansion together","type":"text"}],"type":"paragraph"}]},{"syntax":"swift","type":"codeListing","code":["\/\/\/ Creates a tuple containing both the result of `expr` and its source code represented as a `String`","@freestanding(expression)","macro stringify<T>(_ expr: T) -> (T, String)"]},{"type":"heading","level":2,"text":"Macro roles","anchor":"Macro-roles"},{"inlineContent":[{"type":"text","text":"Macro roles determines:"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Where it can be used","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"What types of code it expands into","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Where the expansions are inserted"}],"type":"paragraph"}]}]},{"rows":[[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Declaration"}]}],[{"type":"paragraph","inlineContent":[{"text":" Behavior","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Protocol"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"@freestanding(expression)","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Creates a piece of code that returns a value"}]}],[{"type":"paragraph","inlineContent":[{"code":"ExpressionMacro","type":"codeVoice"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"@freestanding(declaration)"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Creates one or more declarations"}]}],[{"type":"paragraph","inlineContent":[{"code":"DeclarationMacro","type":"codeVoice"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"@attached(peer)"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Adds new declarations alongside the declaration it’s applied to"}]}],[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"PeerMacro"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"@attached(accessor)","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"Adds accessors to a property","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"AccessorMacro"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"@attached(memberAttribute)","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"Adds attributes to the declarations in the type\/extension it’s applied to","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"code":"MemberAttributeMacro","type":"codeVoice"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"@attached(member)","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Adds new declarations inside the type\/extension it’s applied to"}]}],[{"type":"paragraph","inlineContent":[{"code":"MemberMacro","type":"codeVoice"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"@attached(conformance)"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Adds conformances to the type\/extension it’s applied to"}]}],[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"ConformanceMacro"}]}]]],"header":"row","type":"table"},{"type":"heading","level":3,"text":"Role composition","anchor":"Role-composition"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"A macro may have multiple attached roles"}]}]},{"content":[{"inlineContent":[{"text":"Swift will expand all roles applicable where the macro was used","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"At least one role must be applicable"}],"type":"paragraph"}]}]},{"type":"heading","level":2,"text":"Macro implementation","anchor":"Macro-implementation"},{"inlineContent":[{"type":"text","text":"Here the macro is defined to a external macro in another module:"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["\/\/\/ Creates a tuple containing both the result of `expr` and its source code represented as a","\/\/\/ `String`.","@freestanding(expression)","macro stringify<T>(_ expr: T) -> (T, String) = #externalMacro(","                                                   module: \"MyLibMacros\",","                                                   type: \"StringifyMacro\"","                                               )"]},{"inlineContent":[{"text":"A macro is declared like this:","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["import SwiftSyntax","import SwiftSyntaxMacros","import SwiftSyntaxBuilder","","struct DictionaryStorageMacro: MemberMacro {","    static func expansion(","        of attribute: AttributeSyntax,","        providingMembersOf declaration: some DeclGroupSyntax,","        in context: some MacroExpansionContext","    ) throws -> [DeclSyntax] {","        return [","           \"init(dictionary: [String: Any]) { self.dictionary = dictionary }\",","           \"var dictionary: [String: Any]\"","        ]","    }","}"]},{"inlineContent":[{"type":"text","text":"When writing macros, you need to have some knowledge about SwiftSyntax and how to work with it."}],"type":"paragraph"},{"inlineContent":[{"type":"emphasis","inlineContent":[{"type":"text","text":"See more in the session “Write Swift Macros” and in the "},{"identifier":"https:\/\/swiftpackageindex.com\/apple\/swift-syntax\/508.0.1\/documentation\/swiftsyntax","type":"reference","isActive":true},{"type":"text","text":"."}]}],"type":"paragraph"},{"style":"note","name":"Note","type":"aside","content":[{"inlineContent":[{"type":"text","text":"Each of the expansion methods returns SwiftSyntax nodes that are inserted into the source code. A member macro expands into a list of declarations to add as members to the type, so the expansion method for a member macro returns an array of "},{"type":"codeVoice","code":"DeclSyntax"},{"type":"text","text":" nodes."}],"type":"paragraph"}]},{"type":"heading","level":3,"text":"Handling errors","anchor":"Handling-errors"},{"inlineContent":[{"type":"text","text":"To output compile errors to the developer, use the"}],"type":"paragraph"},{"type":"heading","level":3,"text":"Building syntax trees","anchor":"Building-syntax-trees"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"SwiftSyntax nodes are immutable, but they have lots of APIs that either create new nodes or return modified versions of existing nodes"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"The SwiftSyntaxBuilder library adds SwiftUI-style syntax builders where some of the child nodes are specified by a trailing closure"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"The string literal feature used in the DictionaryStorage property and initializer also supports interpolations"}],"type":"paragraph"}]}]},{"syntax":"swift","type":"codeListing","code":["static func makeGuardStmt(wrapped: TokenSyntax,","                           originalWrapped: ExprSyntax,","                           message: ExprSyntax,","                           in context: some MacroExpansionContext) -> StmtSyntax {","    let messagePrefix = \"Unexpectedly found nil: ‘\\(originalWrapped.description)’ \"","    let originalLoc = context.location(of: originalWrapped)!","","    return \"\"\"","        guard let \\(wrapped) else {","            preconditionFailure(","                \\(literal: messagePrefix) + \\(message),","                file: \\(originalLoc.file),","                line: \\(originalLoc.line)","            )","        }","    \"\"\"","}"]},{"type":"heading","level":2,"text":"Writing correct macros","anchor":"Writing-correct-macros"},{"type":"heading","level":3,"text":"Variable names","anchor":"Variable-names"},{"inlineContent":[{"text":"Swift macros don’t prevent name conflicts, because sometimes you want to access names from outside your macro.","type":"text"}],"type":"paragraph"},{"style":"note","name":"Note","type":"aside","content":[{"inlineContent":[{"text":"…sometimes, you even want to introduce a whole new name that non-macro code can access. Peer macros, member macros, and declaration macros basically exist entirely to do this. But when they do, they need to declare the names they’re adding, so the compiler knows about them. And they do that inside their role attribute.","type":"text"}],"type":"paragraph"}]},{"syntax":"swift","type":"codeListing","code":["@attached(conformance)","@attached(member, names: named(dictionary), named(init(dictionary:)))","@attached(memberAttribute)","@attached(accessor)","macro DictionaryStorage(key: String? = nil)","","@attached(peer, names: overloaded)","macro AddCompletionHandler(parameterName: String = \"completionHandler\")","","@freestanding(declaration, names: arbitrary)","macro makeArrayND(n: Int)"]},{"type":"heading","level":4,"text":"Name specifiers","anchor":"Name-specifiers"},{"rows":[[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Name"}]}],[{"type":"paragraph","inlineContent":[{"text":" Description","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"overloaded"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":" Creates a declaration with the same base name as the declaration it’s attached to (attached only)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"prefixed("},{"type":"text","text":")"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":" Creates a declaration whose base name is "},{"type":"text","text":" followed by the base name of the declaration it’s attached to; prefix can start with $ (attached only)"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"suffixed(","type":"text"},{"text":")","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":" Creates a declaration whose base name is the base name of the declaration it’s attached to followed by "},{"type":"text","text":" (attached only)"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"named(","type":"text"},{"text":")","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":" Creates a declaration with the base name "}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"arbitrary"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":" Creates a declaration whose name cannot be described by any of the rules above"}]}]]],"header":"row","type":"table"},{"type":"heading","level":3,"text":"Don’t use outside information","anchor":"Dont-use-outside-information"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Only use the information the compiler provides"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"Otherwise, tools won’t know when they need to re-expand a macro","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Macros don’t have access to file systems and network","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Sandbox can’t stop you, but you still shouldn’t:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Insert API results like current time, process ID, or random numbers"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Save information in global variables between expansions"}]}]}],"type":"unorderedList"}]}]},{"type":"heading","level":2,"text":"Testing your macros","anchor":"Testing-your-macros"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Test your macro implementations to see if they expand as you expect","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Use standard tools like XCTest"}]}]}]},{"syntax":"swift","type":"codeListing","code":["import MyLibMacros","import XCTest","import SwiftSyntaxMacrosTestSupport","","final class MyLibTests: XCTestCase {","    func testMacro() {","        assertMacroExpansion(","            \"\"\"","            @DictionaryStorage var name: String","            \"\"\",","            expandedSource: \"\"\"","            var name: String {","                get { dictionary[\"name\"]! as! String }","                set { dictionary[\"name\"] = newValue }","            }","            \"\"\",","            macros: [\"DictionaryStorage\": DictionaryStorageMacro.self])","    }","}"]},{"type":"heading","level":2,"text":"Written By","anchor":"Written-By"},{"columns":[{"size":1,"content":[{"inlineContent":[{"identifier":"MortenGregersen","type":"image"}],"type":"paragraph"}]},{"size":4,"content":[{"type":"heading","text":"Morten Bjerg Gregersen","anchor":"Morten-Bjerg-Gregersen","level":3},{"inlineContent":[{"overridingTitle":"Contributed Notes","overridingTitleInlineContent":[{"text":"Contributed Notes","type":"text"}],"isActive":true,"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/MortenGregersen","type":"reference"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"isActive":true,"identifier":"https:\/\/github.com\/MortenGregersen","type":"reference"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"isActive":true,"identifier":"http:\/\/atterdagapps.com","type":"reference"},{"type":"text","text":" "},{"type":"text","text":"|"},{"type":"text","text":" "},{"isActive":true,"identifier":"https:\/\/x.com\/mortengregersen","type":"reference"}],"type":"paragraph"}]}],"numberOfColumns":5,"type":"row"},{"inlineContent":[{"type":"text","text":"Missing anything? Corrections? "},{"type":"reference","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","isActive":true}],"type":"paragraph"},{"type":"heading","level":2,"text":"Related Sessions","anchor":"Related-Sessions"},{"style":"list","type":"links","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10149-Discover-Observation-in-SwiftUI","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10164-Whats-new-in-Swift","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10165-Whats-new-in-Xcode-15","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10166-Write-Swift-macros"]},{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Legal Notice","type":"text"}]}],"type":"small"},{"inlineContent":[{"text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved.","type":"text"},{"text":" ","type":"text"},{"text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries.","type":"text"},{"text":" ","type":"text"},{"text":"This website is not made by, affiliated with, nor endorsed by Apple.","type":"text"}],"type":"small"}],"kind":"content"}],"abstract":[{"type":"text","text":"Discover how Swift macros can help you reduce boilerplate in your codebase and adopt complex features more easily. Learn how macros can analyze code, emit rich compiler errors to guide developers towards correct usage, and generate new code that is automatically incorporated back into your project. We’ll also take you through important concepts like macro roles, compiler plugins, and syntax trees."}],"references":{"WWDCNotes.png":{"identifier":"WWDCNotes.png","alt":null,"variants":[{"url":"\/images\/WWDCNotes.png","traits":["1x","light"]}],"type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10164-Whats-new-in-Swift":{"type":"topic","kind":"article","abstract":[{"text":"Join us for an update on Swift. We’ll show you how APIs are becoming more extensible and expressive with features like parameter packs and macros. We’ll also take you through improvements to interoperability and share how we’re expanding Swift’s performance and safety benefits everywhere from Foundation to large-scale distributed programs on the server.","type":"text"}],"role":"sampleCode","title":"What’s new in Swift","url":"\/documentation\/wwdcnotes\/wwdc23-10164-whats-new-in-swift","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10164-Whats-new-in-Swift"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","title":"Contributions are welcome!","type":"link","titleInlineContent":[{"text":"Contributions are welcome!","type":"text"}]},"https://swiftpackageindex.com/apple/swift-syntax/508.0.1/documentation/swiftsyntax":{"identifier":"https:\/\/swiftpackageindex.com\/apple\/swift-syntax\/508.0.1\/documentation\/swiftsyntax","url":"https:\/\/swiftpackageindex.com\/apple\/swift-syntax\/508.0.1\/documentation\/swiftsyntax","title":"SwiftSyntax package’s documentation","type":"link","titleInlineContent":[{"text":"SwiftSyntax package’s documentation","type":"text"}]},"WWDC23-Icon.png":{"identifier":"WWDC23-Icon.png","alt":null,"variants":[{"url":"\/images\/WWDC23-Icon.png","traits":["1x","light"]}],"type":"image"},"http://atterdagapps.com":{"identifier":"http:\/\/atterdagapps.com","url":"http:\/\/atterdagapps.com","title":"Blog","type":"link","titleInlineContent":[{"text":"Blog","type":"text"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10165-Whats-new-in-Xcode-15":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10165-Whats-new-in-Xcode-15","kind":"article","title":"What’s new in Xcode 15","url":"\/documentation\/wwdcnotes\/wwdc23-10165-whats-new-in-xcode-15","abstract":[{"text":"Discover the latest productivity and performance improvements in Xcode 15. Explore enhancements to code completion and Xcode Previews, learn about the test navigator and test report, and find out more about the streamlined distribution process. We’ll also highlight improved navigation, source control management, and debugging.","type":"text"}],"type":"topic","role":"sampleCode"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10166-Write-Swift-macros":{"type":"topic","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10166-Write-Swift-macros","url":"\/documentation\/wwdcnotes\/wwdc23-10166-write-swift-macros","kind":"article","title":"Write Swift macros","abstract":[{"text":"Discover how you can use Swift macros to make your codebase more expressive and easier to read. Code along as we explore how macros can help you avoid writing repetitive code and find out how to use them in your app. We’ll share the building blocks of a macro, show you how to test it, and take you through how you can emit compilation errors from macros.","type":"text"}]},"https://developer.apple.com/wwdc23/10167":{"identifier":"https:\/\/developer.apple.com\/wwdc23\/10167","url":"https:\/\/developer.apple.com\/wwdc23\/10167","checksum":null,"type":"download"},"https://github.com/MortenGregersen":{"identifier":"https:\/\/github.com\/MortenGregersen","url":"https:\/\/github.com\/MortenGregersen","title":"GitHub","type":"link","titleInlineContent":[{"text":"GitHub","type":"text"}]},"doc://WWDCNotes/documentation/WWDCNotes":{"kind":"symbol","abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"role":"collection","images":[{"identifier":"WWDCNotes.png","type":"icon"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","type":"topic","url":"\/documentation\/wwdcnotes","title":"WWDC Notes"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23","url":"\/documentation\/wwdcnotes\/wwdc23","type":"topic","title":"WWDC23","role":"collectionGroup","abstract":[{"type":"text","text":"Xcode 15, Swift 5.9, iOS 17, macOS 14 (Sonoma), tvOS 17, visionOS 1, watchOS 10."},{"type":"text","text":" "},{"type":"text","text":"New APIs: "},{"code":"SwiftData","type":"codeVoice"},{"text":", ","type":"text"},{"code":"Observation","type":"codeVoice"},{"text":", ","type":"text"},{"code":"StoreKit","type":"codeVoice"},{"text":" views, and more.","type":"text"}],"images":[{"identifier":"WWDC23-Icon.png","type":"icon"},{"identifier":"WWDC23.jpeg","type":"card"}],"kind":"article"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10149-Discover-Observation-in-SwiftUI":{"type":"topic","abstract":[{"type":"text","text":"Simplify your SwiftUI data models with Observation. We’ll share how the Observable macro can help you simplify models and improve your app’s performance. Get to know Observation, learn the fundamentals of the macro, and find out how to migrate from ObservableObject to Observable."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10149-Discover-Observation-in-SwiftUI","role":"sampleCode","kind":"article","title":"Discover Observation in SwiftUI","url":"\/documentation\/wwdcnotes\/wwdc23-10149-discover-observation-in-swiftui"},"https://x.com/mortengregersen":{"identifier":"https:\/\/x.com\/mortengregersen","url":"https:\/\/x.com\/mortengregersen","title":"X\/Twitter","type":"link","titleInlineContent":[{"text":"X\/Twitter","type":"text"}]},"WWDC23.jpeg":{"identifier":"WWDC23.jpeg","alt":null,"variants":[{"url":"\/images\/WWDC23.jpeg","traits":["1x","light"]}],"type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/MortenGregersen":{"url":"\/documentation\/wwdcnotes\/mortengregersen","type":"topic","role":"sampleCode","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/MortenGregersen","abstract":[{"type":"text","text":"Hi 👋 I am Morten - I live in Denmark 🇩🇰"}],"images":[{"type":"card","identifier":"MortenGregersen.jpeg"},{"type":"icon","identifier":"MortenGregersen.jpeg"}],"title":"Morten Bjerg Gregersen (21 notes)","kind":"article"},"MortenGregersen.jpeg":{"identifier":"MortenGregersen.jpeg","alt":null,"variants":[{"url":"\/images\/MortenGregersen.jpeg","traits":["1x","light"]}],"type":"image"},"MortenGregersen":{"identifier":"MortenGregersen","alt":"Profile image of Morten Bjerg Gregersen","variants":[{"url":"\/images\/MortenGregersen.jpeg","traits":["1x","light"]}],"type":"image"}}}