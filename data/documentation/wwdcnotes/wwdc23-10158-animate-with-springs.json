{"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23"]]},"sections":[],"variants":[{"paths":["\/documentation\/wwdcnotes\/wwdc23-10158-animate-with-springs"],"traits":[{"interfaceLanguage":"swift"}]}],"sampleCodeDownload":{"kind":"sampleDownload","action":{"identifier":"https:\/\/developer.apple.com\/wwdc23\/10158","overridingTitle":"Watch Video (22 min)","type":"reference","isActive":true}},"kind":"article","schemaVersion":{"minor":3,"patch":0,"major":0},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10158-Animate-with-springs"},"abstract":[{"type":"text","text":"Discover how you can bring life to your app with animation! We’ll show you how to create amazing animations when you take advantage of springs and help you learn how to use them in your app."}],"primaryContentSections":[{"kind":"content","content":[{"type":"heading","text":"Transitions, Gestures & Animations","level":1,"anchor":"Transitions-Gestures--Animations"},{"type":"paragraph","inlineContent":[{"text":"Transitions → where we move from one scene to another.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"Gestures → where we’re directly interacting with the device.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"Animations → where an on screen object moves, grows, or changes visual properties.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Above three factors work together and help to make a fluid, interactive UI."}]},{"type":"heading","text":"Linear animations","level":1,"anchor":"Linear-animations"},{"type":"paragraph","inlineContent":[{"type":"text","text":"We use animations because they give us a better sense of continuity. Linear animations can be useful as a specialized tool in some places, like a repeating spinning indicator (warning ⚠️: you should be cautious about using them as they don’t have non-physical behavior that generally feels out of place)."}]},{"type":"heading","text":"Why “springs” are a good fit for animations","level":1,"anchor":"Why-springs-are-a-good-fit-for-animations"},{"type":"paragraph","inlineContent":[{"text":"A spring can start with any initial velocity, so we get a natural feeling. SwiftUI will now automatically track velocities any time a gesture is changing properties, so you can get this for FREE. Springs are the only type of animation that maintains continuity both for static cases and cases with an initial velocity. A spring animation doesn’t ONLY mean a bouncy animation. It is based on the behavior of an object attached to a spring in the physical world, so it feels more natural to us when we see it move.","type":"text"}]},{"type":"heading","text":"How springs work","level":1,"anchor":"How-springs-work"},{"type":"paragraph","inlineContent":[]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Apple has been refining a new way to configure springs that’s easier to understand and to work with. It uses just 2 parameters: duration and bounce. Increasing the duration makes the animation take longer. And increasing the bounce adds bounce to the animation. All of their frameworks that support springs will use them."}]},{"type":"paragraph","inlineContent":[]},{"type":"paragraph","inlineContent":[]},{"type":"paragraph","inlineContent":[{"text":"Being able to understand the math that’s behind these curves helps make springs feel more approachable, but if math just makes your head spin, don’t worry, it’s completely optional. They’ve implemented all of this math for you.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"Sometimes, while an animation hasn’t yet finished, a new animation begins that changes to a new target value. When that happens, a spring animation uses the velocity it had when it was retargeted as the initial velocity towards its new destination and this same velocity preservation makes these kind of interruptions feel smooth and natural.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"Because of its unpredictable nature, you shouldn’t wait for the settling duration for user-facing changes. If you want to make a UI change when a spring is mostly done, you can use the new completion handler support in SwiftUI, which uses a perceptual duration instead of a settling duration.","type":"text"}]},{"type":"heading","text":"Show me the code!","level":1,"anchor":"Show-me-the-code"},{"type":"paragraph","inlineContent":[{"text":"SwiftUI now uses spring animations as the default animation.","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["withAnimation {","\tisActive.toggle()","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you’re not sure what spring parameters to use, there are three presets; smooth, snappy and bouncy."}]},{"syntax":"swift","type":"codeListing","code":["\/\/ Default (spring) animation with snappy preset","withAnimation(.snappy) {","\tisActive.toggle()","}"]},{"type":"paragraph","inlineContent":[{"text":"Theses presets can also be used as tunable starting points. You can take a preset and specify that its duration should be different, or give it a little more or less bounce.","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["withAnimation(.snappy(duration: 0.4)) {","\t...","}","","withAnimation(.snappy(extraBounce: 0.1)) {","\t...","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you want to go further, you can also make a completely custom spring with the .spring animation which allow you to fully specify the duration and the bounce of the spring. And these bounce values have a range from -1.0 to 1.0. You can also use these same parameters to create spring animations in UIKit and Core Animation."}]},{"syntax":"swift","type":"codeListing","code":["\/\/ Custom sprints","withAnimation(.spring(duration: 0.6, bounce: 0.2)) {","\t...","}","","\/\/ UIKit","UIView.animate(duration: 0.6, bounce: 0.2) {","\t...","}","","\/\/ Core Animation","CASpringAnimation(perceptualDuration: 0.6, bounce: 0.2)"]},{"type":"paragraph","inlineContent":[{"text":"Spring model type lets you create a representation of a spring, including its parameters. This lets you programmatically convert parameters between the different ways to specify them.","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["\/\/ Spring Model","let mySpring = Spring(duration: 0.5, bounce: 0.2)","let (mass, stiffness, damping) = (mySpring.mass, mySpring.stiffness, mySpring.damping)"]},{"type":"paragraph","inlineContent":[{"text":"You can also create a spring model with a set of parameters, like mass, stiffness, and damping, and then use it as a spring animation directly.","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["let otherSpring = Spring(mass: 1, stiffness: 100, damping: 10)","withAnimation(.spring(otherSpring)) {","\t...","}"]},{"type":"paragraph","inlineContent":[{"text":"But if you really want to do a conversion yourself, here are the three equations to convert from bounce and duration values to mass, stiffness, and damping. In addition to converting parameters, you can use spring models to build your own advanced spring behaviors.","type":"text"}]},{"type":"paragraph","inlineContent":[]},{"type":"paragraph","inlineContent":[{"text":"You can call value to get the position of the spring. You just pass in a target, which is what the spring is moving towards, and the time you want to evaluate it at. You can also use the same inputs on a velocity method to evaluate the spring’s velocity over time.","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["let mySpring = Spring(duration: 0.4, bounce: 0.2)","let value = mySpring.value(target: 1, time: time)","let velocity = mySpring.velocity(target: 1, time: time)"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can even use this to build your own custom animations. Just call into the spring model, and you can modify the inputs or outputs to apply customization to a spring animation."}]},{"syntax":"swift","type":"codeListing","code":["\/\/ Custom spring animation","func animate<V: VectorArithmetic>(value: V, time: Double, context: inout AnimationContext<V>) -> V? {","\tspring.value(","\t\ttarget: value, initialVelocity: context.initialVelocity, time: effectiveTime(time: time, context: context)","\t)","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"A small bounce, like around 15%, doesn’t feel very bouncy. For larger bounce values like 30%, you do start to feel some noticeable bounciness. You should be cautious about using values higher than around 0.4, since they may feel too exaggerated for a UI element."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"When you’re not sure, use a spring with bounce 0, which is also what you get if you don’t specify the bounce. This gives you a great general purpose spring that’s the most versatile. Bounce can make sense when you want an animation to feel more physical."}]},{"anchor":"Written-By","level":2,"text":"Written By","type":"heading"},{"numberOfColumns":5,"columns":[{"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"kyaw-codes"}]}],"size":1},{"content":[{"text":"Kyaw Zay Ya Lin Tun","level":3,"anchor":"Kyaw-Zay-Ya-Lin-Tun","type":"heading"},{"inlineContent":[{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/kyaw-codes","isActive":true,"overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}],"type":"reference","overridingTitle":"Contributed Notes"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/github.com\/kyaw-codes","isActive":true,"type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/x.com\/KyawTheMonkey","isActive":true,"type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/kyaw-codes.github.io\/","type":"reference","isActive":true}],"type":"paragraph"}],"size":4}],"type":"row"},{"type":"paragraph","inlineContent":[{"text":"Missing anything? Corrections? ","type":"text"},{"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"reference","isActive":true}]},{"anchor":"Related-Sessions","level":2,"text":"Related Sessions","type":"heading"},{"style":"list","type":"links","items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10055-Whats-new-in-UIKit","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10148-Whats-new-in-SwiftUI","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10156-Explore-SwiftUI-animation"]},{"type":"small","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Legal Notice"}]}]},{"type":"small","inlineContent":[{"type":"text","text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved."},{"type":"text","text":" "},{"type":"text","text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries."},{"type":"text","text":" "},{"type":"text","text":"This website is not made by, affiliated with, nor endorsed by Apple."}]}]}],"metadata":{"role":"sampleCode","roleHeading":"WWDC23","title":"Animate with springs","modules":[{"name":"WWDC Notes"}]},"references":{"https://developer.apple.com/wwdc23/10158":{"identifier":"https:\/\/developer.apple.com\/wwdc23\/10158","url":"https:\/\/developer.apple.com\/wwdc23\/10158","checksum":null,"type":"download"},"kyaw-codes":{"identifier":"kyaw-codes","type":"image","alt":"Profile image of Kyaw Zay Ya Lin Tun","variants":[{"traits":["1x","light"],"url":"\/images\/kyaw-codes.jpeg"}]},"doc://WWDCNotes/documentation/WWDCNotes/kyaw-codes":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/kyaw-codes","url":"\/documentation\/wwdcnotes\/kyaw-codes","role":"sampleCode","images":[{"identifier":"kyaw-codes.jpeg","type":"card"},{"identifier":"kyaw-codes.jpeg","type":"icon"}],"type":"topic","kind":"article","abstract":[{"text":"Senior iOS Developer @sgcodigo | Programming Mentor | Swift enthusiast","type":"text"}],"title":"Kyaw Zay Ya Lin Tun (3 notes)"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10156-Explore-SwiftUI-animation":{"kind":"article","role":"sampleCode","type":"topic","title":"Explore SwiftUI animation","abstract":[{"text":"Explore SwiftUI’s powerful animation capabilities and find out how these features work together to produce impressive visual effects. Learn how SwiftUI refreshes the rendering of a view, determines what to animate, interpolates values over time, and propagates context for the current transaction.","type":"text"}],"url":"\/documentation\/wwdcnotes\/wwdc23-10156-explore-swiftui-animation","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10156-Explore-SwiftUI-animation"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10148-Whats-new-in-SwiftUI":{"url":"\/documentation\/wwdcnotes\/wwdc23-10148-whats-new-in-swiftui","abstract":[{"type":"text","text":"Learn how you can use SwiftUI to build great apps for all Apple platforms. Explore the latest updates to SwiftUI and discover new scene types for visionOS. Simplify your data models with the latest data flow options and learn about the Inspector view. We’ll also take you through enhanced animation APIs, powerful ScrollView improvements, and a host of refinements to help you make tidier tables, improve focus and keyboard input, and so much more."}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10148-Whats-new-in-SwiftUI","role":"sampleCode","title":"What’s new in SwiftUI","type":"topic","kind":"article"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23":{"role":"collectionGroup","abstract":[{"text":"Xcode 15, Swift 5.9, iOS 17, macOS 14 (Sonoma), tvOS 17, visionOS 1, watchOS 10.","type":"text"},{"text":" ","type":"text"},{"text":"New APIs: ","type":"text"},{"code":"SwiftData","type":"codeVoice"},{"type":"text","text":", "},{"type":"codeVoice","code":"Observation"},{"type":"text","text":", "},{"type":"codeVoice","code":"StoreKit"},{"type":"text","text":" views, and more."}],"kind":"article","url":"\/documentation\/wwdcnotes\/wwdc23","type":"topic","images":[{"identifier":"WWDC23-Icon.png","type":"icon"},{"identifier":"WWDC23.jpeg","type":"card"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23","title":"WWDC23"},"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"link","title":"Contributions are welcome!","titleInlineContent":[{"text":"Contributions are welcome!","type":"text"}]},"https://kyaw-codes.github.io/":{"identifier":"https:\/\/kyaw-codes.github.io\/","url":"https:\/\/kyaw-codes.github.io\/","type":"link","title":"Blog","titleInlineContent":[{"text":"Blog","type":"text"}]},"doc://WWDCNotes/documentation/WWDCNotes/WWDC23-10055-Whats-new-in-UIKit":{"abstract":[{"text":"Explore enhancements and updates to UIKit and learn how to build better iOS, iPadOS, and Mac Catalyst apps. We’ll show you the latest features and improvements in UIKit and share API refinements, performance improvements, and much more.","type":"text"}],"kind":"article","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC23-10055-Whats-new-in-UIKit","role":"sampleCode","type":"topic","title":"What’s new in UIKit","url":"\/documentation\/wwdcnotes\/wwdc23-10055-whats-new-in-uikit"},"https://x.com/KyawTheMonkey":{"identifier":"https:\/\/x.com\/KyawTheMonkey","url":"https:\/\/x.com\/KyawTheMonkey","type":"link","title":"X\/Twitter","titleInlineContent":[{"text":"X\/Twitter","type":"text"}]},"WWDCNotes.png":{"identifier":"WWDCNotes.png","type":"image","alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes.png"}]},"doc://WWDCNotes/documentation/WWDCNotes":{"type":"topic","abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"images":[{"type":"icon","identifier":"WWDCNotes.png"}],"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","kind":"symbol","url":"\/documentation\/wwdcnotes","title":"WWDC Notes","role":"collection"},"kyaw-codes.jpeg":{"identifier":"kyaw-codes.jpeg","type":"image","alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/kyaw-codes.jpeg"}]},"WWDC23.jpeg":{"identifier":"WWDC23.jpeg","type":"image","alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23.jpeg"}]},"https://github.com/kyaw-codes":{"identifier":"https:\/\/github.com\/kyaw-codes","url":"https:\/\/github.com\/kyaw-codes","type":"link","title":"GitHub","titleInlineContent":[{"text":"GitHub","type":"text"}]},"WWDC23-Icon.png":{"identifier":"WWDC23-Icon.png","type":"image","alt":null,"variants":[{"traits":["1x","light"],"url":"\/images\/WWDC23-Icon.png"}]}}}