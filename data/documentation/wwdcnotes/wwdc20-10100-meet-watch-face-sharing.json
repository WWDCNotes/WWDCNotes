{"metadata":{"role":"sampleCode","title":"Meet Watch Face Sharing","roleHeading":"WWDC20","modules":[{"name":"WWDC Notes"}]},"sampleCodeDownload":{"action":{"type":"reference","identifier":"https:\/\/developer.apple.com\/wwdc20\/10100","overridingTitle":"Watch Video (14 min)","isActive":true},"kind":"sampleDownload"},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10100-Meet-Watch-Face-Sharing"},"kind":"article","schemaVersion":{"major":0,"patch":0,"minor":3},"abstract":[{"type":"text","text":"Show off your watchOS app’s complications and create a watch face worth sharing. Learn how to share watch faces inside your watchOS and iOS apps or host them on the web for anyone to find and download. We’ll also explore best practices for using watch face preview images, and show you how to create a smooth installation experience."}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/wwdcnotes\/wwdc20-10100-meet-watch-face-sharing"]}],"primaryContentSections":[{"content":[{"text":"Overview","type":"heading","level":2,"anchor":"overview"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Face sharing is the ability to share a watch face with anyone (requires a Series 3 or later)."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Watch faces include complication data."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"if you include a complication in the watch face that the user doesn’t have, they will be prompted to install the missing apps when they add the face.","type":"text"}],"type":"paragraph"}]}]},{"anchor":"Watch-face-distribution","text":"Watch face distribution","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"Watch faces can be shared:"}]},{"items":[{"content":[{"inlineContent":[{"text":"directly from the watch by long-pressing on your face and tapping the new “share” button.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"from the Watch.app"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"from apps and websites"}]}]}],"type":"unorderedList"},{"anchor":"Watch-face-file","text":"Watch face file","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"A "},{"code":".watchface","type":"codeVoice"},{"type":"text","text":" file contains everything that there’s in a watch face:"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Face type","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Color, styles"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Complications","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"…","type":"text"}]}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"text":"It also includes default settings for complications (e.g. a selected city for a weather widget etc). When sharing a face you can choose which data is shared.","type":"text"}]},{"anchor":"Embedded-face-sharing-implementation","text":"Embedded face sharing implementation","type":"heading","level":2},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Generate a watch face with your app complication (your app needs to be live in the store for this)"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"import watch face file and preview into the project (do not put them in an assets catalog)"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"prompt the user to add the face"}],"type":"paragraph"}]}],"type":"orderedList"},{"anchor":"Check-if-a-watch-is-paired","text":"Check if a watch is paired","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"text":"You should offer the user to add a watch face only if the user has a paired watch, you can check so with the following:","type":"text"}]},{"code":["var isPaired: Bool {","    if (WCSession.isSupported()) {","        let session = WCSession.default","        session.delegate = self","        session.activate()","        return session.isPaired","    } else {","        return false","    }","}"],"syntax":"swift","type":"codeListing"},{"anchor":"Prompt-the-user-to-add-a-face","text":"Prompt the user to add a face","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"text":"Use ","type":"text"},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/clockkit\/clkwatchfacelibrary\/3601124-addwatchface"},{"text":" to prompt the user to add a watch face (api available on both iOS and watchOS):","type":"text"}]},{"code":["private func addFaceWrapper(withName: String) {","    if let watchfaceURL = Bundle.main.url(forResource: withName, withExtension: \"watchface\") {","        CLKWatchFaceLibrary().addWatchFace(at: watchfaceURL, completionHandler: {","            (error: Error?) in","            if let nsError = error as NSError?, nsError.code == CLKWatchFaceLibrary.ErrorCode.faceNotAvailable.rawValue {","                print(nsError)","            }","            isLoading = false","        })","    }","}"],"syntax":"swift","type":"codeListing"},{"anchor":"Website-distribution","text":"Website distribution","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"Host and link to the "},{"code":".watchface","type":"codeVoice"},{"type":"text","text":" file with MIME type "},{"code":"application\/vnd.apple.watchface","type":"codeVoice"},{"type":"text","text":"."}]},{"anchor":"Written-By","text":"Written By","type":"heading","level":2},{"numberOfColumns":5,"type":"row","columns":[{"content":[{"inlineContent":[{"type":"image","identifier":"zntfdr"}],"type":"paragraph"}],"size":1},{"content":[{"anchor":"Federico-Zanetello","text":"Federico Zanetello","type":"heading","level":3},{"inlineContent":[{"overridingTitleInlineContent":[{"type":"text","text":"Contributed Notes"}],"overridingTitle":"Contributed Notes","isActive":true,"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"isActive":true,"identifier":"https:\/\/github.com\/zntfdr","type":"reference"},{"text":" ","type":"text"},{"text":"|","type":"text"},{"text":" ","type":"text"},{"isActive":true,"identifier":"https:\/\/zntfdr.dev","type":"reference"}],"type":"paragraph"}],"size":4}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Missing anything? Corrections? "},{"type":"reference","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","isActive":true}]},{"anchor":"Related-Sessions","text":"Related Sessions","type":"heading","level":2},{"items":["doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10046-Create-complications-for-Apple-Watch","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10048-Build-complications-in-SwiftUI","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10049-Keep-your-complications-up-to-date"],"type":"links","style":"list"},{"type":"small","inlineContent":[{"inlineContent":[{"type":"text","text":"Legal Notice"}],"type":"strong"}]},{"type":"small","inlineContent":[{"text":"All content copyright © 2012 – 2024 Apple Inc. All rights reserved.","type":"text"},{"text":" ","type":"text"},{"text":"Swift, the Swift logo, Swift Playgrounds, Xcode, Instruments, Cocoa Touch, Touch ID, FaceID, iPhone, iPad, Safari, Apple Vision, Apple Watch, App Store, iPadOS, watchOS, visionOS, tvOS, Mac, and macOS are trademarks of Apple Inc., registered in the U.S. and other countries.","type":"text"},{"text":" ","type":"text"},{"text":"This website is not made by, affiliated with, nor endorsed by Apple.","type":"text"}]}],"kind":"content"}],"sections":[],"hierarchy":{"paths":[["doc:\/\/WWDCNotes\/documentation\/WWDCNotes","doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20"]]},"references":{"https://wwdcnotes.com/documentation/wwdcnotes/contributing":{"title":"Contributions are welcome!","identifier":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","type":"link","url":"https:\/\/wwdcnotes.com\/documentation\/wwdcnotes\/contributing","titleInlineContent":[{"text":"Contributions are welcome!","type":"text"}]},"zntfdr":{"alt":"Profile image of Federico Zanetello","identifier":"zntfdr","variants":[{"traits":["1x","light"],"url":"\/images\/zntfdr.jpeg"}],"type":"image"},"WWDC20-Icon.png":{"alt":null,"identifier":"WWDC20-Icon.png","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC20-Icon.png"}],"type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10049-Keep-your-complications-up-to-date":{"role":"sampleCode","title":"Keep your complications up to date","abstract":[{"type":"text","text":"Time is of the essence: Discover how your Apple Watch complications can provide relevant information throughout the day and help people get the information they need, when they need it. Learn best practices for capitalizing on your app’s runtime opportunities, incorporating APIs like background app refresh and URLSession, and implementing well-timed push notifications."}],"url":"\/documentation\/wwdcnotes\/wwdc20-10049-keep-your-complications-up-to-date","kind":"article","type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10049-Keep-your-complications-up-to-date"},"doc://WWDCNotes/documentation/WWDCNotes":{"images":[{"type":"icon","identifier":"WWDCNotes.png"}],"type":"topic","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes","title":"WWDC Notes","kind":"symbol","abstract":[{"type":"text","text":"Session notes shared by the community for the community."}],"url":"\/documentation\/wwdcnotes","role":"collection"},"https://developer.apple.com/documentation/clockkit/clkwatchfacelibrary/3601124-addwatchface":{"title":"addWatchFace(at:completionHandler:)","identifier":"https:\/\/developer.apple.com\/documentation\/clockkit\/clkwatchfacelibrary\/3601124-addwatchface","type":"link","url":"https:\/\/developer.apple.com\/documentation\/clockkit\/clkwatchfacelibrary\/3601124-addwatchface","titleInlineContent":[{"type":"codeVoice","code":"addWatchFace(at:completionHandler:)"}]},"https://developer.apple.com/wwdc20/10100":{"checksum":null,"identifier":"https:\/\/developer.apple.com\/wwdc20\/10100","type":"download","url":"https:\/\/developer.apple.com\/wwdc20\/10100"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10046-Create-complications-for-Apple-Watch":{"title":"Create complications for Apple Watch","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10046-Create-complications-for-Apple-Watch","kind":"article","role":"sampleCode","type":"topic","abstract":[{"text":"When you add complications to a Watch app, people can access glanceable and up to date information directly from their watch face. We’ll show you how to create and build complications from the ground up and introduce you to Multiple Complications. Learn how to construct timelines, use families and templates, and discover best practices on crafting a thorough complication experience.","type":"text"}],"url":"\/documentation\/wwdcnotes\/wwdc20-10046-create-complications-for-apple-watch"},"https://github.com/zntfdr":{"title":"GitHub","identifier":"https:\/\/github.com\/zntfdr","type":"link","url":"https:\/\/github.com\/zntfdr","titleInlineContent":[{"text":"GitHub","type":"text"}]},"WWDC20.jpeg":{"alt":null,"identifier":"WWDC20.jpeg","variants":[{"traits":["1x","light"],"url":"\/images\/WWDC20.jpeg"}],"type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20-10048-Build-complications-in-SwiftUI":{"abstract":[{"type":"text","text":"Spice up your graphic complications on Apple Watch using SwiftUI. We’ll teach you how to use custom SwiftUI views in complications on watch faces like Meridian and Infograph, look at some best practices when creating your complications, and show you how to preview your work in Xcode 12."}],"type":"topic","url":"\/documentation\/wwdcnotes\/wwdc20-10048-build-complications-in-swiftui","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20-10048-Build-complications-in-SwiftUI","role":"sampleCode","kind":"article","title":"Build complications in SwiftUI"},"https://zntfdr.dev":{"title":"Blog","identifier":"https:\/\/zntfdr.dev","type":"link","url":"https:\/\/zntfdr.dev","titleInlineContent":[{"text":"Blog","type":"text"}]},"zntfdr.jpeg":{"alt":null,"identifier":"zntfdr.jpeg","variants":[{"traits":["1x","light"],"url":"\/images\/zntfdr.jpeg"}],"type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/zntfdr":{"url":"\/documentation\/wwdcnotes\/zntfdr","role":"sampleCode","kind":"article","title":"Federico Zanetello (332 notes)","identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/zntfdr","abstract":[{"text":"Software engineer with a strong passion for well-written code, thought-out composable architectures, automation, tests, and more.","type":"text"}],"images":[{"identifier":"zntfdr.jpeg","type":"card"},{"identifier":"zntfdr.jpeg","type":"icon"}],"type":"topic"},"WWDCNotes.png":{"alt":null,"identifier":"WWDCNotes.png","variants":[{"traits":["1x","light"],"url":"\/images\/WWDCNotes.png"}],"type":"image"},"doc://WWDCNotes/documentation/WWDCNotes/WWDC20":{"identifier":"doc:\/\/WWDCNotes\/documentation\/WWDCNotes\/WWDC20","title":"WWDC20","type":"topic","kind":"article","images":[{"identifier":"WWDC20-Icon.png","type":"icon"},{"identifier":"WWDC20.jpeg","type":"card"}],"role":"collectionGroup","url":"\/documentation\/wwdcnotes\/wwdc20","abstract":[{"text":"Xcode 12, Swift 5.3, iOS 14, macOS 11 (Big Sur), tvOS 14, watchOS 7.","type":"text"},{"text":" ","type":"text"},{"text":"New APIs: ","type":"text"},{"code":"WidgetKit","type":"codeVoice"},{"text":", ","type":"text"},{"code":"StoreKit Testing","type":"codeVoice"},{"text":", and more.","type":"text"}]}}}